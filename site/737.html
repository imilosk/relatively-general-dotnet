
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 737 &#x2022; Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="/pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline underline"
               href="index.html"> Home </a><a
                aria-current="" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline " href="about.html">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>


<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-7361">
            <a href="https://ardalis.com/visual-studio-team-suite-2008-available/" target="_blank">
                <h2 class="title mb-6" id="article-7361">Visual Studio Team Suite 2008 Available</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 19, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Visual Studio Team Suite 2008 is now available to MSDN Subscribers (a fact which is apparently well known, since the server seems to be&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-7362">
            <a href="https://ayende.com/blog/2961/geek-scripture" target="_blank">
                <h2 class="title mb-6" id="article-7362">Geek Scripture</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 19, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">At first, there was the bit. And the bit shifted left, and the bit shifted right, and there was the byte. The byte grew into a word, and then into double word. And the developer saw the work and it was good. And the evening and the morning were the first day. On the next day, the developer came back to the work and couldn&#x2019;t figure out what he was thinking last night, and spent the whole day figuring that out.</p>
        </article>
        <article id="article-7363">
            <a href="https://ayende.com/blog/2960/a-false-sense-of-security" target="_blank">
                <h2 class="title mb-6" id="article-7363">A false sense of security</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 18, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">After reading my post about enterprise security infrastructure, Comlin asks:  Ayende, What would you say if I give you a real world scenario:1. Server running Microsoft Windows hosts a web site which includes your security features.2. Separate server hosts database. Well, common thing isn&#x27;t it?We are pretty sure that the first server(it&#x27;s on the Internet) would be hacked sooner or later and the hacker will acquire admin privileges. And all we have is your &quot;entity security&quot; inside the BL, who needs it anyway, you will take the connection string and perform all the malicious actions inside the database! I see two ways to handle this situation: developing an app server to process queries or building security infrastructure inside DB using stored procedures or row-level security. What do you think? Let us go through several of those iterations&#xA0;in turn, shall we?  First, I disagree with the implicit assumption that it will essentially be broken, and broken with admin privileges. But even then... Well, getting admin access to the box doesn&#x27;t mean that you get my connection string, by no means.&#xA0;That connection string is DPAPI-ed encrypted and keyed to the user running the application. Even as admin, you have no way to get that out.  Nevertheless, let us assume that a nefarious person did get their hands on a connection string to my database, one that had read and write access. Well, what can it do? Well, doing something like &quot;UPDATE Sales SET TotalSales&#xA0;= TotalSales&#xA0;* 100 WHERE UserId = @myUserId&quot;, and get a hefty commission all of a sudden. But is there really a way to stop it at this point? It seems to me like at that point, anything more it basically pointless, it is closing the doors with the fox in the coop. Let us take into account the idea of using stored procedures, shall we. What extra security measure do we get from that? The user is already in possession of a connection string with privileges to do things in the database. They can now do things like &quot;while @count&#xA0; &lt; 100 exec AddSaleTo @myUserId&quot;. Oh, you solve that by using windows authentication all the way to the database, and validate permissions on the logged on user? Well, to do that, the web server must also be marked as trusted for delegation. Which means that if the &quot;hacked&quot; server tells the DB to think that it is Super Mario, it will believe it. Row level security is bad for the same reasoning as before,&#xA0; but it has an additional twist. Doing security in the database level utterly exclude the option to cache data. That is bad, really bad.  &#xA0; Then you have the idea of an application server in the middle. Now we have a bit more structure, we may even be able to do some business logic testing on the incoming requests, but, and this is the critical part. The application server has no way to know that the web server was hacked. As far as it is concerned, those requests now being made to it are valid ones, and it will try to honor the thousands AddSaleToUserMessage coming its way. Now, you could structure you application in such a way that nothing trusted anything else, but that is not a good way to structure an application. To be rather exact, the cost of untrusting the inner circle is very high. Both in terms of the effort involved and as a result of the design, which would be awkward to work with long term. Now, the diagram here is fairly typical, I would assume, in fact, this is how OS security is built, by having a trusted kernel. The kernel cannot protect itself from itself. That is why rootkits are possible. And, like rootkits demonstrate, it contains a very problematic flaw, you cannot ensure that all the nodes will remain trustworthy. And when one of them turns red, it is endgame. A better approach would be to go with the firewall approach, with the external application explicitly not trusted by the internal one, and all communication be inspected for suspicious activities.  &#xA0;  You can imagine it a little the diagram to the right. This is another typical architecture design. This time we are going with the application server route, with a firewall (or an application firewall) in the middle. That point of yellow is an inspection port, in addition to the usual checks a firewall will make, this inspection port will try to analyze the request with a more domain knowledge. It can then trigger alarms or deny access if it suspect that the external application is behaving strangely. Such things that might trigger it are malformed business requests, too much focus on a single item (such as trying to add sales to a salesperson), etc. Then again, something else that would trigger it might be a data entry clerk that is typing really fast, or a simply sale on the site that means that a lot of people are suddenly buying this one item, etc, etc. Something that I would definitely be interested to have is an audit trail, so I can revert changes if needed, or at least follow their logic. In the end, there really isn&#x27;t a one good way to secure an application, this requires cooperation from developers, IT, networking, etc. If there was, everyone was using it. And while I do believe in defense in depth, I also believe that once the king is taken, the game is over. Starting with the premise that the attacker has gained an admin control over one of your machine is not a start that you want to be in.</p>
        </article>
        <article id="article-7364">
            <a href="https://ayende.com/blog/2959/killer-applications-gmail-vs-outlook-web-access" target="_blank">
                <h2 class="title mb-6" id="article-7364">Killer Applications: Gmail vs. Outlook Web Access</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 18, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">It came up in a conversation today. Gmail &amp; OWA are doing much the same thing, using much the same technologies. Yet it was Gmail who was the Ajax killer application, not OWA. Why?</p>
        </article>
        <article id="article-7365">
            <a href="https://ayende.com/blog/2958/a-vision-of-enterprise-platform-security-infrastructure" target="_blank">
                <h2 class="title mb-6" id="article-7365">A vision of enterprise platform</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 17, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I have been asked how I would design a security infrastructure for my vision of an enterprise platform, and here is an initial draft of the ideas. As anything in this series, no actual code was written down to build them. What I am doing is going through the steps that I would usually go before I actually sit down and implement something.  While most systems goes for the Users &amp; Roles metaphor, I have found that this is rarely a valid approach in real enterprise scenarios. You often want to do more than just the users &amp; roles, such as granting and revoking permissions from individuals, business logic based permissions, etc.  What are the requirements for this kind of an infrastructure?  Performant Human understandable  Flexible Ability to specify permissions using the following scheme:  On a  Group Individual users Based on  Entity Type Specific Entity Entity group Let us give a few scenarios and then go over how we are going to solve them, shall we?  A helpdesk&#xA0;representative can view account data, cannot edit it. The helpdesk representative also cannot view the account&#x27;s projected revenue. Only managers can handle accounts marked as &quot;Special Care&quot; A team leader can handle all the cases handled by members in the team, team members can handle only their own cases. The security infrastructure revolves around this interface:   The IsAllowed purpose should be clear, I believe, but let us talk a bit about the AddPermissionsToQuery part, shall we? Once upon a time, I built a system that had a Security Service, that being a separate system running on a different machine. That meant that in order to find out if the user had permission to perform some action, I had to send the security service the entity type, id and the requested operation. This worked, but it was problematic when we wanted to display the user more than&#xA0;a single entity at a time. Because the system was external, we couldn&#x27;t involve it in the query directly, which meant that we had to send the entire result set to the external service for filtering. Beyond the performance issue, there is another big problem, we had no way to reliability perform paged queries, the service could&#xA0;decide to chop up 50% of the returned results, and we would need to compensate for that somehow. That wasn&#x27;t fun, let me tell you that. So,&#xA0;the next application that I&#xA0;built, I used a different&#xA0;approach. Instead of an external security service, I had an internal one,&#xA0;and I could send all my&#xA0;queries through it. The security service would enhance the query so permissions would be observed, and everything just worked. It was very&#xA0;good to observe. In that case, we had a lot of methods that did it, because we had a custom security infrastructure. In this case, I think we can get away with a single AddPermissionsToQuery method, since the security infrastructure in place is standardize. Now, why do we have a Why method there? Pretty strange method, that one, no? Well, yes, it is. But this is also something that came up through painful experience. In any security system of significant complexity, you would have to ask yourself questions such as: &quot;Why does this user see this information&quot; and &quot;Why can&#x27;t I see this information&quot; ?  I remember once getting a Priority Bug that some users were not seeing information that they should see, and I sat there and looked at it, and couldn&#x27;t figure out how they got to that point. After&#xA0;we gave up understanding on our own, we started debugging it, and we reproduced the &quot;error&quot; on our machines. After stepping through it for ten or twenty times, it suddenly hit me, the system was doing exactly what it was supposed to do. I stepped over the line that did it in each and every one of the times that I debugged it, but I never noticed it.  You really want transparency in such a system, because &quot;Access Denied&quot; is about the second most annoying error to debug, if the system will give you no further information. Now, I am going to show you the table structure, this is not fixed in stone, and don&#x27;t try to read too much into seeing a table model here. It simply make it easier to follow the connections that a class diagram would.   Let us go over some of the concepts that we have here, shall we? Users &amp; Groups should be immediately obvious, let us focus for a moment on the Operations and Permissions. What is an operation? Operation is an action that can happen in the application. Examples of operations are:  Account.View Account.Edit Account.ProjectedRevenue.View Account.ProjectedRevenue.Edit Account.Assign Account.SendEmail As you can see, we have a fairly simple convention here. [Entity].[Action] and [Entity].[Field].[Action], this allows me to specify granular permissions in a very easy to grok fashion. The above mentioned operations are entity-based operations, they operate on a single entity instance at a time. We also have feature-based operations, such as:  Features.HelpDesk Features.CustomerPortal Those operate without an object to verify on, and are a way to turn on/off permissions for an entire section of the application. Since some operations are naturally grouped together, we also have relations between operations, so we will have the &quot;Account&quot; operation, which will include the &quot;Account.Edit&quot;, &quot;Account.View&quot; as children. If you are granted the Account operation on an entity, you automatically get the &quot;Account.Edit&quot; and &quot;Account.View&quot; on the entity as well.  This makes the design somewhat more awkward, because now we need to go through two levels of operations to find the correct one, but it is not a big deal, since we are going to be smart about how we do it. Permissions are the set of allowed / revoked permissions for an operation on an EntitySecurityKey (will be immediately explained) which is associated with Group, User or EntityGroup. A simple example may be something like:  For User &quot;Ayende&quot;, Allow &quot;Account&quot; on the &quot;Account Entity&quot; EntitySecurityKey, Importance 1 For Group &quot;Managers&quot;, Revoke &quot;Case.Edit&quot; on &quot;Case Entity&quot; EntitySecurityKey, Importance 1 For Group &quot;Users&quot;, Revoke &quot;Account.Edit&quot; on &quot;Important Accounts Entity Group&quot; EntitySecurityKey, Importance 1 For Group &quot;Managers&quot;, Allow &quot;Account.Edit&quot; on &quot;Important Accounts Entity Group&quot; EntitySecurityKey, Importance 10 For User &quot;Bob from Northwind&quot;, Revoke &quot;Account&quot; on &quot;Northwind Account&quot;&#xA0; EntitySecurityKey, Importance 1 The algorithm for IsAllowed(account, &quot;Account.Edit&quot;, user) is something like this, get all the operations relevant to the current entity, default to deny access, then check operations. Revoke operation gets a &#x2B;1, so it is more important than an Allow operation in the same level. Or in pseudo code (ie, doesn&#x27;t really handle all the complexity involved): bool isAllowed = false;&#xA;int isAllowedImportance = 0;&#xA;foreach(Operation operation in GetAllOperationsForUser(user, operationName, entity.EntitySecurityKey))&#xA;{&#xA;&#x9;bool importance = operation.Importance;&#xA;&#x9;if(operation.Allow == false)&#xA;&#x9;&#x9;importance &#x2B; 1; &#xA;&#x9;if ( isAllowedimportance &lt;  )&#xA;&#x9;{&#xA;&#x9;&#x9;isAllowed = operation.Allow;&#xA;&#x9;&#x9;isAllowedimportance = operation.Importance;&#xA;&#x9;}&#xA;}&#xA;return isAllowed;&#xA;As you had probably noticed already, we have the notion of an Entity Security Key, what is that?&#xA;Well, when you define an entity you also need to define its default security, this way, you can specify who can view and edit it. Then, we we create an entity, its EntitySecurityKey is copied from the default one. If we want to set special permissions on a specific entity, we will create a copy of all the current permissions on the entity type, and then edit that, under a different EntitySecurityKey, which is related to its parent.&#xA;All the operations in the child EntitySecurityKey are automatically more important then the ones in the parent EntitySecurityKey, regardless of the important score that the parent operations has.&#xA;In addition to all of that, we also have the concept of an EntityGroup to consider. Permissions can be granted and revoked on an Entity Group, and those are applicable to all the entities that are member in this group. This way, business logic that touches permissions doesn&#x27;t need to be scattered all over the place, when a state change affects the permissions on an entity, it is added or removed to an entity group, which has a well known operations defined on it.&#xA;Now that you probably understand the overall idea, let us talk about what problem do we have with this approach.&#xA;Performance&#xA;The security scheme is complex, and of the top of my head, given all the variables, I can&#x27;t really think of a single query that will answer it for me. The solution for that, like in all things, it to not solve the complex problem, but to break it down to easier problems.&#xA;The first thing that we want to consider is what kind of question are we asking the security system. Right now, I am thinking that the IsAllowed method should have the following signatures:&#xA;&#xA;public bool IsAllowed(Operation, User, Entity);public bool IsAllowed(Operation, User);&#xA;This means that the question that we will always ask is &quot;Does &#x27;User&#x27; have &#x27;Operation&#x27; on &#x27;Entity&#x27;?&quot;, and &quot;Does &#x27;User&#x27; have &#x27;Operation&#x27;?&quot;. The last is applicable for feature based operations only, of course.&#xA;So, given that this is the question we have, how can we answer this efficiently? Let us try to take the above mentioned table structure and de-normalize it to make queries more efficient. My first attempt is this:&#xA; &#xA;This allows you to very easily query by the above semantics, and get all the required information in a single go. &#xA;A lot of the rules that I have previously mentioned will already be calculated in advance when we write to this table, so we have a far simpler scenario when we come to check the actual permissions.&#xA;For instance, the EntitySecurityKey that we send is always the one on the Entity, so the DenormalizedPermissions table will always have the permissions from the parent EntitySecurityKey copied with pre calculated values.&#xA;Since everything is based around the EntitySecurityKey, we also have&#xA0;a very simple time when it comes to updating this table.&#xA;All we need to do it rebuilt the permissions for this particular EntitySecurityKey. &#xA;This makes things much easier, all around.&#xA;&#xA0;&#xA;Querying&#xA;What this means, in turn, is that we have the following query to issue when we come to check permissions:&#xA;&#xA;SELECT dp.Allow, dp.Importance FROM DenormalizedPermission dpWHERE&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;dp.EntitySecurityKey = :EntitySecurityKeyAND&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dp.Operation = :OperationAND&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; (dp.User = :User OR dp.Group IN (@UserGroups)&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OR EntityGroup IN (@EntityGroups) )&#xA;All we need to do before the query is to find out all the groups that the user belongs to, directly or indirectly, and all the Entity Groups that the entity belongs to.&#xA;When it comes down to check a feature-base operation, we can issue the same query, sans the EntitySecurityKey, and we are done.&#xA;Another important consideration is the ability to cache this sort of query. Since we will probably make a lot of those, and since we are probably also going to want to have immediate response to changes in security, caching is important, and write-through caching layer can do wonder for making this optimized. &#xA;What is missing&#xA;Just to note: this is not complete, I can think of several scenarios that this has no answer for, from the Owner can do things other cannot&#xA0;to supporting permissions if the organization unit is identical for the entity and the user. However, adding those is fairly easy to build within the system, all we need to do is define an action that would add the owner&#x27;s permissions explicitly to the entity, and remove it when they are changed. The same can be done for entities in an organization unit, you would have the group of users in Organization Unit Foo and the Entity Group of entities in Organization Unit Foo, which will have a permission set for that group.&#xA;Final thoughts&#xA;This turned out to be quite a bit longer than anticipated, waiting expectantly for you, dear reader, to tell me how grossly off I am.&#xA;Next topics:&#xA;&#xA;Hot deployments and distributed deployments&#xA;A database that doesn&#x27;t make you cry&#xA;Supporting upgrades&#xA;Platform I/O - integration with the rest of the enterprise</p>
        </article>
        <article id="article-7366">
            <a href="https://ayende.com/blog/2957/a-vision-of-enterprise-platform" target="_blank">
                <h2 class="title mb-6" id="article-7366">A vision of enterprise platform</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 17, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">A while ago I asked what kind of constraint an enterprise platform should deal with, I have been thinking about this ever since. Let us go over the list of constraints that have been brought up, and then I am going to discuss how I think about solving them.  Extensible in an easy manner - note that this holds for business analysts and for developers, both are groups that are likely to do work on the system. Ideally we can have some sort of a common interface that would make both people happy.   New entities  User Interface:   Forms  UI elements  Editing existing forms Replacing core services Upgradable - We want to allow the users to move from version 2.0 to 3.0 without having to re-write everything. This means that we need to make clear what we allow the user to do to the system if they want to have a successful upgrade.  Auditable - I don&#x27;t suppose that I have to explain why, right?  Performant - well, it should. Considering the other contestant, that could be a major selling point.  Scalable - I want to be able to scale wide, so the CRM can scale as I add more servers.  IT friendly - expose state in a way that makes sense to the admin, allows monitoring and tracing easily, dashboard, interactive console.  Scriptable  Security - both for features and for the data  Data integration - allow to easily get and extract data from the system, including in bulk.  Hostable - can be run in a datacenter, can have multiple instances on a single machine securely  Easily Migratable - Data/Plugins/Code needs to be easily migratable/promotable from Development to Test to Production  Easily Comparable - I know my Production and Test environment are exactly the same (except for the data)... aren&#x27;t they?  Exportable/Importable - I&#x27;ll back it up to a file, import it onto a new server. Change a few settings like hostname and connection strings and have a clone site for whatever nefarious purposes.  Xcopy Deployable&#xA0; - Well, as much as possible anyway  Easy Backup/Restore process  Customizable layout I should point out, again, this is a theoretic exercise, but I am willing to stand by the assertion that I am making here. Everything is both possible and not too hard. In addition to the above mentioned constraints, there is also my post about Evaluating a Business Platform, the list of requirements from this post has some duplication with the constraints, naturally, but they also deserve a mention:  Source Control - should be easy, simple and painless.  Ease of deployment  Debuggable - easily  Testable - easily  Automation of deployment  Separation of Concerns  Don&#x27;t Repeat Yourself  Doesn&#x27;t shoot me in the foot  Make sense - that is hard to explain, but it should be obvious&#xA0;what is going on there  Possible to extend - hacks are not something that I enjoy doing I am going to just go through the solution I have in mind, and point out how it answers the constraints above.  First of all, we are talking about a web application, that is much easier than a client/server system, although that is an option as well. As such, I am going to use my default architecture here. This means that in terms of technology, we are going to be based on NHibernate and ActiveRecord for data access, MonoRail for a web framework, Windsor as a core concept and Binsor to configure it.  Why this stack? Because it is familiar to me, performant, extensible, easy to scale from the simple demo app to a complex enterprise applications and promote good practices. The main concepts are change management (source control), distributed deployment and a tiny core that can be extend upon by the users. The core handles such things as managing the application state and&#xA0;displaying the UI, etc. Anything else, including all the core services are handled via extensions. From a deployment perspective, here is what I envision:  One of the more important ideas is the ability to run multiply instances of the application on the same machine. This ensure that it is a developer friendly application, not one that attempts to take over the entire machine. The diagram paints the extreme case, obviously we can collapse all of those into the same machine. You note that caching is built directly into the deployment design, this is because I intend to make heavy use of it for making the application scalable. Another interesting thing to note is the SCM server as an underlying concept. Deployment in this application is done by committing a change to the /production branch. This gives you some nice benefits out of the box, auditing all the changes in the application, for one, as well as very easy way to push changes to production, using well known and debugged tools. It also means that it is trivial to work in a team and that branching is not an issue. The ASync server is to handle long running tasks, from batch processes to workflows to ETL processes. Each application gets two databases (probably more, as a matter of fact, I skipped a logging &amp; auditing DB, which I like to keep separate). One is for the application to manage itself, the second is for the actual data that you put inside.  I am not sure about the read only copies, though. Probably this is something that is better off handled by the database itself, using master/slaves arrangement. I have started from the deployment diagram on purpose, because it is a good overview of the concepts that we are having. Source control and auditing are checked. Scalability through throwing cheap machines at it, checked. There may be some issues about that database, but this is why I introduced caching at this level already. Hostable is also checked, we can run several of those on a single machine. Easy migration is also checked. XCopy deployment... well, that is a bitch in such a setup, but for a new machine, it should involve getting the code there and running deploy.cmd, not messy setup processes. Backup &amp; restore, we basically need to backup the SCM and the DB, nothing more, so that shouldn&#x27;t be a problem. Let us talk a bit about what I mean by putting SCM in the deployment diagram, okay? Here is the structure that I have in mind right now, but remember that this is just speculation at the moment.   What is the point in this?  This layout pretty much mirrors the main extension points that I have for the application. I am still undecided about this structure, for several reasons, but let us go through how it works in order to explain what are the problems that I have with it. The views, controllers and entities are pretty much self explanatory in their purpose, if not their implementation. As I mentioned, except the core, everything is an extension. Let us say that I want to go and define the Account entity. A screen will be provide by the core application for creating and editing entities. This screen will provide UI for defining a new entity, defining new fields and defining their UI characteristics. This screen will be responsible for generating three files. /entities/Account.boo, /controllers/AccountController.boo, /views/Account/edit.brail These files represent the way the sum total of information that the system needs to know about an entity. Those are also versioned files, and more importantly, they are very malleable for user modifications. If the developer prefers to use&#xA0;C#, they can build a project which will contain Account and AccountController classes, and place the resulting assembly in the /binaries folder. In both cases, the application will recognize and load the new code on the fly. This is critically important to ensuring developer productivity and happiness, I have found. If external projects are used, they should be stored in the /src folder. Obviously, both the boo files and the compiled binaries can also use other assemblies that are located in the binaries folder. The usage of explicit controllers means that you are free to put whatever logic you want into the process, as well as modify the view to contain additional UI elements that can use to express logic better. Persistence is easy, because using NHibernate and ActiveRecord makes this trivial, but this also points out to an important issue, we can now access the data from the CRM in a very easy fashion, using all the power that NHibernate gives us, which is far from trivial. Now, what goes into the /tasks and /workflows folders? Tasks are scheduled tasks, occurring at specified intervals to execute some sort of a business operation (canceling all withstanding orders that are on hold for more than 30 days, for instance). Workflows are just that, a way to specify actions to happen in a more global fashion, using a DSL.&#xA0;A trivial example may be:  on case:&#xA0;&#xA0; when case.IsSolved == false and case.DueDate &gt; CurrentTime:&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; raiseAlert &quot;Should have handled ${case.Id} by ${case.DueDate}, but the case is still ${case.Status}.&quot; This is also a way for a business user to extend the system. A UI layer for that is probably also in order. The /config contains the configuration of the application, basically the binsor configuration and maybe the web.config files. Using that, you can override the default services of the CRM by using your own. One of the interesting challenges to this system is the need to modify existing tables on the fly. I can think of at least three solutions. Build a sync table state myself, use Hibenate&#x27;s method and do a create temp, copy, remove original and rename (like SQLWB). No comment on that yet.  Security - Role based security is a common theme, but what is needed is actually feature, row and field level security with the additional issue of allowing to specify permissions on role, nested roles and users. Care should be taken to ensure that we can replace that with other security options, such as limiting a user&#x27;s ability to submit questions to products the user have previously bought.  Authentication - we probably want mixed mode authentication, with the option to define users that are not in Active Directory.  Full text indexing of everything - just something to toy with as well, push luecene for everything there, there should be no reason that I couldn&#x27;t search for customer:3424 and get it. I got some nifty ideas about how to implement the security infrastructure, but it is 05:21 AM already, and I am not sure why I am still awake. Let me know what you think.</p>
        </article>
        <article id="article-7367">
            <a href="https://ayende.com/blog/2956/an-apt-description-of-alt-net" target="_blank">
                <h2 class="title mb-6" id="article-7367">An apt description of ALT.Net</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 17, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Charlie Poolie, on the ALT.Net mailing list:  So one reaction I had to Alt.NET was that it was a group of folks who don&#x27;t do stupid things: sort of like forming a club for people who don&#x27;t playin traffic or don&#x27;t juggle sharp instruments.Oddly, as others have pointed out to me, such a group is actually needed in the .NET world.  ROTFL.</p>
        </article>
        <article id="article-7368">
            <a href="https://ardalis.com/mix08-registration-open/" target="_blank">
                <h2 class="title mb-6" id="article-7368">MIX08 Registration Open</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 16, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Here&#x2019;s some official information on the MIX 2008 conference hosted by Microsoft in Las Vegas next March: Registration for Microsoft&#x2019;s MIX0&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-7369">
            <a href="https://ayende.com/blog/2955/ignorance-vs-negligence" target="_blank">
                <h2 class="title mb-6" id="article-7369">Ignorance vs. Negligence</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 16, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Recently there have been a few&#xA0;posts about people who... misrepresent themselves when it comes to knowledge and authority. A common question that came up in the comments of those posts was to specify who the guilty party is, if not by name, then a description. &#xA0;First, I want to be clear about the separation I am making. I am seeing a lot of bad code, and I posted some choice tidbits here in the past. Some of it is inexcusable in a software professional, some of it is valid, because the author is not a developer. I don&#x27;t have any issue with bad code coming from people who are not developers (but if you call yourself an architect, and you can&#x27;t code, get thyself away and ponder your sin). I can either work with them to make sure that they will be developers, or limit the amount of work they need to do on the system. What drives me into sputtering rages is seeing so called professional developers and architects who couldn&#x27;t find a clue if I hit them with it. Some random stories, all by professional developers and architects, to make sure that I am clear about who I am talking with.  Senior Java Architect calls a high level meeting to discuss my &quot;unreasonable behavior&quot;, I am not willing to give him access to the application database. My objection to the needless coupling is &quot;unreasonable, and there is not other way to do it&quot;. My suggestion that I&#x27;ll expose a web service that will be called from his application is &quot;obvious impossible&quot; because &quot;java can&#x27;t consume web services from .NET&quot; and anyway &quot;java doesn&#x27;t support web services&quot; The Project Manager whose stated goal is &quot;have very stupid code, we want to hire stupid people, they are cheap&quot; for a business critical application. A team that suggested &quot;hot new tech&quot; that they &quot;have several experts on&quot; that can &quot;make miracles with it&quot; which turns out to be a single guy that read a blog post about it and &quot;really we intend to use this vital project to learn this technology&quot; Senior Developer who designed a three tier system for serving a page. A request arrives, the page puts&#xA0;a message in a queue and then does a synchronous receive from another queue. Another machine that process requests. The message is an SQL statement, with no parameters allowed. There is no concurrency control&#xA0;in the app, so two pages making two totally different requests can get each other&#x27;s results. I couldn&#x27;t follow the reasoning for the decision, but apparently it has something to do with performance. Developer who built the &quot;thread per row&quot; batch process, and actually had a bigger server bought to handle the &quot;big application&quot; that processed &quot;lot of business critical data (15,000 rows)&quot; The Senior Consultant who took the code with him on a USB key whenever he left home, as a &quot;theft precaution&quot; The consulting company who we had to go and fix things after, where all the tables were named &quot;a1&quot; to &quot;a46&quot; and the columns &quot;b5&quot; - &quot;b91&quot;, an explicit design decision to keep them in place. The Expert that had a business buy a 40,000$ BizTalk solution to do copy of one directory to&#xA0;another. We ended up replacing that with a scheduled task that executed: &quot;robocopy \\server\dir \\anotherserver\dir&quot; every 5 minutes. Whoever it was that designed MS CRM I could go on, but this is a good representation of the types, I think. They all have a few things in common, they represent themselves as experts, senior, knowledgeable people. In all those cases, they have actively acted to harm the business they were working for, by action, inaction or misaction. I have no issue with people not knowing any better, but I do expect people that ought to know better to... actually do know better.</p>
        </article>
        <article id="article-7370">
            <a href="https://ayende.com/blog/2954/dont-use-ms-crm-it-is-not-worth-the-ulcer-you-will-get" target="_blank">
                <h2 class="title mb-6" id="article-7370">Don&#x27;t use MS CRM! It is not worth the ulcer you will get!</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 16, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Yesterday I reached the breaking point with regards to MS CRM. We needed to push a build to staging, so the customer can start acceptance testing. The way we built it, we have&#xA0;a central CRM development server, and each developer is working mostly locally, but against the same server. I don&#x27;t like it, but the CRM doesn&#x27;t really give me much choice. At any rate, we started the move by trying to move the customizations from the development server to the production server. Naturally, there is no way to diff things, so I have no idea what changed since we last went to production. The import process failed, some SQL error. There is a reason that I use the term &quot;some SQL error&quot;, that is the entire information that I have about this error. checking the event log, trace files, etc reveals no further information. That went beyond annoying. We ended up having to do import of entity by entity, and doesn&#x27;t merge by hand for the entities that failed to import successfully. As you can imagine, that took: (a) time, (b) aggravation.  Both development and production machines has the same version installed, and it is not as if I was trying to do something out of the ordinary, it is supposed to be a common operation.  I had enough with this in lapsus alumni platform. I officially declare it as a nightmare platform.  MS CRM - don&#x27;t bother even trying, you will thank me for it.</p>
        </article>
        <div class="button flex justify-between">
            <a href="736.html"><span class="back arrow"></span></a>

            <a href="738.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>

<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;🚀&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="about.html"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="/pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>
