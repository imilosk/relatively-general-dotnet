
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 737 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-7361">
            <a href="https://ayende.com/blog/2872/where-are-the-people" target="_blank">
                <h2 class="title mb-6" id="article-7361">Where are the people?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 15, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Jeff Brown&#xA0;correctly points out&#xA0;that I have not included the people when I talked about Enterprise Software:  Enterprise systems generally incorporate a very large installed base of internal and external stakeholders that have widely varying perspectives and needs.&#xA0; These people are accustomed to a particular conception of the business operating environment.&#xA0; They have developed a specialized vocabulary to describe their doings.&#xA0; They have adopted work habits to get them through the day.&#xA0; To observers they often appear to behave in strange, mysterious and chaotic ways.&#xA0; Changes run the risk of inducing systematic paralysis, shock, mass-hysteria and cannibalism.  Read the rest, it is interesting.</p>
        </article>
        <article id="article-7362">
            <a href="https://ayende.com/blog/2871/thinking-on-code" target="_blank">
                <h2 class="title mb-6" id="article-7362">Thinking on Code</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 15, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I found myself writing this down right now:  Right now, a lot of the code that we write is just that, code. In need decrypting before it can be understood.  It made me laugh in retrospect.</p>
        </article>
        <article id="article-7363">
            <a href="https://ayende.com/blog/2870/by-the-dsl-guess-what-i-am-reading" target="_blank">
                <h2 class="title mb-6" id="article-7363">By the DSL, guess what I am reading</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 14, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I am toying with this DSL: recieve:&#xA;&#x9;message msg as ChangeAddressMessage if msg.AddressId is null:&#xA;&#x9;&#x9;transaction:&#xA;&#x9;&#x9;&#x9;address = Address.FromMessage(msg)&#xA;&#x9;&#x9;&#x9;address.Create()&#x9;&#x9;&#xA;&#x9;message msg as ChangeAddressMessage:&#xA;&#x9;&#x9;transaction:&#xA;&#x9;&#x9;&#x9;address = LoadAddress(msg.AddressId)&#xA;&#x9;&#x9;&#x9;Address.FromMessage(address, msg)&#xA;&#x9;&#x9;&#x9;address.Save()&#xA;&#x9;message other:&#xA;&#x9;&#x9;raise MessageNotUnderstood()&#xA;What book am I reading now?</p>
        </article>
        <article id="article-7364">
            <a href="https://ayende.com/blog/2869/failure-and-trashing" target="_blank">
                <h2 class="title mb-6" id="article-7364">Failure and trashing</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 14, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Last week wasn&#x27;t a very good week. The rate of work that I did vs. the work that I expected to do was very low.&#xA0; Basically, I should have done all that work in about a day or two. Most of the issue was because I had no time in the zone this week, meeting, pairing on other people&#x27;s code, etc have taken a lot of little pieces, but the main issue was that I kept going in the wrong direction. I needed to implement something similar to Outlook&#x27;s rules, but for search, where you can add more criteria for your search, and the user can specify and/or condition, etc. It is fairly simple to do it on the back end, but my problem was that I couldn&#x27;t get a solid UI story as well as as solid interaction story between the client / server. It kept being this close, but I never got there, argh! I run into all sorts of problems, from realizing that my querying method wasn&#x27;t going to scale for that approach, and switching back to NHibernate, which can scale, to javascript debugging fubars that kept creeping up, assembly versionning issues,  And all my solutions where of increasing complexity. So far, I worked on the same feature for about the estimated time that I given it, but it is not complete by any mean. I finally decided that I am not going to take this kind of cheek from my code and deleted it. Then I started from scratch, I run into some of the same problem, but now my goal was to make it stupid. Not make it work, just make it stupid enough to look like it would work. That approach have worked, surprisingly. I got the first big piece of it working (the and / or with UI and client/server interactions) in about three hours, and the rest was fairly smooth sailing from there. I keep telling my team members, if you are on something more than 15 minutes, either call someone or move to something else. I really should start listening to myself, occasionally I actually says something that I ought to do. Anyway, I think that I covered in about a day the entire feature, and I now can extend it to the next feature with great ease. Oh, and by the way, I want to give a big thanks to the guys from Lunaverse, the Story Verse&#xA0;code has been a source of great inspiration for this feature.</p>
        </article>
        <article id="article-7365">
            <a href="https://ayende.com/blog/2868/the-consulting-game" target="_blank">
                <h2 class="title mb-6" id="article-7365">The Consulting Game</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 14, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Casey had this to say:  I have actually seen organisations where (in one case actually explicitly expressed, and in many where it wasn&#x27;t spoken out loud) software delivered roughly meeting the requirements on how the UI worked was considered delivered. The work to make it work (usually way more work than the initial delivery) was considered &#x27;bug fixing&#x27; and therefore was billable additinally by the IT department or outsourcer. Which reminded me of a joke about consultants, no relation to anyone I know, etc...  One day the manager calls the consultant to talk about the time sheet report... Manager: You charged us on Wednesday for 19 hours, but you were here for only about 9 hours on Wednesday. Consultant: Well, of course. Look, it is very detailed. I was here from 9:00 to 18:00, right? Manager: Right. Consultant: And because we left without a good solution, I&#xA0;kept thinking about it in the car, and when I walked the dog. You see, it is the entries for 18:00 - 19:30 and 20:00 - 20:45.&#xA0;From 19:30 - 20:00 I had dinner, I didn&#x27;t charge you for that. Manager: Nice of you. And the other 8 hours? 22:00 - 06:00 ? Consultant: Well,when I walked the dog, I finally had a vision, everything came together in a moment of brilliance, and I could see the solution in my head. All I had to do is connect some little pieces and it would work. Manager: Oh, so you did an all nighter? Consultant: Ha? Of course not. I went home thinking about the idea, and then I went to bed and slept on it for 8 hours. The above is not my modus operandi, nor am I willing to work with those who does.&#xA0; This is relevant because I am not going to consider practices built in those kind of shops as important to most of the discussion about software development. All that aside, how the hell do you get the client to agree to pay for bug fixes? All my contracts include a 6 months guarantee for bug fixing, and most of the time they also include SLAs that says &quot;drop whatever and get there&quot;, which is annoying as hell when this happened*. This means that I can&#x27;t bill someone for bug fixes (change request are another matter, but those are for another time**), which is a great incentive to not have bugs.  * At one time I was called, after being on the phone for about an hour, came to the client, sat for 5 minute, sent a death treat to the DBA, and left. No space on the DB hard disk, argh! They backed it to the same HD and never cleaned it up. ** &quot;Oh, you wanted it to also work? That wasn&#x27;t in the original spec...&quot; doesn&#x27;t really fly in the real world</p>
        </article>
        <article id="article-7366">
            <a href="https://ayende.com/blog/2867/evaluating-languages-for-building-internal-dsls" target="_blank">
                <h2 class="title mb-6" id="article-7366">Evaluating languages for building internal DSLs</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 14, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Michael Dorfman&#xA0;presents an interesting question about building internal DSLs.  [You should] point out for those of us who have not (yet) tasted the Boo koolaid exactly what makes this language more suitable to DSLs than VB9, C#3, F#, IronPython or IronRuby.It&#x27;s not enough to say &quot;You can&#x27;t build DSLs in C# / VB, they aren&#x27;t flexible enough (at all)&quot;, you need to mention which language features are missing. So, why am did I say that C#/VB/Java/etc are not flexible enough to build usable DSLs out of?  Let us consider what we want to achieve when we are thinking about a DSL. The first thing that comes to mind is that is should be about the domain, so I want to have as few programming related stuff as possible, and the syntax should be simple and clear to read. Statically typed languages are historically rigid in their structure, and force you to follow specific syntax rules. Dynamic languages are far more relaxed in that manner. Boo is a statically typed language that masquerade as a dynamic language, so it sits with the dynamic languages on this matter. I am not familiar enough with F# to give an answer on that, but both ruby &amp; python can certainly build DSLs. DSLs are very common in ruby, and I think that python can do much the same, although I do wonder about the white space sensitivity thing regarding DSLs. But let us explore for a moment the idea of build a DSL in a statically typed language. We want to define a DSL for executing tasks in a build process. We want to execute a process and copy some files. C# (for java, just change the using to imports): using My.Imaginary.Build.Framework;&#xA;using My.Imaginary.Build.Framework.IO;&#xA;&#xA;public class MyCustomTask : TaskBase&#xA;{&#xA;&#x9;public MyCustomerTask() : TaskBase(&quot;Execute process &amp; copy some files&quot;)&#xA;&#x9;{&#x9;&#xA;&#x9;}&#xA;&#xA;&#x9;public override void Execute()&#xA;&#x9;{&#xA;&#x9;&#x9;Execute(&quot;msbuild.exe&quot;, &quot;myProject.sln&quot;);&#xA;&#x9;&#x9;CopyFiles(&quot;bin\debug\**.*&quot;, &quot;ftp://staging-srv/myApp/&quot;);&#xA;&#x9;}&#xA;}&#xA;&#xA;&#xA;And in VB.Net:&#xA;Imports My.Imaginary.Build.Framework&#xA;Imports My.Imaginary.Build.Framework.IO&#xA; &#xA;Public Class MyCustomTask Inherits TaskBase&#xA;&#xA;&#x9;Public Sub New()&#xA;&#x9;&#x9;MyBase.New(&quot;Execute process &amp; copy some files&quot;)&#xA;&#x9;End Function&#xA; &#xA;&#x9;Public Overrides  Sub Execute()&#xA;&#x9;&#x9;Execute(&quot;msbuild.exe&quot;, &quot;myProject.sln&quot;)&#xA;&#x9;&#x9;CopyFiles(&quot;bin\debug\**.*&quot;, &quot;ftp://staging-srv/myApp/&quot;)&#xA;&#x9;End Sub&#xA;&#x9;&#xA;End Class&#xA;There is a lot of syntactic noise here that we need just to make the compiler happy. We aren&#x27;t working with a DSL, at best, we are working with a fluent interface (more on that later).&#xA;We could probably do this, though:&#xA;Description(&quot;Execute process &amp; copy some files&quot;);&#xA;Execute(&quot;msbuild.exe&quot;, &quot;myProject.sln&quot;);&#xA;CopyFiles(&quot;bin\debug\**.*&quot;, &quot;ftp://staging-srv/myApp/&quot;);&#xA;And then pre-process the file in order to put all the rest of the noise around it, but that is going to be bite us if we need to do things such extending it further (how do we add a using statement here? how do we define a method?), or have anything even slightly more complex than&#xA0;a series of sequential operations?&#xA;Sure, I can think of solutions for all of the above, but they #include stuff that is (a) hard, (b) unpleasant, (c) complex and (d) leaky.&#xA;When you are building DSLs, you want as few constraints as possible from the language, and that is not possible to do in static languages. But, I can hear you say, we have Linq and extension methods and fluent interfaces now, surely that is a solved problem.&#xA;Not really, I believe that I have pushed C# 2.0 as far as it is possible to go in regards to fluent interfaces, and I have looked very closely at what I can do with C# 3.0 new syntax. The answer is that it is great for programmers, but not really useful for developing DSLs. You are still going to have to deal with making the compiler happy, and your ability to modify the syntax of the language itself to fit the ideas that you want to express is nil.&#xA;In comparison, here is how you can express the same idea in Boo:&#xA;Task &quot;Exexcute process &amp; copy some files:&#xA;&#x9;Execute &quot;msbuild.exe&quot;, &quot;myProject.sln&quot;&#xA;&#x9;CopyFiles &quot;bin\debug\*.*&quot;, &quot;ftp://staging-srv/myApp&quot;&#x9;&#xA;There is nothing here that is here to make the compiler happy, we are focused on what we want to do, not on the syntax.&#xA;Beyond that, we have the Boo compiler itself, which allows you to go far beyond that. This goes a bit beyond the scope of DSL, but this is valid Boo code:&#xA;receive:&#xA;&#x9;message msg as ChangeAddressMessage if msg.AddressId is null:&#xA;&#x9;&#x9;transaction:&#xA;&#x9;&#x9;&#x9;address = Address.FromMessage(msg)&#xA;&#x9;&#x9;&#x9;address.Create()&#x9;&#x9;&#xA;&#x9;message msg as ChangeAddressMessage:&#xA;&#x9;&#x9;transaction:&#xA;&#x9;&#x9;&#x9;address = LoadAddress(msg.AddressId)&#xA;&#x9;&#x9;&#x9;Address.FromMessage(address, msg)&#xA;&#x9;&#x9;&#x9;address.Save()&#xA;&#x9;message other:&#xA;&#x9;&#x9;raise MessageNotUnderstood()&#xA;Boo doesn&#x27;t have the receive / message primitives, nor a transaction keyword, but it is trivial to add them (well, trivial to add the keywords, the messaging infrastructure is not trivial).&#xA;This expose an interesting concept that I have yet to talk about, Boo allows me to do code transformation at compile time. This means that even if the way that we want to express something is not the way we would like it to execute, we can have the best of both worlds, we can express it clearly, and translate it to the way it should be executed.&#xA;That is not something that you can really do in most other languages, certainly not in statically typed ones. Yeah, I know about assembly weaving, that is now what I call a DSL. I think that Ruby can do something similar, using ParseTree&#xA0;and eval(str) {don&#x27;t think Ruby has a way to translate expression list to code, but again}, but I am not sure. &#xA;So, anyway, those are my reasoning for using Boo.</p>
        </article>
        <article id="article-7367">
            <a href="https://ayende.com/blog/2866/scaling-alt-net-concepts" target="_blank">
                <h2 class="title mb-6" id="article-7367">Scaling ALT.Net Concepts</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 13, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I am having a lovely discussion with Casey&#xA0;(and others, of course) in the comments, I suggest that you would check it out, but I wanted to reply to this comment&#xA0;from him:  This started at ALT.Net and the Enterprise ... where you wondered why these things are believed not to scale up to (for example) 100 developers. I suggested the reason was that the great majority of those developers were &#x27;body count&#x27;, hence you had to let the overall team take the common approach (which I referred to as simple).In that case, no these &#x27;revolutionary&#x27; things won&#x27;t scale, because you are hiring from a pool of developers that grew up with drag, drop, VB6, WebForms and Intellisence. So your options are: train 90 developers to use better techniques (while paying them) or use the things they are comfortable with and get some kind of result.Managers will almost always pick the second. As a technical person, I asked you how you could convince them to take a better approach, without using any technical terminology. &quot;some kind of result&quot; also include a steaming pile of fresh fertilizer, you realize. And explaining to management that they are going to set 90 developers loose, without any organization except the least common denominator is not a position that I ever want to be in. Nor do I intend to have seminars about OO or IoC, that is not productive unless you have good audience, and the way Casey portrayed those developers... they are not good audience.  Nevertheless, Casey is missing the third approach, on job training. What do I mean by that?  If I am going to have a project that have hundred(s) of developers, I am going to have to ensure some sort of a structure. I don&#x27;t think that anyone can argue over that. Part of this is the solution structure, basic architecture, etc. When we do that, we lay down the basic principals of how we are going to work, and then pass it to the rest of the developers. I don&#x27;t really like this approach, it smacks too much of the architect in the ivory tower, and I would rather try something else, but let us go with the assumptions. So, we break down the types of tasks that we need to handle in the application (create a handler for remote action, build a web page, etc), and then setup a list of steps that needs to be taken in order to make it happen. We also supply several completed tasks of each type for reference (and copy/paste, sigh). The design goals under those circumstances are to make it simple to build business functionality, and push all non business functionality to the framework. Under normal circumstances, the developers should not be aware of any of the &quot;advance&quot; stuff. They should be encouraged to show interest, and understand the entire stack, but they don&#x27;t have to. The end result is that you get them into the habit of writing good code, and it grows on them. Code reviews serve as a way to direct them toward maintainable code, especially if you are doing it live, so they can see how the code become simpler.  I am not talking gospel here, this is what I am facing at my current project right now. Using this method, we get significant improvement in the team efficiency, we get readable, maintainable code, and we get propagation of good habits. As an example, here is a piece of code that one of the my team mates has written, I run a SVN Blame on it, and he is the only one that touched it. I haven&#x27;t reviewed it yet, obviously, otherwise I would have told him to put the missing public in its place, like it is supposed to be. [Handles(CrmOperations.PostCreate)]&#xA;class OnCreateDeathProcess_CreateUpdateSupervisorsTask : DeathCommand&#xA;{&#xA;&#x9;public override void Execute()&#xA;&#x9;{&#xA;&#x9;&#x9;if (IsDeathProcess == false)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;return;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;task updateSupervisors = new task();&#xA;&#xA;&#x9;&#x9;updateSupervisors.subject = Resources.UpdateSupervisorsOnDeathProcess;&#xA;&#x9;&#x9;updateSupervisors.ownerid = GetEmployeeManager();&#xA;&#x9;&#x9;updateSupervisors.scheduledend = ToExecuteImmediately;&#xA;&#x9;&#x9;updateSupervisors.regardingobjectid = new Lookup(EntityName.wbs_employee,                                                 PostState.wbs_employeeprocesstoemployee.Value);&#xA;&#x9;&#x9;Create(updateSupervisors);&#xA;&#xA;&#x9;}&#xA;}&#xA;Just thinking about it, this example uses WCF, IoC, ASMX Web Services, etc. But you would be hard pressed to find any of them exposed in this example, or in 99% of the rest of the business facing code base.&#xA;I just did a scan of the code base, most of the classes that we have are 1Kb - 3Kb in size (sorry, no line counts, I did it in explorer), and the biggest class that I have is 5Kb and has ~290 lines of code, it is also the base class for a lot of functionality, so it contains a lot of helper methods and similar functionality.&#xA;Not everything is golden, obvious. A brief scan of the code base found me this:&#xA;wbs_serviceorder serviceOrder = Crm.Retrieve&lt;wbs_serviceorder&gt;(serviceOrderGuid);&#xA;if (serviceOrder.wbs_serviceordermanningcount == null)&#xA;{&#xA;&#x9;serviceOrder.wbs_serviceordermanningcount = new CrmNumber();&#xA;&#x9;serviceOrder.wbs_serviceordermanningcount.Value = 1;&#xA;}&#xA;else&#xA;{&#xA;&#x9;serviceOrder.wbs_serviceordermanningcount.Value&#x2B;&#x2B;;&#xA;}&#xA;This annoys me because it means that I didn&#x27;t explain stuff properly, this could be written like this:&#xA;wbs_serviceorder serviceOrder = Crm.Retrieve&lt;wbs_serviceorder&gt;(serviceOrderGuid);&#xA;serviceOrder.wbs_serviceordermanningcount = (serviceOrder.wbs_serviceordermanningcount ?? 0);&#xA;serviceOrder.wbs_serviceordermanningcount.Value &#x2B;= 1;&#xA;But those are fairly minor issues, and easily fixed. &#xA;So, again, I have a team that doesn&#x27;t know about anything about all those &#x27;revolutionary&#x27; notions, but they are using it every day, we are gaining tremendous amount of value out of it and we produce maintainable code, one that we can work with in a year from now, which we know we will have to do.&#xA;So yes, I firmly believe that those ideas can most certainly scale.</p>
        </article>
        <article id="article-7368">
            <a href="https://ayende.com/blog/2865/book-idea-writing-domain-specific-languages-in-boo" target="_blank">
                <h2 class="title mb-6" id="article-7368">Book Idea: Writing Domain Specific Languages in Boo</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 12, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I know that I am asking the question from a self-selecting group, but what the hell. I am considering the idea of writing a book about writing domain specific languages, with Boo as the implementation language. This has two distinct topics:  Theoretical knowledge:  DSL Usages How to create the syntax How to integrate into an application Testing Versioning Patterns Implementation strategy - how to actually build a useful DSL that can do all of the above using Boo. I certainly like the subject, but I wanted to know what you think about it.  Do you find the idea useful? Is there enough interest in it? Do you (or people you know) use DSLs for work/fun? Any other comment?</p>
        </article>
        <article id="article-7369">
            <a href="https://ayende.com/blog/2864/simple-poor-quality-period" target="_blank">
                <h2 class="title mb-6" id="article-7369">Simple != Poor Quality, period!</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 12, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Casey commented on my post about ALT.Net and the Enterprise, and we have a good discussion going on there. But something he said triggered so many red flags that I had to go breath into a paper bag for a few moments:  many &#x27;enterprise&#x27; teams have to take whatever body count they can get to satisfy the management. And in that case you have to keep things really simple (and by definition produce poor quality code). He later went on to expand what he think is simple:  In case I expressed myself badly ... by simple in that context, I mean simple as in &quot;mostly drag and drop&quot;, no IoC, no inheritance, no composition, lots of &quot;standard things&quot; like EAAB, and most code in the aspx.cs files ... because that is as far as most developers understand code. &quot;simple code&quot; in the context I suspect you mean it is probably as I would define it... which is the hardest code in the world to write. The simpler the code is, the harder it is to write.  High quality code is simple, elegant and to the point. Keeping things simple means making it easy to go the right path. Thinking that keeping things simple is by definition producing poor quality code is a mistake. I am afraid that I can&#x27;t really find any simplicity in &quot;mostly drag &amp; drop, most of the code in the aspx.cs&quot;.&#xA0; In fact, it is far more complex than the alternative, because you have to juggle so many balls at the same time. Here is a piece of simple code: [Occurrences(OccureEvery.Day, At = EsitmatedRunTime.MidMorning, RunAtHolidays = false)]&#xA;public class SendSmsTwoDaysBeforeEventStart : ScheduledTask&#xA;{&#xA;&#x9;public override void Execute()&#xA;&#x9;{&#xA;&#x9;&#x9;ICollection&lt;Event&gt; eventsInTwoDays = Repository&lt;Event&gt;.FindAll(&#xA;&#x9;&#x9;&#x9;Where.Event.ScheduledDate.Between(InTwoCalendarDays, InTwoDays) &amp;&amp; &#xA;&#x9;&#x9;&#x9;Where.Event.Participants.With(FetchMode.Join)&#xA;&#x9;&#x9;);&#xA;&#x9;&#x9;foreach(Event e in eventsInTwoDays)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;SendNotificationSmsToAllParticipantsIn(e);&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;}&#xA;It is easy to write, easy to read, and it is stupid code. You can write &amp; test this in a short amount of time, and it lends itself greatly to a check list approach. &quot;Here are the batch processes we need to build right now, here is how you build a batch process, let me know if you have any issues and when you are done&quot;. Very simple code, quite elegant, if I say so myself, but nothing that you need to really think about when you build it.&#xA;Keeping things simple means higher code quality, period. Making them complex any tiny bit over the necessary, and your code quality will plummet.</p>
        </article>
        <article id="article-7370">
            <a href="https://ayende.com/blog/2863/alt-net-and-the-enterprise" target="_blank">
                <h2 class="title mb-6" id="article-7370">ALT.Net and the Enterprise</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 12, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Simone Chiaretta has a post that I strongly disagree with. The two parts that sum the parts that I most vehemently disagree with Simone are:  imagine you have an Enterprise-level project, with 100 developers, how many of them are likely to grasp what IoC is? And:  if you have 50 developers in your team you can&#x27;t use MonoRail or Windsor or even the kind of main-stream NHibernate, because 40 of them will not know what you talking about. There are two reasons that I disagree, let us start with the one that had forced me to sleep on this post rather than send it immediately. The underlying assumption here is that &quot;Morts can&#x27;t take this stuff&quot;. It annoys me a great degree, because this is both arrogant and baseless. Those &quot;alternative&quot; concepts that we are talking about are not born of thin air, they are the de-facto standard of operation in many shops.  Let us focus for a second on the Java camp, shall we?  I would be greatly insulted if anyone tried to claim that Java developers are intrinsically better than .NET developers. But for some reason, those concepts - IoC, MVC, OR/M - that Morts can&#x27;t ever figure out, are not only popular there, they are they default choice in many cases. And they are the choice for large, Enterprise projects. So, what is the difference between the two? Why can Java people scale those concepts to large teams and .NET people can&#x27;t? The answer is that there is not real reason except a common misconception about the capabilities of developers to learn &amp; grow. By assuming the &quot;they can never understand that&quot; attitude, you are limiting what you can do and form an elitist view of your developers.  I am pretty sure that this isn&#x27;t what Simone intended, but this is how I view the general sentiments in that direction. Now, I mentioned that I have two reasons to disagree. The second part is my own experiences working with those tools &amp; concepts. All my projects for the last 2.5 years or so have been using IoC and OR/M, the last two are using MVC as well. I don&#x27;t work alone, and I work with people of varying degrees of knowledge and interest in the technology for the sake of technology. The reason for doing that is simple, it works, and it helps produce successful projects. I have an answer to &quot;How does it make my job easier?&quot; and I have successful projects to back this up. You can see what kind of code we are writing right now, IoC, OR/M and MVC are easier than the other way around. And it is my responsibility to make sure that (a) the developers understand what is going on but (b) they shouldn&#x27;t have to deal with it on a day to day basis. Properly used, IoC is completely transparent&#xA0;to the application. OR/M is not transparent, but it is very easy to use, and I want to split the code between the controller &amp; the view. So yes, you can scale this up to hundreds of developers. In fact, I can&#x27;t really imagine other ways to manage this complexity without using those concepts.</p>
        </article>
        <div class="button flex justify-between">
            <a href="736.html"><span class="back arrow"></span></a>

            <a href="738.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>