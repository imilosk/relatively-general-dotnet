
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Home â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<script>
    const lightModePref = window.matchMedia("(prefers-color-scheme: light)");

    function getUserPref() {
        const storedTheme = typeof localStorage !== "undefined" && localStorage.getItem("theme");
        return storedTheme || (lightModePref.matches ? "light" : "dark");
    }

    function setTheme(newTheme) {
        if (newTheme !== "light" && newTheme !== "dark") {
            return console.warn(
                `Invalid theme value '${newTheme}' received. Expected 'light' or 'dark'.`,
            );
        }

        const root = document.documentElement;

        // root already set to newTheme, exit early
        if (newTheme === root.getAttribute("data-theme")) {
            return;
        }

        root.setAttribute("data-theme", newTheme);

        const colorThemeMetaTag = document.querySelector("meta[name='theme-color']");
        const bgColour = getComputedStyle(document.body).getPropertyValue("--theme-bg");
        colorThemeMetaTag.setAttribute("content", `hsl(${bgColour})`);
        if (typeof localStorage !== "undefined") {
            localStorage.setItem("theme", newTheme);
        }
    }

    // initial setup
    setTheme(getUserPref());

    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("theme-toggle").addEventListener("click", () => {
            const theme = localStorage.getItem("theme");

            if (theme === "dark") {
                setTheme("light");
            } else {
                setTheme("dark");
            }
        });

        document.getElementById("toggle-navigation-menu").addEventListener("click", (e) => {
            const button = e.target;
            const ariaExpanded = button.getAttribute("aria-expanded");
            const header = document.getElementById("main-header");

            if (ariaExpanded === "true") {
                button.setAttribute("aria-expanded", "false");
                header.classList.remove("menu-open");
            } else {
                button.setAttribute("aria-expanded", "true");
                header.classList.add("menu-open");
            }
        });
    });
</script>

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <theme-toggle class="ms-auto">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main">
    <section aria-label="Blog post list">
        <a href="https://ayende.com/blog/2859/on-rails-ruby-and-the-clr" target="_blank"><h1 class="title mb-6">On Rails, Ruby and the CLR</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 11, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Rob Conery&#xA0;has an excellent post about Imploding Rails, which manage to hit a lot of my own thoughts about Rails. I believe that I have stated it before, I am thrilled by what is going on there, but I don&#x27;t see a good reason to move, since all the nice stuff are either already here or can be brought here. And yes, that include the Ruby&#x27;s magic.  James Avery has a broader look at this, which I agree to, but doesn&#x27;t negate&#x27;s Rob&#x27;s points. Rob&#x27;s comment on James&#x27; post had me LOLing:  Ruby is slow, I need to write an extension for it in C.Great, now you have two problems.</p>
        <a href="https://ayende.com/blog/2858/that-magic-chant" target="_blank"><h1 class="title mb-6">That magic chant</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 11, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Teaching right now, I gave the students the task of doing low level binary file writes.&#xA0; I haven&#x27;t done that sort of thing in years. It brings to mind doing C&#x2B;&#x2B; programming in &#x27;99.  It certainly made everyone very quite, but I got to the point where I am practically chanting &quot;System.Text.Encoding.Unicode.GetBytes()&quot; at them. 9 times and counting, so far.</p>
        <a href="https://ayende.com/blog/2857/boo-imports-new-usages" target="_blank"><h1 class="title mb-6">Boo Imports &amp; New Usages</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 10, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Okay, since I have started thinking about using:  import file from anotherFile.boo It occurred to me that there are plenty of reasons to want to do similar things. And boo is flexible enough to make some interesting things with it. What about bringing in WSDL definition at compile time?  import webservice from &quot;http://localhost/who/is.there&quot; as WhoIsThereService And then writing a small compiler step that does all the rest. Usually the first twenty or so lines of my my Windsor.boo file are just import statements, they really make it harder to read, why not split them to another file?  import all from imports.boo I can probably think of a few other interesting things to do with it, as well.</p>
        <a href="https://ayende.com/blog/2856/multi-file-dsls" target="_blank"><h1 class="title mb-6">Multi file DSLs</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 10, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">While a DSL can really cut down the amount of code that you need to write, putting everything in one file is not a good idea. But I like my DSLs to be script&#xA0; like, without the need for an explicit compilation step. I have thought about it for a while now, and yesterday ago Craig Neuwirt* asked how it can be done using Binsor.  My default language is Boo, obviously, which is a static, compiled language that pretends that it is dynamic and scriptish, giving the best of all worlds. One of the cool things about Boo is that you can reference an assembly by just doing this:  import System.Data.SqlClient from System.Data  This make it very easy to write scripts, because you just declare things and they will be automatically referenced, without needing to pass parameters to the script runner. Now, I wanted to have some way to handle file inclusion as well. But Boo doesn&#x27;t support this. This is not something that you can do in a method, or dynamic loading, you have to do this as part of the compilation process. In a normal language, I would be left with building pre-processors, or doing heuristics to find all the relevant files that I want, or write an XML file that would detail which file I want to include. But Boo is not a normal language, it is a Super Language. It let me do what I want. And I wanted to have file references. So I did. I love Boo, I really do. The initial sample I started with was this. This is actually on the examples, what do you know. Then I thought about how I wanted to it, and I figured out that I can do this:  import file from&#xA0;&#xA0;anotherFile.boo Boo allows me to modify the compiler object model (AST) at compilation, so I just detect all the imports for the namespace &quot;file&quot;, and then I compile and reference that file. I can even do this:  import file from&#xA0;&#xA0;&quot;~/config/anotherFile.boo&quot; Where ~ is translated to the AppDomain BaseDirectory.  You can find the code here, about 100 lines of code, out of which around 30 could be YAGNIed away. Wasn&#x27;t very hard, and make me love Boo all over again, for what it allows me to do. * Who doesn&#x27;t blog, and&#xA0;a search for &quot;Craig Neuwirt blog&quot; brings back my blog :-) (hint)</p>
        <a href="https://ayende.com/blog/2855/how-to-practice-diplomacy-playing-on-the-nature-of-truth" target="_blank"><h1 class="title mb-6">How to practice diplomacy: Playing on the nature of truth</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 10, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">So today I practiced diplomacy. We need to integrate with an application that has reached its end of life. It was suggested that since both applications are written with .NET, we can just take the code and build on top of it. I said that I would need to see the code. They sent me the documentation and a link to the current site. I read it, I thought about all the things that I am not going to say. Here is what I did not say:  I found three SQL Injection attacks just by reading the documentation, I looked at the code and had to go and wash my hands. I am going to put that in the WWTT* folder, to look at dark moments, when I am frustrated and need the relief of: &quot;At least I not working on that.&quot; What I did say was:  I do not believe that we can reconcile the architecture of the existing application into our own applications, there are significant and unbridgeable gaps between the two. What we are going to do is to rebuild it using our own architecture and harvest the existing code base to the best of our ability. That is diplomacy. Being polite is another matter, in which you tell someone you hate their guts, but you smile when you do it, and say &quot;if you please&quot; at the end.  * As in What were they thinking?</p>
        <a href="https://ayende.com/blog/2854/murphy-and-the-law-of-time-division" target="_blank"><h1 class="title mb-6">Murphy and the Law of Time Division</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 10, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This is something that happens so often I go mad of it.  I had to leave the office at 12:00 to go to a customer, and I wanted to finish a feature first. I arrived early and started working on it. Three hours later, I didn&#x27;t even got started, I was busy fixing stupid assembly version errors, and tracking down dependencies that somehow got lost. Finally I resolved the issues with the abrupt manner of 5kg Hammer and went to fiddle with production databases. The idea is to move anxiety to other people. It worked, eventually, but I had to leave instructions to do a full DB backup and gave the neighbor&#x27;s phone. At 10:35, I got things started, and I soon had everything rolling out, until I got to JS issues with the wrong this reference. Found out how to do it in prototype, found out how to do it jQuery, made it work.&#xA0; Now I had another two hours to get it working, but I was already late. Urgh!  When I got to the customer, we manage to run through scenario &amp; features in a way that was so much more natural. We finished about two days work in 5 hours. I don&#x27;t mind deadlines that are in days / weeks. I like them (or I tell the customer that they are impossible and move on) usually. What I truly hate is a deadline in hours, even if it is not a &quot;deadline&quot; in the usual sense. I just hate knowing that I need to stop working at a certain hour. That seem to always cause me to get to that hour. When I don&#x27;t have that time limit, things go much smoother.</p>
        <a href="https://ayende.com/blog/2853/from-demo-to-production-handling-the-edge-cases-that-arent-there" target="_blank"><h1 class="title mb-6">From demo to production: Handling the edge cases that aren&#x27;t there</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 09, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">There is a difference between getting a scenario to working and actually finishing it. The first part is just making sure that the tech stuff work, that is generally easy, the hard part is getting all the stuff that you need to take care of taken care of. The biggest problem is that often you don&#x27;t really see those issues. Let us start with an example from today.  Let us have this user story:  As part of the nightly maintenance routines, two days before the event, the system will remind all the participants about the event using SMS. Simple &amp; easy, right?  Here is the code that we started with: [Occurances(OccureEvery.Day)]&#xA;public class SendSmsTwoDaysBeforeEventStart : ScheduledTask&#xA;{&#xA;&#x9;public override void Execute()&#xA;&#x9;{&#xA;&#x9;&#x9;ICollection&lt;Event&gt; eventsInTwoDays = Repository&lt;Event&gt;.FindAll(&#xA;&#x9;&#x9;&#x9;Where.Event.ScheduledDate == DateTime.Today.AddDays(2) &amp;&amp;&#xA;&#x9;&#x9;&#x9;Where.Event.Participants.With(FetchMode.Join)&#xA;&#x9;&#x9;);&#xA;&#x9;&#x9;foreach(Event e in eventsInTwoDays)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;SendNotificationSmsToAllParticipantsIn(e);&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;}&#xA;Hm, that looks good, doesn&#x27;t it? 8 lines of code, very readable, nothing can go wrong here, right?&#xA;As it turns out, no, there are a few very bad bugs here. Can you spot the first awful bug?&#xA;&#xA;Hint: When does most scheduled tasks run? &#xA;So far, we didn&#x27;t care, so we assume that they would run at night, when no one is using the system. The problem, this way we actually sending the SMS at night. I don&#x27;t know about you, but I would be pissed off if someone sent me an SMS at 2:02 AM.&#xA;There are several ways to handle that, from queued SMS processes to scheduling another execution, etc. We decided that we aren&#x27;t interested in solving this and just added this:&#xA;&#xA;[Occurances(OccureEvery.Day, At = &quot;08:00&quot;)] &#xA;&#xA;So, that took care of the problem for now, at some point, we will add the ability to parse that to the scheduler. Now we can move on to the next story, right? &#xA;&#xA;Nitpicker corner : You probably want to say that I shouldn&#x27;t hard code the hour, but I don&#x27;t care about that, actually, if it become a problem, it will change, but this is the simplest thing that would make the problem go away.&#xA;Take a look at the code above, can you see another problem there? A big serious one? &#xA;&#xA;Hint; Saturday.&#xA;Here you need to understand something about Israel, Saturday is more than the rest day here. I&#x27;ll be short and probably convey the wrong impression, but it is considered, by the religious people, as a day where no fire can be lit, or electricity be used. This is highly inaccurate, but it would suffice for this post. You can read more about it here.&#xA;So, what this basically means is that if you send an SMS to someone on Saturday, it is considered a desecration of the Sabbath. And that actually translate well, surprisingly. Not all people feels like this, I don&#x27;t, for instance, but there are many who do. So, we absolutely must not send SMS on Saturday. &#xA;Okay, that is a simply fix, right?&#xA;public override void Execute() &#xA;{ &#xA;&#x9;if(DateTime.Today.DayOfWeek == DayOfWeek.Saturday)&#xA;&#x9;&#x9;return;&#xA;&#x9;// ...&#xA;Okay, we are done now, right?&#xA;Hm, no. I don&#x27;t really like this code, and we have a bigger problem. Can you see it?&#xA;&#xA;Hint:&#xA0; Holidays&#xA;In Israel, there are many holidays which have the same treatment as Sabbath, and some are even more strict than that. We just had Yom Kippur (day of forgiveness). The PR horror of sending an SMS to even a few hundreds people in Yom Kippur is quite huge. But other holidays should probably be considered as well, so we need to check for those as well. At that point, I said: &quot;I am not dealing with it right now&quot; and wrote the following:&#xA;&#xA;[Occurances(OccureEvery.Day, At = &quot;08:00&quot;, RunAtHolidays = false)] &#xA;Now it is someone&#x27;s else job to fix this so it would work correctly. Mine, probably, but at some later date.&#xA;Are we done yet? Not yet, I am afraid. So, what has gone wrong now?&#xA;&#xA;Hint: DateTime.Today.AddDays(2)&#xA;This does the calculation based on calendar days, but do we really want it to be this way? Considering that we are skipping holidays, we probably want to consider only business days. For that matter, at what time zone are those meeting being held?&#xA;In order to facilitate that, the ScheduledTask base class contains several properties that return the time at various interesting points. (InTwoWeek,InOneMonth, Tomorrow, etc).&#xA;That one is easy, we can just change the query to:&#xA;ICollection&lt;Event&gt; eventsInTwoDays = Repository&lt;Event&gt;.FindAll(&#xA;&#x9;&#x9;&#x9;Where.Event.ScheduledDate == InTwoDays &amp;&amp;&#xA;&#x9;&#x9;&#x9;Where.Event.Participants.With(FetchMode.Join)&#xA;&#x9;&#x9;);&#x9;&#x9;&#xA;That is good, right? Except that here we need to take into account events that occurs during non business days. So we probably want the intersection of the events from the next two days on the calendar and the next two business days.&#xA;The final code now looks like this:&#xA;[Occurances(OccureEvery.Day, At = &quot;08:00&quot;, RunAtHolidays = false)]&#xA;public class SendSmsTwoDaysBeforeEventStart : ScheduledTask&#xA;{&#xA;&#x9;public override void Execute()&#xA;&#x9;{&#xA;&#x9;&#x9;ICollection&lt;Event&gt; eventsInTwoDays = Repository&lt;Event&gt;.FindAll(&#xA;&#x9;&#x9;&#x9;Where.Event.ScheduledDate.Between(InTwoCalendarDays, InTwoDays) &amp;&amp; &#xA;&#x9;&#x9;&#x9;Where.Event.Participants.With(FetchMode.Join)&#xA;&#x9;&#x9;);&#xA;&#x9;&#x9;foreach(Event e in eventsInTwoDays)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;SendNotificationSmsToAllParticipantsIn(e);&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;}&#xA;Now, I am getting tired of this post, but I am going to leave you with a cliffhanger.&#xA;There is at least one other bug here, can you spot it?</p>
        <a href="https://ayende.com/blog/2852/how-to-get-nhibernate-to-work-with-pk-values-generated-by-a-trigger" target="_blank"><h1 class="title mb-6">How to get NHibernate to work with PK values generated by a trigger?</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 09, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Well, the correct answer is to use a &lt;generator type=&quot;select&quot;&gt;, but that hasn&#x27;t been ported to NHinbernate yet, so a quick &amp; dirty solution may be this piece of code, that I just wrote in Notepad and I have no idea if it really works :-) public class MyOracleDialect : OracleDialect&#xA;{&#xA;&#x9;public override bool SupportsIdentityColumns&#xA;&#x9;{&#xA;&#x9;&#x9;get&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;return true;&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9; &#xA;&#x9;public override string GetIdentitySelectString(string identityColumn, string tableName)&#xA;&#x9;{&#xA;&#x9;&#x9;return &quot;select mySequnece_&quot;&#x2B;tableName&#x2B;&quot;.currnetValue() from dual; &quot;;&#xA;&#x9;}&#xA;}</p>
        <a href="https://ayende.com/blog/2851/thinking-about-enterprise-platform-constraints" target="_blank"><h1 class="title mb-6">Thinking about Enterprise Platform Constraints</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 09, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I mentioned that I hate aimless bitching before, and I have been doing that for a while about Microsoft CRM. I would still like to lob the GoF, the PoEA and the AntiPatterns books at the team responsible for the CRM, but the new goggles are wonderful, it barely hurt at all. * Just to be clear, and for Scott&#x27;s peace of mind, I don&#x27;t have any intention to build Rhino CRM. That is beyond the scope of my interest. That doesn&#x27;t mean that I can&#x27;t amuse myself by thinking out loud the ideal architecture for such as system as far as I am concerned. I have been accused that the hypothetical Rhino CRM would offer a slick interface to create new customer, just have the end user write an anonymous delegate to do so. It was funny at the time, but I am actually considering doing just that. At any rate, before I can think up an architecture, I need to understand what the constraints it needs to meet. Of the top of my head, I can see the following:  Extensible in an easy manner - note that this holds for business analysts and for developers, both are groups that are likely to do work on the system. Ideally we can have some sort of a common interface that would make both people happy.  New entities User Interface:  Forms UI elements Editing existing forms Replacing core services Upgradable - We want to allow the users to move from version 2.0 to 3.0 without having to re-write everything. This means that we need to make clear what we allow the user to do to the system if they want to have a successful upgrade. Auditable - I don&#x27;t suppose that I have to explain why, right? Performant - well, it should. Considering the other contestant, that could be a major selling point. Scalable - I want to be able to scale wide, so the CRM can scale as I add more servers. IT friendly - not sure what this means, Windows Authentication? Monitoring support? The two major hurdles are going to be the first&#xA0;combined with the second. What other considerations and constraints do I need to consider? * I still hate it that I have to develop a full blown framework just to get a half way decent programming experience. Well, at least it has boobs in it. Some of the team members caught on to that, and hilarity ensued.</p>
        <a href="https://ayende.com/blog/2850/creating-readable-content" target="_blank"><h1 class="title mb-6">Creating readable content</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 09, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Okay, let us see if I can get this post readable. If I am successful, you are supposed to see two images, one to the left and one to the right. Those images represent two blog posts, they are blurred on purpose, I don&#x27;t want to talk about the content, I want to talk about the presentation here. The main difference between those two posts is the amount of text that goes into one paragraph. This has a direct correlation to the way that I read content. The post on the left is painful to read, it has massive amount of text that I need to parse and read. I actually stopped reading it when I figure out that I was merely scanning it to avoid actually reading the content. By reducing the amount of text per paragraph, you are making it easier to read the content, you let the eye skip to the next one naturally, instead of having to parse it. Books can get away with it somewhat, because they have much higher resolution, but on the web, you cannot. You have to pay attention to the way you are writing. Short paragraphs make it more pleasant to read the content. Dense content is painful to read, and it gives the feeling that it is dry, even if it is the most fascinating subject on the world.  And that was a whole post that could be surmised as &quot;just hit enter more often, dude&quot;, sorry.</p>
        <div class="button flex justify-between">
            <a href="720.html"><span class="back arrow"></span></a>

            <a href="722.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2024<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
</body>
</html>