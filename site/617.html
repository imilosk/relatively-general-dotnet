
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Home â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<script>
    const lightModePref = window.matchMedia("(prefers-color-scheme: light)");

    function getUserPref() {
        const storedTheme = typeof localStorage !== "undefined" && localStorage.getItem("theme");
        return storedTheme || (lightModePref.matches ? "light" : "dark");
    }

    function setTheme(newTheme) {
        if (newTheme !== "light" && newTheme !== "dark") {
            return console.warn(
                `Invalid theme value '${newTheme}' received. Expected 'light' or 'dark'.`,
            );
        }

        const root = document.documentElement;

        // root already set to newTheme, exit early
        if (newTheme === root.getAttribute("data-theme")) {
            return;
        }

        root.setAttribute("data-theme", newTheme);

        const colorThemeMetaTag = document.querySelector("meta[name='theme-color']");
        const bgColour = getComputedStyle(document.body).getPropertyValue("--theme-bg");
        colorThemeMetaTag.setAttribute("content", `hsl(${bgColour})`);
        if (typeof localStorage !== "undefined") {
            localStorage.setItem("theme", newTheme);
        }
    }

    // initial setup
    setTheme(getUserPref());

    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("theme-toggle").addEventListener("click", () => {
            const theme = localStorage.getItem("theme");

            if (theme === "dark") {
                setTheme("light");
            } else {
                setTheme("dark");
            }
        });

        document.getElementById("toggle-navigation-menu").addEventListener("click", (e) => {
            const button = e.target;
            const ariaExpanded = button.getAttribute("aria-expanded");
            const header = document.getElementById("main-header");

            if (ariaExpanded === "true") {
                button.setAttribute("aria-expanded", "false");
                header.classList.remove("menu-open");
            } else {
                button.setAttribute("aria-expanded", "true");
                header.classList.add("menu-open");
            }
        });
    });
</script>

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <theme-toggle class="ms-auto">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main">
    <section aria-label="Blog post list">
        <a href="https://ayende.com/blog/2840/enterprisey-vs-enterprise-software" target="_blank"><h1 class="title mb-6">Enterprisey vs Enterprise Software</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 07, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Note, this is a partial response to Sam Gentile post about ALT.NET.&#xA;&#xA;Enterprisey - This is a derogatory term, used to refer to a system&#xA0;whose design or implementation is overly complex&#xA0;compared to&#xA0;its supposed function. Often the term&#xA0;refers to the usage of anti patterns&#xA0;such as Everything is configurable, Executable XML, etc. Those systems are consider bad because a simpler design or implementation would have achieve the same purpose, at far lower cost, with greater maintainability overall.&#xA;Enterprise Software - A common term used to refer to systems that usually run a core part of a business. Often those are mission critical systems, which interact with many other systems in the organization in many interesting ways. Enterprise software is considered hard because it often need to mix technological capabilities with the business logic, and be flexible to handle changing conditions as the business evolves.&#xA;Enterprise Software done right - A system that handle those complex issues while keeping complexity to the minimum necessary to handle the actual requirements.&#xA;Enterprise Software done wrong - see Enterprisey</p>
        <a href="https://ayende.com/blog/2839/more-on-data-layer-componentization" target="_blank"><h1 class="title mb-6">More on Data Layer Componentization</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 07, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">A while ago I commented&#xA0;on Alex&#x27;s data-layer componentization idea. Alex replied, and Diego as well, but I didn&#x27;t get around to answering them until now. To remind you, the basic idea is:   A data-layer component simply allows for information to be shared between different applications.  By supporting re-use data layer componentization allows you to break the duplication habit. You can still have silos, but the natural tendency to duplicate data disappears. Each new silo will instead contain only new types of data and where old types are required, simply pointers, or cross silo foreign keys. I am going to get to answering their points in a bit, but one thing that I do agree on is the idea of a DataServer, to quote Alex:  I like to think of this as a DataServer as opposed to a Database. The idea being that a DataServer is the place you go to get data in the shape that makes sense for you (i.e. the conceptual model), and is responsible for getting that data from one or more data-sources or databases on your behalf. Except that I see this in an entirely different light. I don&#x27;t like the idea of distributing the data over many sources, I would much rather pull all this information to my own DB, and shift the problem from downed application to stale data. That can be a problem, but that depends on the application at hand. See the end of the post about my ideas of this, for now, I want to get to Alex&#x27;s points. I mentioned that taking dependencies on several databases cause a server decrease in the reliability of the system, any of them going down will cause the entire system to go down:  Of course systems with multiple dependencies are less robust, but the alternative opens you up to relying on out of date or incorrect data, which hardly seems any better?  It really depends on the application at hand, most business application can work with stale data without much problem, and recovering from that isn&#x27;t really a problem. But it is far less common to find a scenario where possibly stale answer is better than a downed application.  Another point that I raised was that changing a single application can ripple to all the other applications in the organization.  This is essentially the dual schema problem n&#x2019;est pas? So you handle it the same way you always handle the dual schema problem, with an intermediary conceptual model. Incidentally there is no reason you have to have only one conceptual model for any given data model either. If one application changes and another doesn&#x27;t create a different conceptual model. That is actually the N&#x27;th Schema problem. I am nervous about making changes to one application just because another have changed, much less N other applications. Shotgun Surgery in a grand level. Even if we assume that we need to merely update the mapping layer, I have had enough problems with that to cause me to call it simple or painless. And if we are talking about a change that affect the conceptual model as well, this gets even more interesting. Another concern was about business logic that is required to actual do something with the data. Using this data server approach, you need the business logic to make sense of the data, and if this business logic change in the original application, what happens to the rest of the applications?  I&#x2019;m not claiming that the ability to share data-layers suddenly negates the need for a business layer! In fact by sharing data-layers it finally becomes possible to share business layers. That is what Base4 tried to do, it was after all a client/server ORM. I am not seeing how you can share a business layer from multiply application in a single application. You can build a web service that would get the data, already processed, but that is not sharing the business layer from another application, that is accessing that other application for the data. I mentioned security as well, row and column level security that is bounded by business rules, Alex gave much the same answer for this as well, and I have the same answer, I can&#x27;t see it working after the first change. Cross databases FK:  Until relational databases matured I am sure the management of standard FK&#x2019;s was tricky too, we need to recognize that we are the age of distribution, all the data necessary often can&#x2019;t be in one place, it is an interconnected world and we need to understand this. This is why we need data-servers not just databases. Nevertheless, this doesn&#x27;t solve the problem. And trying to do cross DB FKs is a painful performance issue, with no real good answers. That leads well into the problem of performance when you need to pull the data from disparate sources:  Yes doing joins across databases is likely to be slow, but using this performance issue, to say it shouldn&#x27;t be done is a little like saying downloading a movie from the internet takes a long time,&#xA0; so we should never do it. I don&#x27;t care if it takes a long time, I want to see the damn movie! That is fine and good, but saying that you don&#x27;t care about performance stops when you realize that you have to send the result back to the client in 500ms or less. There were few to none movie downloads in the 90s, because download speed and cost made it impractical in the extreme. Only when it got to the point where you could download a movie fairly easily is started to be really popular. There are two kinds of performance problems, the small that you don&#x27;t care about in advance (calling the DB in a loop is a favorite of mine) and the architectural ones that you really want to at least consider ahead of time. Calling external resources is right there on the top of the list as far as I am concerned. If in order to serve a request I need to make 5 requests by design, then I am going to think it really hard before I go on. It is simply not the place I want to start with.  Just because something has issues, doesn&#x2019;t mean it isn&#x2019;t useful. I am not claiming that data layer componentization solves every problem; rather that it is a very nice trick to have in the arsenal. No argument here, I certainly think that Alex has a lot of merit here, I am trying to point out the other side. I don&#x27;t think that this is something that is quite relevant yet. Alex then went own to point the flaws in my own preferred approach, bringing all the data into the application&#x27;s DB using some sort of an ETL process:  For example Ayende&#x27;s preferred route of using an ETL process to create local copies.  More often than not developers don&#x27;t actually know that there is another database that has the information they need or simply don&#x27;t bother with an ETL process anyway. Often times every database thinks it is the master, and the natural result is no database can be trusted. Sometimes It is just not practical to duplicate all data, sometimes there is just too much, or sometimes the cost of transfer is too high, or it takes too long to do it, or you can&#x27;t tolerate dirty data, or you have too many places to copy that data. In order to avoid (2), unwieldy and error prone &#x2018;human&#x2019; processes need to develop, people need to remember to go into 2, 3, 6, 15 (?) systems to keep everything in sync. To answer the points in order:  If they don&#x27;t know there is another DB, how would they access the data at the first place. I find it hard to believe that a developer will think &quot;Hm, I guess I need the customer data, let us just invent one&quot; Defining who is the master of the data is often critical, absolutely. Master-Master merging can be a PITA of a high order. I can usually copy parts of the data, or do diffs, to decrease the cost of moving the data. The point about stale data is a very good one, I&#x27;ll answer it in the end of this post. I don&#x27;t think so, in order to avoid the master/master problem you need to define who the master is, and how you go about updating that piece of the data. &#xA0; Diego&#x27;s post is a more thorough analysis of why taking the ETL approach to the extreme is not a good idea. He focus on the cost of making a change to the system after it was deployed, specifically, what happen when you have N ETL processes that needs to be modified as a result of a schema change? The cheeky answer to that, have the ETL work of the conceptual schema, at which point you have a single place to go and modify, the ETL processes.  But no, I don&#x27;t think that I would recommend this approach for all the systems in an organization, assuming N systems that needs each other information, you would have NxN processes, and that is problematic.  So, what is my view of the data server? Well, let us start by removing the data, and then the server. I have said it before, a application database is an implementation detail, you don&#x27;t want outsiders to start pawing over your data. The way I consider it, define a set of web services for each application, that allows external applications to use the data in the application. If you needs BA reports, ETL the data to a reporting database, you are likely to want to that anyway. No, I didn&#x27;t drink the WS koolaid, and I am not really happy that I am suggesting a WS as a &quot;Solution&quot;, but that is just my biases against buzzwards. At its heart, this is the same idea, but with WS instead of data, and with the conceptual schema captured as XML messages. The major difference is that I have more tools at my disposal to work with WS than with databases. Versioning, for one, is something that isn&#x27;t trivial by any means, but it is something that WS does much better than databases.&#xA0;Most of the other concerns are also mitigated by this approach. Business level decisions, be it logic or security, for instance, are enforced by the service, which is part of the application, so changing that would immediately affect everything else.  But, didn&#x27;t I just said that I want to minimize the amount of external dependencies that I have? Doesn&#x27;t it count as the same thing? Yes and no. I wouldn&#x27;t want my application to talk to a dozen services any more than I would want it to talk to a dozen databases. That is where service aggregator come into place. They aggregate related services into a single place. This is the place where I would apply caching, for instance, but not where I would put business logic. This is also a good place to decide what to do about downed service. I can either use a cached value, retry a number of times, try an alternate method, or fail the whole operation. If this looks like an ESB, I am sorry about it, this is not the intention. I view the service aggregator as a way to aggregate the information from disparate sources into a single place. I can certainly see a way to create some framework for this, and rollout an aggregator per application, to meet that application need. Although I think that several core services or core aggregators should do for most of what the applications need to do. And yes, that is not my ideal, but I can&#x27;t really see a way to work with disparate sources without handling this disparity somewhere, so I don&#x27;t see a way around that.</p>
        <a href="https://ayende.com/blog/2838/judging-when-a-technology-hits-the-mainstream" target="_blank"><h1 class="title mb-6">Judging when a technology hits the mainstream</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 07, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This is just my own scale, but my criteria is that I get requests for finding candidates for a position that need this technology. Requests from the community that already using this technology doesn&#x27;t count. The trigger to this post is that I just saw a couple of requests that specified required knowledge in NHibernate / Active Record. :-)</p>
        <a href="https://ayende.com/blog/2837/amazons-dynamo" target="_blank"><h1 class="title mb-6">Amazon&#x27;s Dynamo</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 06, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Okay, Amazon has just published an interesting paper&#xA0;about how they manage state for some of their services. The underlying idea is a hash table, distributed, reliable, versioned and simple.&#xA0; They have some interesting constraints that influenced the design of the system, and it is an interesting, if dry, read. Dare has some comments about it. I&#x27;ll limit myself to saying that the data versioning approach is extremely interesting. The idea is that you issue a get(key) and the result is a set of relevant objects that may need reconciliation. They end with a conclusion that while this may seem like putting a lot of the responsibility in the app developers hands, this is something that they already had to deal with due to the scalability requirements that they face.  I wouldn&#x27;t want to do this for a small site, but I can see the advantages for scaling wide.  Amusingly enough, the classic shopping cart sample appears to be a core service for this system, and a complex one.</p>
        <a href="https://ayende.com/blog/2836/and-now-that-is-flattering" target="_blank"><h1 class="title mb-6">And now THAT is flattering</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 06, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Take a look at this Object Builder Bug, and David Hayden&#xA0;coverage of that&#xA0;bug. Extremely flattering, and a real credit to Hammett.  When the criteria is: &quot;It ain&#x27;t Windsor&quot;, it says quite a bit. :-)</p>
        <a href="https://ayende.com/blog/2835/patents-trademarks-and-copyright-urgh" target="_blank"><h1 class="title mb-6">Patents, Trademarks and Copyright, Urgh!</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 05, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I never understood why developers are supposed not to know about such things. This is what we do for a living, we have better known what ground we tread upon. Here is the short guide from a developer point of view:   Patent - I thought of it, was the first to get to the patent office, therefor, I get a monopoly on the idea, if you try to use this, even if you never heard of me and mine, you can&#x27;t use it unless I agree to it (and you pay me many gobs of money, of course).The critical part is that you are violating a patent even if you had created it all on your own. A patent is a method to do something, if you use the same method, regardless how you got to it, you are violating it. Software Patent - a get-rich-quick scheme that should die already, the ability to patent idiotic stuff and then sue other people.Amazon OneClick patent is such, or the recent IBM patent on the checkbox.I have no problem with algorithms being patented, that usually represent the result of a real research, but software should apply to the same rules of math, and be unpatentable by default. Trademarks - A phrase, word, picture, etc that have been reserved for the use of a certain party in a specific industry. For instance,&#xA0;if I wanted to create&#xA0;a computer hardware company, I probably shouldn&#x27;t choose the image on the right as my logo, because Apple may object, reasoning that this would be violating their trademark.Basically, a trademark is supposed to protect a party from someone else that is trying to use recognizable things to fool customers to think that they are the original party.Trademarks have to be in the same field, so having that logo for a fruit store is perfectly fine.Trademarks needs to be depended. If I used this logo for some time with Apple knowingly ignoring it, then I can say that they have let the trademark expire, and I am allowed to use it. Copyright -&#xA0;copyright means that as the creator of something, I am the one that is in charge of deciding what to do with it. For instance, this blog post is copyrighted, and if someone was to reprint it without permission, it is likely that I wouldn&#x27;t like it, and ask them to take it down.Copyright is the most common way to control what happens with software, and indeed, this is what most software license deal with, allowing copies of the software to be distributed.Here you also get into the part of copyright violations, which may simply copying without rights :-) or more complex, creating a derivative work without a license.For instance, de-compiling a commercial control using Reflector, renaming the namespace and then offering it to sale under your own name is such a case. Other stuff - there are all sort of other things out there that I didn&#x27;t take the effort to name, a specific design may be challenged, Apple&#x27;s suing over the Mac design comes to mind, and even on the trash can in the corner, or Microsoft claims that they own the Ribbon UI design, and that you need a license for that. Now, after all of that, where am I getting at? There isn&#x27;t much that you can do about patents, except ignore them. If you actively go looking for them, in some places (US), you are then considered liable for more damages.  Trademarks, that is a place where a bit of research. For instance, creating a company called Rhino Software is probably not a good idea, because it already exists. This is not something that should really concern developers, although ISVs should probably pay attention there. Copyright, now this is the more interesting part. Here is where we get into &quot;tainted eye balls&quot;, and this is especially relevant as a result of MS making the source for the BCL available. Ignoring such blatant theft example as above, there is the problem of having to solve a problem, going into such a codebase, seeing how they solved it, and solving your own problem in a similar fashion. Even assuming that you did not copy&#xA0;&amp; paste the code from there, it can still be said that you are in violation of their copyright because you have residual knowledge from looking at the code. This is why I agree with Frans Bouma&#x27;s statements about the license, that this is not something that you want to look at. Until such time as it comes out with a&#xA0; clause that says that you are not tainted&#xA0;by reading the code, you really don&#x27;t want to touch this. &#xA0;But wait, I hear you say, you don&#x27;t say that about Reflector, and that is the same thing, no? As a matter of fact, no, it is not the same thing at all. Reflector is Reverse Engineering the code to source form, that is not at all like looking at the source code itself. Yes, for many practical purposes, they are one and the same, but they are not the same from a legal point of view. Reverse Engineering is allowed (in some places, the EU for one, and IL as well, I think. Probably not in the US, but I have no clue) and it means that you can are not tainted from that knowledge. Looking at the actual source code is not reverse engineering, and it removes the reverse engineering defense that you may be able to use.  To put it in other terms, the Samba project works by reverse engineering windows&#x27; protocols, that is allowed, but if MS makes available the networking protocol code, and one of Samba&#x27;s team members look at it, then commit a change, that is a violation of the copyright. In fact, I know that Mono has stricter policy, of not using the BCL reflectored code, or knowledge gained from Reflectoring over the BCL, but writing from scratch. That is probably wise, cautious, move from them. Anyway, that is my interpretation of the whole deal, and the bare minimum that you need to know about his matters.</p>
        <a href="https://ayende.com/blog/2834/open-source-forking" target="_blank"><h1 class="title mb-6">Open Source &amp; Forking</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 05, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Joe raises an interesting question&#xA0;as a result of my post about Dunn &amp; Churchill forking a commercial version of Active Record. I mentioned that I am alright, personally, with this behavior, and he asks:  Why would you be alright with that? Hammett, yourself and others have put countless hours in to the project and then these two dopes repackage and sell your work. I understand that legally it may be OK, but it doesn&#x27;t pass muster in any way at all ethically. We have two different things going on here at once.  I certainly don&#x27;t like it, I would much rather that instead of selling &quot;DunnChurchill.Data.DiamondBinding.ActiveRecord&quot;, which is a copy of Castle ActiveRecord, they would package their product with Castle ActiveRecord. Just in terms of allowing their users to know that they can go to the Castle Forums and ask a question, or google for a question regarding that, it would be a significant difference. Quite a side from the matter of giving credit where it is due. But, and this is important, when I worked on Castle, I explicitly decided that my contributions should go under an open source license. Let us look at the definition of that, shall we? Here are the two relevant clauses for this discussion:  1. Free Redistribution  The license shall not restrict any party from selling or giving away the software as a component of an aggregate software distribution containing programs from several different sources. The license shall not require a royalty or other fee for such sale.  3. Derived Works  The license must allow modifications and derived works, and must allow them to be distributed under the same terms as the license of the original software.  Most often, the discussion of open source revolves around the free redistribution (well, just the free part of it :-) ), but derived work is just as relevant.  If we go to the Apache license, which is what Castle is released under, we will find:   2. Grant of Copyright License.  Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form. So, this it where I (Contributor) grants&#xA0;you the rights to do a whole lots of things on Castle and any derived work from it, in both source and object form. Section 4 of the same license deals with the steps you must take to ensure that you have the right to redistribute, and from a cursory glance, it looks like Dunn &amp; Churchill has done what they are required to do. Let us go over it again:  The OSS definition allows it, in fact, it sees it as a core part of what OSS is about. The specific license allows it. I have agreed to both of those when I contributed. I don&#x27;t think that after saying:  You can redistribute this software and/or your modifications. You can use this software in commercial products.  We can also add, but if you do all both we will be angry. There is no stealing involved, because it is allowed. Now, all of that said, I mentioned already that I don&#x27;t like it. I don&#x27;t like it because while it is permitted, is it usually not... done. Perhaps I should say that it is not polite to do so? I think that this is a good distinction, it is legal, but not polite. It is certainly not the Right Thing To Do as far as I am concerned.  There are reasons for forking a code base, which move from politics and personal vendettas to disagreeing about code styles to stagnated project or actual wishing to take a code base in a different direction. Without commenting on the validity of these, and keeping in mind that I don&#x27;t personally like forking in general, all of the above are considered &quot;normal&quot; reasons for forking. Usually a fork die off, or the parent project die off, but those are what considered to be the acceptable reasons for forking. Forking in order to change the name and sell the product is not, in my opinion, an acceptable reason. Mainly because as far as I can see, the only reason to do that was to be able to package the whole thing under their name. The value added in this product is the VS integration, I would imagine, and I doubt that any would have a problem with them selling such a product if they kept using Castle ActiveRecord. As it is, it looks like they are trying to offer in their product more than they actually have built, probably because there isn&#x27;t that much of a need for VS integration alone. In short, legal, but not polite, and it goes quite outside the usual accepted practices of what you can usually do. I am fine with it because when I contributed, I agreed what can be done legally to my contributions, not just what is considered accepted. Nevertheless, I still don&#x27;t like it, and I have no problem holding both opinions at the same time.</p>
        <a href="https://ayende.com/blog/2833/imitation-is-the-sincerest-form-of-flattery" target="_blank"><h1 class="title mb-6">Imitation is the sincerest form of flattery</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 05, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Well, I guess that Castle Active Record just a whole shower of flattery. This&#xA0;was just posted to the Castle Forums, apparently Dunn &amp; Churchill have a product called Diamond Binding that looks very much like Castle Active Record. There is a code project article about it here, and from the API and the license files, it looks like they have taken the Castle Active Record source and repackaged it.&#xA0; Now, this is allowed by the license, and this is something that I am perfectly fine at. It looks like they did some nice things with VS integration, but that is just looking at their example, I haven&#x27;t installed it.</p>
        <a href="https://ayende.com/blog/2832/trying-to-mimic-erlang-style-tasks-in-c" target="_blank"><h1 class="title mb-6">Trying to mimic Erlang style tasks in C#</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 05, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">After I lamented about missing key features for Erlang style tasks, Avish has told me about ThreadPool.RegisterWaitForSingleObject, which I was unaware of. I bang out this implementation of parallel sort as an example. Hacking code, proof of concept, written at 3AM in the morning, etc. public static WaitHandle ParQuickSort&lt;T&gt;(T[] domain, int lo, int hi)&#xA;&#x9;where T : IComparable&lt;T&gt;&#xA;{&#xA;&#x9;if (hi - lo &lt;= 1)&#xA;&#x9;{&#xA;&#x9;&#x9;return new ManualResetEvent(true); //already signalled, no wait&#xA;&#x9;}&#xA;&#x9;ManualResetEvent manualResetEvent = new ManualResetEvent(false);&#xA;&#x9;Semaphore semaphore = new Semaphore(0, 2);&#xA;&#xA;&#x9;int pivot = Partition(domain, lo, hi);&#xA;&#xA;&#x9;WaitOrTimerCallback releaseSemapore = delegate&#xA;&#x9;{&#xA;&#x9;&#x9;int release = semaphore.Release();&#xA;&#x9;&#x9;if (release == 1)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;manualResetEvent.Set();&#xA;&#x9;&#x9;}&#xA;&#x9;};&#xA;&#x9;ThreadPool.QueueUserWorkItem(&#xA;&#x9;&#x9;delegate&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;WaitHandle leftWaitHandle = ParQuickSort(domain, lo, pivot - 1);&#xA;&#x9;&#x9;&#x9;ThreadPool.RegisterWaitForSingleObject(leftWaitHandle,&#xA;&#x9;&#x9;&#x9;                                       releaseSemapore, null, TimeSpan.FromDays(1), true);&#xA;&#x9;&#x9;});&#xA;&#x9;ThreadPool.QueueUserWorkItem(&#xA;&#x9;&#x9;delegate&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;WaitHandle rightWaitHandle = ParQuickSort(domain, pivot &#x2B; 1, hi);&#xA;&#xA;&#x9;&#x9;&#x9;ThreadPool.RegisterWaitForSingleObject(rightWaitHandle,&#xA;&#x9;&#x9;&#x9;                                       releaseSemapore, null, TimeSpan.FromDays(1), true);&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;);&#xA;&#x9;return manualResetEvent;&#xA;}&#xA;&#xA0;&#xA;Yes, it is ugly, but bear with me.&#xA;The usage pattern is simple:&#xA;WaitHandle sort = ParQuickSort(data, 0, count - 1);&#xA;sort.WaitOne();&#xA;Obviously we can use a Future here instead.&#xA;What is interesting is that hacking approach thought me several things, RegisterWaitForSingleObject will crash &amp; burn if you try to wait for over 369,846 objects, since at that point you will get this lovely exception:&#xA;&#xA;Unhandled Exception: System.ApplicationException: Not enough storage is available to process this command. (Exception from HRESULT: 0x80070008) &#xA0;&#xA0; at System.Threading.ThreadPool.RegisterWaitForSingleObjectNative(WaitHandle waitHandle, Object state, UInt32 timeOutInterval, Boolean executeOnlyOnce, RegisteredWaitHandle registeredWaitHandle, StackCrawlMark&amp; stackMark, Boolean compressStack)&#xA;...&#xA;Second, performance here is really a bitch, it took the impl above 5 seconds to sort through 100,000 items, while Array.Sort did it in a few milliseconds.&#xA0;In fact here are the numbers:&#xA;&#xA;Parallel: 00:00:06.2656250Array.Sort: 00:00:00.0156250&#xA;I actually had to get to 100,000 items before I could catch Array.Sort actually taking any time. &#xA;I am going to bet that what skews the problem is all the calls to events and semaphores, those are kernel calls, which are taking long time. Not nearly wake enough to try to implement user mode locking strategy that would work here.&#xA;At any rate, it looks like this approach, at least, is not really going to be a worthwhile one.</p>
        <a href="https://ayende.com/blog/2831/refactoring-threading-code" target="_blank"><h1 class="title mb-6">Refactoring threading code</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 05, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Let us start by saying that threading is complex, hard and complicated. A while ago I was asked to do a code review of a JoinAll() method, it looked somewhat like this: public void JoinAll(IEnumerable&lt;Thread&gt; threads)&#xA;{&#xA;&#x9;foreach (Thread thread in threads)&#xA;&#x9;{&#xA;&#x9;&#x9;if(thread.Join(500)==false)&#xA;&#x9;&#x9;&#x9;thread.Abort();&#xA;&#x9;}&#xA;}&#xA;I was properly horrified by the use of thread.Abort(), but as you know, all rules have exceptions, so instead of commenting on the implementation details of the method, I asked to understand the entire scenario. This piece of code will probably easier than me trying to explain:&#xA;List&lt;Thread&gt; threads = new List&lt;Thread&gt;();&#xA;List&lt;string&gt; results = new List&lt;string&gt;();&#xA;&#xA;foreach (string urlParam in GetUrlsToQuery())&#xA;{&#xA;&#x9;string url = urlParam;&#xA;&#x9;Thread thread = new Thread(delegate()&#xA;&#x9;{&#xA;&#x9;&#x9;WebRequest wr = WebRequest.Create(url);&#xA;&#x9;&#x9;WebResponse response = wr.GetResponse();&#xA;&#x9;&#x9;using (Stream stream = response.GetResponseStream())&#xA;&#x9;&#x9;using (StreamReader sr = new StreamReader(stream))&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;string result = sr.ReadToEnd();&#xA;&#x9;&#x9;&#x9;lock (results)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;results.Add(result);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;});&#xA;&#x9;threads.Add(thread);&#xA;&#x9;thread.Start();&#xA;}&#xA;&#xA;foreach (Thread thread in threads)&#xA;{&#xA;&#x9;if(thread.Join(500)==false)&#xA;&#x9;&#x9;thread.Abort();&#xA;}&#xA;&#xA;ProcessResults(results);&#xA;That piece of code is in the Page_Load method of a page. The scenario was querying remote servers for information (15 - 20 of them, most often), and there was a time limit to how long we needed to wait before we need to display the results to the user.&#xA;The code above actually works, but it is tremendously wasteful of resources (creating a thread is expensive) and not really nice way to behave to a thread, it is entirely possible to get to a point where you break up the lock mechanism and remains with a broken app because of aborted threads that were in the middle of supposedly atomic operation. Not to mention that we are likely not going to cleanup the resources very well if we abort the thread.&#xA;The hard constraint that the page must be rendered in a second or so. But here, if even two of those servers are not playing well, it is not going to render fast enough.&#xA;In short, do write code like the above.&#xA;I took the code and change it a bit, instead of explicit threading, let us use the async API instead, so we get this piece of code:&#xA0;&#xA;List&lt;string&gt; results = new List&lt;string&gt;();&#xA;List&lt;WaitHandle&gt; waitHandles = new List&lt;WaitHandle&gt;();&#xA;foreach (string url in GetUrlToQuery())&#xA;{&#xA;&#x9;WebRequest wr = WebRequest.Create(url);&#xA;&#x9;IAsyncResult asyncResult = wr.BeginGetResponse(delegate(IAsyncResult ar)&#xA;&#x9;{&#xA;&#x9;&#x9;WebResponse response = wr.EndGetResponse(ar);&#xA;&#x9;&#x9;using (Stream stream = response.GetResponseStream())&#xA;&#x9;&#x9;using (StreamReader sr = new StreamReader(stream))&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;string result = sr.ReadToEnd();&#xA;&#x9;&#x9;&#x9;lock (results)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;results.Add(result);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;},null);&#xA;&#x9;waitHandles.Add(asyncResult.AsyncWaitHandle);&#xA;}&#xA;&#xA;WaitHandle.WaitAll(waitHandles.ToArray(), TimeSpan.FromMilliseconds(700),false);&#xA;string[] resultsCopy;&#xA;lock(results)&#xA;{&#xA;&#x9;resultsCopy  = results.ToArray();&#xA;}&#xA;ProcessResults(resultsCopy);&#xA;Now, instead of having a lot of blocked threads, we have moved it to the framework responsibility, we then gather all the wait handles and wait on all of them (remember, there aren&#x27;t more than 20, but if more than 64 are required, we can manage as well).&#xA;The important part comes when we decide that we want to give up, we make a copy of the results so far, and then start to process them. In the meantime, any request that was completed can go along its merry way and add the newly got result to the results list, but that is no longer relevant, because it got there too late.&#xA;If I wanted to get really deep into it, ASP.Net has the notions of the async request handling, which is very cool, but it doesn&#x27;t have an expiration time (that I know of, at least), and we didn&#x27;t want to get into it in the first place. &#xA;Anxiously awaiting your comments, telling me how wrong I am.</p>
        <div class="button flex justify-between">
            <a href="616.html"><span class="back arrow"></span></a>

            <a href="618.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2024<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
</body>
</html>