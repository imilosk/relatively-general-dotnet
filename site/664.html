
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 664 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-6631">
            <a href="https://ayende.com/blog/3514/on-fluent-nhibernate" target="_blank">
                <h2 class="title mb-6" id="article-6631">On Fluent NHibernate</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 12, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">There has been some noise lately about Fluent NHibernte. This gives you a fluent interface to configure NHibernate mapping. I don&#x27;t really see the point, frankly. Fluent NHibernate, at least in its current stage, requires a mapping class per entity. At this point, I might as well use the XML again.  In general, anything that requires me to touch two places to make one change is suspect. That is part of the reason that I like ActiveRecord, the change is highly localized.  NHibernate&#x27;s XML serve a very different purpose, it is explicitly designed to separate the persistence concern from the entity, so it has to be external. This is annoying, to say the least.   What would be the best of both worlds, however, would be something like this:      public class MyMappingGenerator : MappingGenerator&#xA;{&#xA;    // another approach would be IEnumerable&lt;Assembly&gt; GetEntitiesAssemblies()&#xA;    public override IEnumerable&lt;Type&gt; GetEntityTypes()&#xA;    {&#xA;        foreach(Type maybeEntity in Assembly.Load(&quot;My.Model&quot;).GetTypes())&#xA;        {&#xA;            if(maybeEntity.Namespace == &quot;My.Model.Entities&quot;)&#xA;                continue;&#xA;            yield return maybeEntity;&#xA;        }&#xA;    }&#xA;   &#xA;    public override IEnumerable&lt;Type&gt; GetHierarcyRoots()&#xA;    {&#xA;        yield return typeof(Party);&#xA;        yield return typeof(Animal);&#xA;    }&#xA;   &#xA;    public override InheritenceMode GetDefaultInheritenceMode()&#xA;    {&#xA;        return InheritenceMode.Discriminator;&#xA;    }&#xA;   &#xA;    public override IdentityStrategy GetIdentityStrategy()&#xA;    {&#xA;        return new HiLo(&quot;Id&quot;);&#xA;    }&#xA;   &#xA;    public override IEnumerable&lt;MappingStrategy&gt; GetMappingStrategies()&#xA;    {&#xA;        yield return new MapSimpleProperties();&#xA;        yield return new MapManyToOnePropertiesIn(typeof(Party).Assembly);&#xA;        yield return new MapManyToManyAssociationsBetween(new Hashtable{&#xA;            {typeof(Customer), typeof(Party)},&#xA;            {typeof(Party), typeof(Customer)}&#xA;        });&#xA;        yield return new MapOneToMany().AsSet();&#xA;    }&#xA;}&#xA;&#xA;&#xA;This allow you to define the convention, and let the tool deal with it. If it reminds you of Binsor you are correct.&#xA;&#xA;Chad hints that this is either possible to do right now, or will soon be possible, using Fluent NHibernate. And at that point, I would be very interested.</p>
        </article>
        <article id="article-6632">
            <a href="https://ayende.com/blog/3513/videos-from-alt-net-israel" target="_blank">
                <h2 class="title mb-6" id="article-6632">Videos from ALT.Net Israel</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 12, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Here are the videos that were posted so far from the ALT.Net ISrael:     Alt.net Israel - Hallway chat - performance     Alt.net Israel - Refactoring     Alt.net Israel - Distributed Caching     Alt.net Israel - Dynamic Languages &amp; DSLs     Alt.net Israel - SOA in the real world     Alt.net Israel - Closing Talk</p>
        </article>
        <article id="article-6633">
            <a href="https://ardalis.com/dotnetrocks-talk-on-business-and-entrepreneurship/" target="_blank">
                <h2 class="title mb-6" id="article-6633">DotNetRocks Talk on Business and Entrepreneurship</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 11, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">A couple of weeks ago I did a DotNetRocks show with Carl Franklin and Mark Dunn in which we discussed our collective experiences with&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-6634">
            <a href="https://ayende.com/blog/3512/a-question-of-scale" target="_blank">
                <h2 class="title mb-6" id="article-6634">A question of Scale</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 11, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">One of my routine set of questions when I am coming to a new codebase is: &quot;What is the expected load on the system?&quot; or &quot;How big do you need this to scale?&quot;   I have several variant of the question, including, &quot;What precentage of your budget is dedicated for scaling scenarios?&quot;   In plenty of cases, the answer that I get is vague. There is not definite scaling requirements, but the client want to be able to scale. Here are a few rule of thumbs that will help you to know if scaling is even an issue at this stage of the game.     If you can&#x27;t came up with a number for the scaling scenario, you don&#x27;t need to scale. A number isn&#x27;t 10,321 concurrent connected users with a peak of 28,154 users. A number is &quot;ten thousands to fifty thousands requests&quot;, &quot;Fifteen million visitors a day&quot;, etc. You need to have an overall idea, otherwise, you don&#x27;t need to scale.    If you are replacing an old (slow) system, and you don&#x27;t know the numbers, you don&#x27;t need to scale.    If you are planning of scale-as-we-go approach, but you don&#x27;t have a way to measure usage (and usage is more than just requests per second), than you won&#x27;t be able to scale.   Designing for scale has a cost associated with it, not a high one, if you are doing things correctly, but it is there. Be aware of unnecessary scaling efforts.</p>
        </article>
        <article id="article-6635">
            <a href="https://ayende.com/blog/3511/a-question-of-usage" target="_blank">
                <h2 class="title mb-6" id="article-6635">A question of usage</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 09, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I have a problem as an OSS developer. If I am doing my &quot;job&quot; right, producing easy to use, functional and useful, I am never going to hear from the users.  In ALT.Net Israel and in several other engagement lately, it has come to my attention that a lot more people using some of my projects than I ever assumed. I know that a lot of people are using Rhino Mocks, and this week I found a lot more big users of NHibernate than I knew off, but I wasn&#x27;t really surprised. I know that Rhino Commons and Rhino Security are used in the wild, because I get questions about them often (Rhino Security much less than Rhino Commons, but it is there).  What surprised me was learning that there are people out there using Rhino ETL,&#xA0; Rhino Igloo (and presumably, in time, Rhino Queues). I don&#x27;t think that I have ever seen a single question about them, but in the last two weeks, I had heard (in passing!) a few people mentioning that they are using that.  I was very surprised.</p>
        </article>
        <article id="article-6636">
            <a href="https://ayende.com/blog/3510/multi-tenancy-scriptability-and-dsl" target="_blank">
                <h2 class="title mb-6" id="article-6636">Multi Tenancy - Scriptability and DSL</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 09, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Previously on the Multi Tenancy series:&#xA;&#xA;  Multi Tenancy - Definition and scenario.&#xA;&#xA;  Reviewing Litware HR - P&amp;P Multi Tenancy Sample.&#xA;&#xA;  Multi Tenancy - The Physical Data Model&#xA;&#xA;  Multi Tenancy - Extensible Data Model&#xA;&#xA;  Multi Tenancy - Extensible Behaviors&#xA;&#xA;  Multi Tenancy - Development Structure&#xA;&#xA;  Multi Tenancy - Where do you put variability?&#xA;&#xA;It probably would not surprise you that I a seeing a place for a DSL in a Multi Tenant application. Indeed, one might almost say that I have DSL on my mind a lot these days.&#xA;Multi Tenant applications are all about managing variability between the tenants. A sweet spot for a DSL implementation is to manage policy while the application code define the actual operations.&#xA;Therefor, it shouldn&#x27;t come as a surprise that in many instances, where the variability in the application between one tenant and another is entirely (or predominantly) in policy, as it often is, a DSL is a good solution. In particular, defining such things as workflows, attaching behaviors to events in the applications, defining rules, etc. As you can imagine, this is not a single DSL, but a set of languages, each used for a particular task.&#xA;I am fond of this approach, for the obvious reasons, but also because it is the easiest way to bring the tenant customization into the tenants hands directly. If you go with that route, you need to be careful about managing the current state (to allow rolling back a changed script) and to ensure that you are isolating the actual application from the client&#x27;s code, which may very well be written in such a way that would harm the application. As such, it require a bit more investment in the infrastructure than letting developers handle things, but you get a large benefit out of it.</p>
        </article>
        <article id="article-6637">
            <a href="https://ayende.com/blog/3509/multi-tenancy-where-do-you-put-variability" target="_blank">
                <h2 class="title mb-6" id="article-6637">Multi Tenancy - Where do you put variability?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 09, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Previously on the Multi Tenancy series:     Multi Tenancy - Definition and scenario.     Reviewing Litware HR - P&amp;P Multi Tenancy Sample.     Multi Tenancy - The Physical Data Model    Multi Tenancy - Extensible Data Model    Multi Tenancy - Extensible Behaviors    Multi Tenancy - Development Structure   Paul Cowan has left an interesting comment on my post about Multi Tenancy - Development Structure.      I have migrated the app. from ASP and the ASP approach was to have a completelly seperate code stream for every customer and a seperate DB strucutre.     This was quickly getting out of hand.      I migrated all code streams into one app and every tenant now has their own DB instance of the same schema.      I am loathe to go down the path of actually developing maintainable bits of work that are only applicable for one tenant.      The variability has to be controlled by configuration, DSLs or maybe even clever use of build scripts that all build from the same code base.   I want to explain something, because it appears I wasn&#x27;t clear. I am not advocating creating completely separate code streams (interesting description) for each tenant. I want a shared core with the variability existing within the scope of each tenant. Like this example:     Most of the application is in the core, but each tenant can decide to override specific functionality on as needed basis.  The key part here is that we want to be able to have a coherent view of how each tenant behave. Trying to do this by configuration or clever build scripts is actively detracting from gaining that clear view. I want to be able to open a project and look at all the things that this tenant is doing that are different from the default approach. I don&#x27;t want to hunt down what &quot;pays_overtime&quot; means for this customer, and whatever they remembered that the &quot;pays_overtime&quot; configuration value must always go with the VALIDATE_MAX_OVERTIME_HOURS build value.  Regarding scripting and DSL, I am going to touch on this in a separate post, indeed, this is one extremely interesting way of dealing with the problem, but it is not conceptually different than the approach of creating a separate project. You just change the compiler, not the approach (not quite accurate on the detail, I&#x27;ll admit, but enough for high level view).  You should remember that adding variability is easy, just put an if statement there. Making sure that you can understand what is going on there is a much more complex task.  Of course, if I have a set of modifications that always go together, I will probably decide to make this explicit in my model, so now the path to create a tenant would be similar to this:     But my main concern is the maintainability of the system. As such, I want to make sure that the view I have on a tenant&#x27;s application is as clear as possible, and not mired in admittedly clever tricks that will cause a lot of pain down the road.</p>
        </article>
        <article id="article-6638">
            <a href="https://ayende.com/blog/3508/alt-net-israel-summary" target="_blank">
                <h2 class="title mb-6" id="article-6638">ALT.Net Israel Summary</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 09, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This is my 3,500th post, wow! Looks like there is some future in this blogging business after all.  On Thursday evening and Friday we had the first ALT.Net Israel conference. I would like to thanks the attendees, for a really awesome couple of days.  The sponsors, Sela Group, Red Gate, Type Mock, JetBrains and SQLink, also deserve a round of applause.  I had fun. I am not sure what happened, but I arrived in the morning and suddenly it was over. Didn&#x27;t feel any time pass at all.   I was honestly surprised by both the amount of people that have arrived and the quality of discussion that we had. I have hoped, but had hard time believing that this would happen. I am not sure where everyone was hiding before, but I hope (and am certain) that we will be able to create a strong community and keep this going.  We managed to get a lot of what went there on tape, and we are currently uploading stuff so the rest of the community will be able to watch it as well. I am looking forward to seeing Udi&#x27;s reaction to the mess we did of the SOA session, in particular :-)  I am still in the process of uploading the videos I took, hopefully it will be finished by the time you read this post. You can get them at this address: http://www.viddler.com/explore/ayende/videos/  I repeat, awesome event.</p>
        </article>
        <article id="article-6639">
            <a href="https://ayende.com/blog/3507/multi-tenancy-development-structure" target="_blank">
                <h2 class="title mb-6" id="article-6639">Multi Tenancy - Development Structure</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 09, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Previously on the Multi Tenancy series:     Multi Tenancy - Definition and scenario.     Reviewing Litware HR - P&amp;P Multi Tenancy Sample.     Multi Tenancy - The Physical Data Model    Multi Tenancy - Extensible Data Model    Multi Tenancy - Extensible Behaviors   You might ask, what is the relation between multi tenancy and the development structure... And you would be wrong to assume that there isn&#x27;t any. In particular, I am talking about designing the development structure and the tenants.  No, I don&#x27;t think that most of the tenants would care about how you structure your development effort. What I do think is that if you are not careful you might end up with the following problem:     Pretty horrible, isn&#x27;t it?  One of the things that you need to care for when you are building such a system is to enable development of tenants customizations without forcing the developers to have all the weight of all the tenants all the time.  I took part in such a project, in which each tenant&#x27;s customization lived in the main solution, with the core application. By the time I left, the main solution contained over 60 projects, Visual Studio was slow, the use of the configuration manager to control what to build when was pervasive (and different from one developer to another), leading to a lot of interesting issues:     The team was at the second or third tenant at that point, if I recall correctly. They had seven hundreds to go through.  Obviously this approach wouldn&#x27;t work. We need to start, from the beginning, as we want to continue. And considering such issues can lead to a great benefit both in the short and long term.&#xA0; For some reason, a lot of architects don&#x27;t seem to take into account such considerations, which tends to hurt later on.  A better approach, from my perspective, is to start with clear distinction about what is in the core project and what is in the tenats&#x27; customizations. Even generalized tenants&#x27; customization (those shared across more than a single tenant), should be separated.  In effect, this mean that we would have the following structure:     MyTenantApp.sln - this is the core application    Tenants\Northwind\Northwind.sln - customization solution for the Northwind tenant   Depending on the maturity of the application, a tenant project may or may not reference the actual projects of the core vs. referencing the compiled binaries. If we are in the first tenant (or the first few), we will generally need to extend the core a lot, so it is useful to do so.  Once we have gotten to the point where we have (more or less) stabilized what the core does and what each tenant do, we move to referencing the compiled core binaries, to reduce the load on Visual Studio and to ensure that there is this extra step in the middle, that would cause us to think about changing the core (with the versioning issues it may entail).  In this scenario, the core is actually the SDK for the application, not just the application itself. It means that there are more complex duties required of it, since it is a published interface which we will give to other developers to use. It means that there are versioning concerns you need to take into account, and that you should design your core with extensibility in mind. That does not mean BDUF, however, that is why I suggested having the core libraries as part of the first few tenants projects, so you can add this extensibility as you need it.  And that is quite enough for now, there are a lot of other considerations that you need to consider, such as source control structure, and how you sync between all the tenants and the core, but they are of lesser importance compared to the initial development structure.</p>
        </article>
        <article id="article-6640">
            <a href="https://ayende.com/blog/3506/multi-tenancy-extensible-behaviors" target="_blank">
                <h2 class="title mb-6" id="article-6640">Multi Tenancy - Extensible Behaviors</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 09, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Previously on the Multi Tenancy series:     Multi Tenancy - Definition and scenario.    Reviewing Litware HR - P&amp;P Multi Tenancy Sample.    Multi Tenancy - The Physical Data Model    Multi Tenancy - Extensible Data Model   When talking about multi tenancy, one of the greatest challenges is to set the system in such a way that each tenant can define their own behaviors about the way the system behaves.&#xA0; In fact, this is my main criteria for whatever a system is truly a multi tenant app or simply has flexible schema.   This is a non trivial challenge to solve, because you need to have a solution that allows you to modify the behavior of the application for each individual tenant. Let us explore the options we have:  The Parameterize If Statement  This approach is extremely simple, you define a list of parameters that each tenant can modify, and you use an if statement to create the appropriate behavior based on the parameter value. As a simple example:     if tenant.pays_overtime:&#xA;&#x9;if tenant.max_overtime_hours is not null:&#xA;&#x9;&#x9;salaryCalculation.PerformOvertimeCalculation(tenant.max_overtime_hours.Value);&#xA;&#x9;else:&#x9;&#xA;&#x9;&#x9;salaryCalculation.PerformOvertimeCalculation(int.MaxValue);&#xA;&#xA;&#xA;This approach is simple, as I said. But it suffer from a critical problem, scaling issues. The amount of parameters in the system rise sharply with its complexity, and the ability to understand how the system will behave for a particular tenant decrease just as rapidly. In fact, the matrix of options &amp; values for the parameters tends to get out of control fast. The end result is a system where maintenance is extremely painful.&#xA;&#xA;The Strategies and The Factory&#xA;&#xA;One of the rules for refactoring, Replace Conditional with Polymorphism, is very applicable here. Instead of having a lot of ifs all over the place, we refactor them into a proper strategy pattern, so now we have this:&#xA;&#xA;&#xA;  salaryCalculationStrategy = salaryFactory.CreateForTenant(tenant)salaryCalculationStrategy.Calculate(salary, month)&#xA;&#xA;&#xA;And we have implementations such as:&#xA;&#xA;&#xA;  SalaryWithOvertimeStrategy&#xA;&#xA;  SalaryWithOvertimeForLimitedHourCountStrategy&#xA;&#xA;  SalaryWithoutOvertimeStrategy&#xA;&#xA;  NorthwindSalaryStrategy&#xA;&#xA;&#xA;Now we only need to configure the appropriate strategies for a particular tenant, and we are done. If we want to understand the behavior of a particular tenant, we just review the strategies they use.&#xA;&#xA;This almost works.&#xA;&#xA;It is a huge step in the right direction, but the problem is that very often the change is not limited to behavior that can be handled using a small set of well known strategies. Most of the time, the changes that most tenants will want to make will not be identical from one tenant to another. The law of 80/20 applies here as well, and like in other places, everyone wants a different 20% changed.&#xA;&#xA;The end result is that you end up with a lot of &quot;generic&quot; strategies that only really fit on tenant. Attempting to reuse those &quot;generic&quot; strategies will usually end in tears because of cascading affects when one tenant changes the required behavior but another doesn&#x27;t.&#xA;&#xA;The Interface, The Default Implementation and The Specialization, Oh My!&#xA;&#xA;This approach calls for specifying the following: ISalaryCalculation and DefaultSalaryCalculation. DefaultSalaryCalculation is built with the intent of being used either as-is, or having derived classes modify and extend the behavior.&#xA;&#xA;When a customer arrive with a required modification, we create a NorthwindSalaryCalculation that derives from DefaultSalaryCalculation and modify the behavior we need. If we require extensive modification, we may derive directly from ISalaryCalculation, rather than try to fit our behavior within the limits of the default implementation.&#xA;&#xA;&#xA;  Note: I am only giving a single consistent example through this post, but when I am giving such an example, I am not referring to a specific service, consider what will happen if you have 50 such services, all of which a customer may choose to customize. This is where the real changes between the approaches come into play.&#xA;&#xA;&#xA;So far, I have only talked about very narrow definition of behavior, through services. It is actually a totally wrong way of looking at behavior. Mostly because it is giving us a very partial view of the way things are. We have behavior at the UI layer, we have our entities, which also have behavior, we have backend systems, etc.&#xA;&#xA;I want to focus on the generic idea of behavior first, because it is an important concept, I&#x27;ll talk about the specific in a later date.</p>
        </article>
        <div class="button flex justify-between">
            <a href="663.html"><span class="back arrow"></span></a>

            <a href="665.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>