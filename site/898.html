
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 898 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-8971">
            <a href="https://ayende.com/blog/1362/it-is-not-as-simple-as-you-might-think" target="_blank">
                <h2 class="title mb-6" id="article-8971">It is not as simple as you might think</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: May 18, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I really like this post, asking for clarification to file copy operation.Check out this link, both for the fun factor, and for realizing that a &quot;simple&quot; operation such as copying a file is anything but, and that there are a multidue of concerns that need to be addressed in order to get a sufficent result.</p>
        </article>
        <article id="article-8972">
            <a href="https://ayende.com/blog/1361/a-challange-implement-this" target="_blank">
                <h2 class="title mb-6" id="article-8972">A Challange</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: May 18, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">How would you write the following code so it would print &quot;Bar&quot; to the screen:            Foo foo = new Foo();                        foo.DoWork(&quot;Foo&quot;);                        foo.DoWork(&quot;Bar&quot;);         Can you make it work? You may not use any conditional operations.    Hint: Think Dynamically...    Update: To clarify, you should provide the rest of the code so those three lines will output &quot;Bar&quot; to the screen. You can implement Foo() anyway you want, and you can put more code between DoWork(&quot;Foo&quot;) and DoWork(&quot;Bar&quot;), but you can&#x27;t use conditinal operation (if, while, etc...).    Update II: Oren Ellenbogen suggested a solution like this:            static void         Main        (string[] args)                        {                        &#xA0;&#xA0;&#xA0; using (Foo1 foo1 = new Foo1())                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; foo1.DoWork(&quot;Foo&quot;);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; foo1.DoWork(&quot;Bar&quot;);                        &#xA0;&#xA0;&#xA0; }                        }                                class Foo1 : IDisposable                        {                        &#xA0;&#xA0;&#xA0; string last;                                &#xA0;                        &#xA0;&#xA0;&#xA0; public void DoWork(string arg)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; this.last = arg;                        &#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0; public void Dispose()                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Console.WriteLine(last);                        &#xA0;&#xA0;&#xA0; }                        }                        This answers the conditions of the the original challange, but it wasn&#x27;t what I had in mind. So now you need to profuce &quot;Bar&quot;, &quot;Fubar&quot; from this code, without using conditinals or loops.            Foo foo = new Foo();                        foo.DoWork(&quot;Foo&quot;);                        foo.DoWork(&quot;Bar&quot;);                 foo.DoWork(&quot;Fubar&quot;);         Thinking about it, I realize that there are actually several other ways to do it than the one I thought of, most of them are not obvious, so I&#x27;ll let the challange stand for now.    Another hint: I&#x27;m looking for another &quot;What the F%$@ was he thinking...&quot;</p>
        </article>
        <article id="article-8973">
            <a href="https://ayende.com/blog/1360/the-dot-net-framework-is-wonderful-period" target="_blank">
                <h2 class="title mb-6" id="article-8973">The Dot Net Framework Is Wonderful, Period</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: May 17, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Yes,&#xA;it is about time that I woke and smelled the coffee, isn&#x27;t it?&#xA;&#xA;I&#x27;m&#xA;doing some fairly low level work right now, on stuff that ranges everything from&#xA;reflection on generic types inference to handling nullable types appropriately&#xA;to integrating anonymous delegates containers with some fancy stuff sprinkled&#xA;on the top.&#xA;&#xA;The&#xA;nice thing is that the whole thing feels consistent even if you go into the&#xA;bowels of the system. A generic type like typeof(IList&lt;int&gt;) is identical&#xA;to any normal type, which means that quite a bit of code that is written to&#xA;work against 1.1 can work unmodified against generic&#xA;types. NHibernate has no code to handle Nullable types (int?), but it&#xA;doesn&#x27;t have to know. The CLR takes care of everything for it.&#xA;&#xA;But&#xA;I didn&#x27;t get to the best part yet. &#xA;&#xA;The&#xA;best part is that you get so much&#xA;information in the framework itself.&#xA;&#xA;I&#xA;had more than a bit of a struggle to get generic type inference to work. This&#xA;mean that given a IFoo&lt;T&gt; and a typeof(User), I can generate a FooService&lt;User&gt;,&#xA;and resolve any outstanding dependencies (like a dependency of ICache&lt;T&gt;&#xA;to MyCache&lt;User&gt;, etc), this is not quite trivial. The really good part&#xA;is that the CLR was very helpful in pointing that I did this or that wrong.&#xA0;&#xA;(&quot;No, for the Nth time, you can&#x27;t build a generic type without all the parameters, honest!&quot;) &#xA;&#xA;From&#xA;top to button, it is looking remarkably nice and consistent, and is usually a&#xA;pleasure to work with.</p>
        </article>
        <article id="article-8974">
            <a href="https://ardalis.com/17805/" target="_blank">
                <h2 class="title mb-6" id="article-8974">Expression Web Designer Is Here</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: May 15, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">CTP 1 of Expression Web Designer is now available for download. Please see the announcement from Devindra Chainani, Group Program Manager&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-8975">
            <a href="https://ayende.com/blog/1359/nhibernate-generics-1-0-7" target="_blank">
                <h2 class="title mb-6" id="article-8975">NHibernate.Generics 1.0.7</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: May 15, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I&#x27;m pretty ashamed to admit it, but I managed to foul up IEnumerator&lt;T&gt; for EntityDictionary&lt;T,K&gt;. I was very surprised to realize this, I assure you, I thought that at this point I could be trusted to handle a simple collection delegation, but apperantely this is not the case.    There is a new version which fix this issue, add some better error messages, etc. As usual, you can get it here.</p>
        </article>
        <article id="article-8976">
            <a href="https://ayende.com/blog/1358/cheating-the-compiler-generic-properties" target="_blank">
                <h2 class="title mb-6" id="article-8976">Cheating The compiler: Generic Properties</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: May 15, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">One of the more annoying design decision in C# is the lack of generic properties. This mean that I can&#x27;t do things like:             Context    .Repository&lt;Customer&gt;.Get(15);        This is incredibly annoying, since the syntax for the above is just ugly with methods. Using the same example as the last several ones, here is how I implemented it:            public static class Context                        {                        &#xA0;&#xA0;&#xA0; public static class Repository&lt;T&gt;                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; static IRepository&lt;T&gt; inner = Container.Resolve&lt;IRepository&lt;T&gt;&gt;();                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public static T Get(int id)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return inner.Get(id);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ...                        &#xA0;&#xA0;&#xA0; }                        }        I still can&#x27;t figure out how to do in for non static cases (and yes, there are reasons for that), but this is a step in the right direction.</p>
        </article>
        <article id="article-8977">
            <a href="https://ayende.com/blog/1357/a-few-words-about-the-decorator-pattern" target="_blank">
                <h2 class="title mb-6" id="article-8977">A Few Words About The Decorator Pattern</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: May 15, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I was asked&#xA0;about my recent post about Generic Repositores, the question was what is the place of the Security Decorator?    The Decorator Pattern is one of my favorites with regard to building flexible APIs. For the purpose of the discusion, I am going to concentrate on just the Get(id) method:            public class SecurityReposiotyDecorator&lt;T&gt; : IRepository&lt;T&gt;                        {                        &#xA0;&#xA0;&#xA0; IRepository&lt;T&gt; inner;                        &#xA0;&#xA0;&#xA0; public SecurityReposiotyDecorator(IRepository&lt;T&gt; inner)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; this.inner = inner;                        &#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0; public T Get(int id)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Security.AssertCanRead(typeof(T), id, User.Current);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return inner.Get(id);                        &#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0; ...                        }        As you can see, the security decorator makes a check for the validity of the current request, and pass it on if it is valid (other wise it throws). This is a really nice way to dress a component with new behaviors. The common usage is something like:            IRepository&lt;Customer&gt; securedRepository =                 &#xA0;&#xA0; new SecurityReposiotyDecorator&lt;Customer&gt;(new NHibernateRepository&lt;Customer&gt;());                        Customer cust = securedRepository.Get(15);                        Usually, you will not create the full chain in place (I usually have at least Logging, Transactional, Security and Caching decorators), but use a factory or an Invertion Of Control container to build the chain. This way, you can ask for SecuredTransactionalWithoutLogginReposioty&lt;Customer&gt;, and it a work of a moment to create it.    Next time, how to use an Inversion Of Control Container to get some really cool results out of this pattern.</p>
        </article>
        <article id="article-8978">
            <a href="https://ayende.com/blog/1356/the-nature-of-generic-type-names" target="_blank">
                <h2 class="title mb-6" id="article-8978">The nature of Generic Type Names</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: May 15, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I got a chance today to work with reflection &amp; generics, and I learned some interesting things about generic type names. First, let us look at a generic name:System.Collections.Generic.Dictionary`2[[System.String, mscorlib],[System.String, mscorlib]], mscorlib    In this case it is a Dictionary&lt;string,string&gt;. You should note several things here.             Orange - Before the tick &quot;`&quot;, it is a normal type name plus namespace.            Pink - The number after the tick is the number of the generic parameters. In this case, we have two.            Purple - After the numer, we have [ ], which contains all the full type names of the generic arguments.            Green - Inside the [] we have a set of type names, each within its own set of []    In this case, I stripped the culture, public key and version, but you get the idea.</p>
        </article>
        <article id="article-8979">
            <a href="https://ayende.com/blog/1355/generic-specialization" target="_blank">
                <h2 class="title mb-6" id="article-8979">Generic Specialization</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: May 14, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">In&#xA;C&#x2B;&#x2B;, it&#x27;s is common to use template specialization to do all sort of things, from&#xA;implementing a full blown programs using the compiler as a run time environment&#xA;to optimizing specific scenario.&#xA;&#xA;For&#xA;quite some time I have been using a similar methodology in C# 2.0, using a&#xA;combination of Inversion of Control and generic repository interface to get&#xA;some really nice results. Here is a simplified diagram of what I&#x27;m talking&#xA;about.&#xA;&#xA;&#xA0;&#xA;&#xA;&#xA;&#xA;&#xA0;&#xA;&#xA;The&#xA;generic repository is used to access all the entities in the application. As&#xA;you can see, I&#x27;m starting a unit of work, and then I can get a repository from&#xA;it. The logic inside the GetRepository&lt;T&gt;() method is a bit involved, but&#xA;in general, what happens is that the appropriate repository is returned,&#xA;wrapped in the correct decorators. In the diagram, you can see NHibernate repository&#xA;and an Active Directory Employees repository, as well as a security decorator.&#xA;&#xA;In&#xA;practice, I have additional specialized repositories, and several more&#xA;decorators (transactional, logging, etc). The really nice thing about the whole&#xA;thing is that most of my entities&#xA;are handled by NHibernate, which means that I wrote the main thing once, and I&#xA;can share the implementation between entities. For the special case, I only&#xA;need to create an implementation of the repository for a specific type and let&#xA;the UnitOfWork know about it.</p>
        </article>
        <article id="article-8980">
            <a href="https://ayende.com/blog/1354/pissed-off-by-vanatec-openaccess" target="_blank">
                <h2 class="title mb-6" id="article-8980">Pissed Off By Vanatec OpenAccess</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: May 14, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I was mentoring NHibernate&#xA0;today, and I run into this advertisement when doing a search on Google about NHibernate: Stop Hibernating.         Start real O/R Mapping.    - using Visual Studio. Read why!     I clicked on the link, intrigued that I wasted so much time using a fantasy OR/M. I&#x27;m a sucker for Real Programmer Tools &amp; Practices, so I couldn&#x27;t help myself.    I will not get into whatever it is moral to buy adwords on someone&#x27;s else products, there is another advertisement that targets NHibernate and I don&#x27;t like it either (it goes &quot;Hate NHibernate?&quot;, etc...), but I don&#x27;t like dishing other people stuff just to make your own looks good. The reason that I&#x27;m so pissed off by this advertisement is that it leads to a page that is full of FUD and outright lies.    It wouldn&#x27;t be so bad that if those lies weren&#x27;t so freaking big! I&#x27;m going to tick them off:            Persistance By Reachability - They claim that if you add a transient object to a persistent object, you need to explicitly save it to database. I&#x27;ll ignore the completely wrong call on the site for now, but this is completely bollocks. It is a very useful technique, and I&#x27;m using it in many projects that are making a use of NHibernate.            Reverse Mapping - They make a funny claim about being innovative by allowing you to turn an database schema into an object model. I guess they haven&#x27;t heard about code generation. I guess I&#x27;m dreaming about those NHibernate Templates for CodeSmith, GenWise&#xA0;and MyGeneration, which where the first 3 results in a trivial google search.            Disconnected Data - They make the claim that you can&#x27;t worked in a disconnected fashion with NHibernate. I guess all that time I learned about Session Per Conversation has gone to waste, then. Strange that the Disconnect() method doesn&#x27;t throw NotImplementException, though, isn&#x27;t it?            Just map it - They claim that you can just ignore the database, since their tool is good for the common cases, but flexible enough for the advanced users. I&#x27;m not familiar with their tool, but I&#x27;m really surprised that I need to &quot;know all the database stuff that you wanted to get rid off&quot;. I guess I really should stufy for that DBA certification tests, then... Strangely enough, I found that I usually don&#x27;t even think about the database when I&#x27;m working with NHibernate, but I guess that I&#x27;m just strange that way.            Tools and GUI - They actually have somewhat of a point here. There are several GUIs for NHibernate, I wrote one of them, so I should know. Most of the time, the XSD intellisense is enough, and I don&#x27;t really mess a lot with NHibernate configuration enough to need&#xA0;a tool to help me (and I consider myself an advanced user there). Strangely enough, though, although I really like the command line, I can&#x27;t seem to recall that I has to do somethign with NHibernate from the command line, as they claim.            Query Language - They use OQL, and they seem to be angry about N/Hibernate choosing to use HQL. I&#x27;m not familiar with the design decisions that led to the decision of developing their own deriative, but I find the language easy to understand and easy to work with. Out of spite, I&#x27;ll mention that using their tools, this wouldn&#x27;t work: sum(amount * 2).            .Net 2.0 Generics &amp; Nullables&#xA0;- They claim that they supports it, and NHibernate doesn&#x27;t. Nullables were supported by NHibernate for over a year, including on the 1.1 framework. I myself added generic support&#xA0;to NHibernate. But I guess that this doen&#x27;t really exists.            Database Flexibility and Independence - This really pisses me off. Talk about blatant lies. They make the claim that they are much more flexible and support more databased than NHibernate.        What they support: SQL Server 2000 / 2005, Oracle 9/10, MySQL 5 - Ignoring version differences, that is 3 databased.        What NHibernate Supports: DB2, Firebird, SQL Server 2000 / 2005, MySQL (3? ) / 4 /5, Oracle, PostgreSQL, SQLite, Sysbase, Access        Yes, I guess that NHibernate is so much less flexible than their product.    This page is full of lies and its sole intent is to spread FUD. I am sorry that thier product cannot stand on its own without resorting to baseless mud throwing on their competitors.&#xA0;The only thing this page good for is to annoy me and show just how low they are willing to go.    This hardly inspire confidence in their ability to meet their promises.</p>
        </article>
        <div class="button flex justify-between">
            <a href="897.html"><span class="back arrow"></span></a>

            <a href="899.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>
</body>
</html>