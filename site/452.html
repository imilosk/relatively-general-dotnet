
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 452 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-4511">
            <a href="https://ayende.com/blog/154241/limit-your-abstractions-the-key-is-in-the-infrastructure" target="_blank">
                <h2 class="title mb-6" id="article-4511">Limit your abstractions</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 21, 2012
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">In my previous post, I discussed actual refactoring to reduce abstraction, and I showed two very interesting methods, Query() and ExecuteCommand(). Here is the code in question: [AcceptVerbs(HttpVerbs.Post)]&#xA;public ActionResult Register(string originUnlocode, string destinationUnlocode, DateTime arrivalDeadline)&#xA;{&#xA;    var trackingId = ExecuteCommand(new RegisterCargo&#xA;    {&#xA;        OriginCode = originUnlocode,&#xA;        DestinationCode = destinationUnlocode,&#xA;        ArrivalDeadline = arrivalDeadline&#xA;    });&#xA;&#xA;    return RedirectToAction(ShowActionName, new RouteValueDictionary(new { trackingId }));&#xA;}&#xA;&#xA;public class RegisterCargo : Command&lt;string&gt;&#xA;{&#xA;    public override void Execute()&#xA;    {&#xA;        var origin = Session.Load&lt;Location&gt;(OriginCode);&#xA;        var destination = Session.Load&lt;Location&gt;(DestinationCode);&#xA;&#xA;        var trackingId = Query(new NextTrackingIdQuery());&#xA;&#xA;        var routeSpecification = new RouteSpecification(origin, destination, ArrivalDeadline);&#xA;        var cargo = new Cargo(trackingId, routeSpecification);&#xA;        Session.Save(cargo);&#xA;&#xA;        Result = trackingId;&#xA;    }&#xA;&#xA;    public string OriginCode { get; set; }&#xA;&#xA;    public string DestinationCode { get; set; }&#xA;&#xA;    public DateTime ArrivalDeadline { get; set; }&#xA;}&#xA;&#xA;What are they so important? Mostly because those methods [and similar, like Raise(event) and ExecuteLater(task)] are actually the back bone of the application. They are the infrastructure on top of which everything rests.&#xA;Those methods basically accept an argument (and optionally return a value). Their responsibility are:&#xA;&#xA;Setup the given argument so it can run.&#xA;Execute it.&#xA;Return the result (if there is one).&#xA;Here is an example showing how to implement ExecuteCommand:&#xA;protected void Default_ExecuteCommand(Command cmd)&#xA;{&#xA;    cmd.Session = Session;&#xA;    cmd.Execute();&#xA;}&#xA;&#xA;protected TResult Default_ExecuteCommand&lt;TResult&gt;(Command&lt;TResult&gt; cmd)&#xA;{&#xA;    ExecuteCommand((Command) cmd);&#xA;    return cmd.Result;&#xA;}&#xA;&#xA;&#xA;&#xA;I have code very much like that in production, because I know that in this system, there are actually only one or two dependencies that a command may want.&#xA;There are very few other dependencies, because of the limited number of abstractions that we have. This makes things very simple to write and work with.&#xA;Because we abstract away any dependency management, and because we allow only very small number of abstractions, this works very well. The amount of complexity that you have is way down, code reviewing this is very easy, because there isn&#x2019;t much to review, and it all follows the same structure. The implementation of the rest are pretty much the same thing.&#xA;There is just one thing left to discuss, because it kept showing up on the comments for the other posts. How do you handle testing?</p>
        </article>
        <article id="article-4512">
            <a href="https://ayende.com/blog/154209/limit-your-abstractions-refactoring-toward-reduced-abstractions" target="_blank">
                <h2 class="title mb-6" id="article-4512">Limit your abstractions</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 20, 2012
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">So in my previous post I spoke about this code and the complexity behind it: public class CargoAdminController : BaseController&#xA;{&#xA;  [AcceptVerbs(HttpVerbs.Post)]&#xA;  public ActionResult Register(&#xA;      [ModelBinder(typeof (RegistrationCommandBinder))] RegistrationCommand registrationCommand)&#xA;  {&#xA;      DateTime arrivalDeadlineDateTime = DateTime.ParseExact(registrationCommand.ArrivalDeadline, RegisterDateFormat,&#xA;                                                             CultureInfo.InvariantCulture);&#xA;&#xA;      string trackingId = BookingServiceFacade.BookNewCargo(&#xA;          registrationCommand.OriginUnlocode, registrationCommand.DestinationUnlocode, arrivalDeadlineDateTime&#xA;          );&#xA;&#xA;      return RedirectToAction(ShowActionName, new RouteValueDictionary(new {trackingId}));&#xA;  }&#xA;}&#xA;&#xA;&#xA;In this post, I intend to show how we can refactor things. I am going to do that by flattening the architecture, removing useless abstractions and creating a simpler, easier to work with system.&#xA;The first thing to do is to refactor the method signature:&#xA;[AcceptVerbs(HttpVerbs.Post)]&#xA;public ActionResult Register(string originUnlocode, string destinationUnlocode, DateTime arrivalDeadline)&#xA;&#xA;&#xA;Those are three parameters that we need, there is no need to create a model binder, custom command, etc just for this. For that matter, if you already have a model binder, why on earth do you store the date as a string, and not a date time. The framework is quite happy to do the conversion for me, and if it can&#x2019;t, I can extend the infrastructure to do so. I don&#x2019;t need to patch this action with date parsing code.&#xA;Next, we have this notion of booking a new cargo, looking at the service, that looks like:&#xA;public string BookNewCargo(string origin, string destination, DateTime arrivalDeadline)&#xA;{&#xA;    try&#xA;    {&#xA;        TrackingId trackingId = BookingService.BookNewCargo(&#xA;            new UnLocode(origin),&#xA;            new UnLocode(destination),&#xA;            arrivalDeadline&#xA;            );&#xA;        return trackingId.IdString;&#xA;    }&#xA;    catch (Exception exception)&#xA;    {&#xA;        throw new NDDDRemoteBookingException(exception.Message);&#xA;    }&#xA;}&#xA;&#xA;The error handling alone sets my teeth on edge. Also, note that we have a complex type for TrackingId, which contains just a string (there is a lot of code there for IValueObject&lt;T&gt;, comparison, etc), all of which basically go away if you use an actual string. The same is true for UnLocode (UN Location Code, I assume), but at least this one has some validation code in it.&#xA;Then there is the lovely forwarding call, which translate to:&#xA;public TrackingId BookNewCargo(UnLocode originUnLocode,&#xA;                               UnLocode destinationUnLocode,&#xA;                               DateTime arrivalDeadline)&#xA;{&#xA;    using (var transactionScope = new TransactionScope())&#xA;    {&#xA;        TrackingId trackingId = cargoRepository.NextTrackingId();&#xA;        Location origin = locationRepository.Find(originUnLocode);&#xA;        Location destination = locationRepository.Find(destinationUnLocode);&#xA;&#xA;        Cargo cargo = CargoFactory.NewCargo(trackingId, origin, destination, arrivalDeadline);&#xA;&#xA;        cargoRepository.Store(cargo);&#xA;        logger.Info(&quot;Booked new cargo with tracking id &quot; &#x2B; cargo.TrackingId);&#xA;&#xA;        transactionScope.Complete();&#xA;        return cargo.TrackingId;&#xA;    }&#xA;}&#xA;&#xA;&#xA;And now we got somewhere, we actually have something there that is actually meaningful. I&#x2019;ll skip going deeper, I am pretty sure that you can understand what is going on. &#xA;From my point of view of the common abstractions in an application:&#xA;&#xA;Controllers &#xA;Views &#xA;Entities &#xA;Commands &#xA;Tasks &#xA;Events &#xA;Queries&#xA;Controllers are at the boundaries of the system, they orchestrate the entire system behavior. Note that I have no place for services or repositories in this list. That is quite intentional. Instead of going that route. &#xA;Take a look at the code that I ended up with:&#xA; [AcceptVerbs(HttpVerbs.Post)]&#xA; public ActionResult Register(string originUnlocode, string destinationUnlocode, DateTime arrivalDeadline)&#xA; {&#xA;     var origin = Session.Load&lt;Location&gt;(originUnlocode);&#xA;     var destination = Session.Load&lt;Location&gt;(destinationUnlocode);&#xA;&#xA;     var trackingId = Query(new NextTrackingIdQuery());&#xA;&#xA;     var routeSpecification = new RouteSpecification(origin, destination, arrivalDeadline);&#xA;     var cargo = new Cargo(trackingId, routeSpecification);&#xA;     Session.Store(cargo);&#xA;&#xA;     return RedirectToAction(ShowActionName, new RouteValueDictionary(new {trackingId}));&#xA; }&#xA;&#xA;&#xA;As you can see, the entire architecture was collapsed into a single method.&#xA;And what kind of abstractions do we have here?&#xA;Well, we have the usual things from MVC, Controller, Action, parameter binding. &#xA;We have the session that we are using to load data by id, and to store the newly create cargo. &#xA;And we have the notion of a query. Generating a new TrackingID is a query that happen on the database (actually implemented as a hilo sequence). That is something that is definitely not the responsibility of the controller action, so we moved it into a query. Note that we have the Query() method there. It is defined as:&#xA;protected TResult Query&lt;TResult&gt;(Query&lt;TResult&gt; query)&#xA;&#xA;&#xA;And NextTrackingIdQuery is defined as:&#xA;public class NextTrackingIdQuery : Query&lt;string&gt;&#xA;&#xA;&#xA;Pretty simple, overall. And I can hear the nitpickers climb over the fences, waving the pitchforks and torches. &#x201C;What happen when you need to reuse this logic? It is not in the UI and &#x2026;&#x201D;&#xA;There are a couple of things to note here. &#xA;First, there isn&#x2019;t anywhere else that needs to book a cargo. And saying &#x201C;and what happen when&#x2026;&#x201D; flies right into a wall of people shouting YAGNI.&#xA;Second, let us assume that there is such a need, to reuse the booking cargo scenario. How would we approach this?&#xA;Well, we can encapsulate the logic for the controller inside a Command. Which gives us:&#xA;[AcceptVerbs(HttpVerbs.Post)]&#xA;public ActionResult Register(string originUnlocode, string destinationUnlocode, DateTime arrivalDeadline)&#xA;{&#xA;    var trackingId = ExecuteCommand(new RegisterCargo&#xA;    {&#xA;        OriginCode = originUnlocode,&#xA;        DestinationCode = destinationUnlocode,&#xA;        ArrivalDeadline = arrivalDeadline&#xA;    });&#xA;&#xA;    return RedirectToAction(ShowActionName, new RouteValueDictionary(new { trackingId }));&#xA;}&#xA;&#xA;&#xA;And then we have the actual RegisterCargo command:&#xA;public abstract class Command&#xA;{&#xA;    public IDocumentSession Session { get; set; }&#xA;    public abstract void Execute();&#xA;&#xA;    protected TResult Query&lt;TResult&gt;(Query&lt;TResult&gt; query);&#xA;}&#xA;public abstract class Command&lt;T&gt; : Command&#xA;{&#xA;    public T Result { get; protected set; }&#xA;}&#xA;&#xA;public class RegisterCargo : Command&lt;string&gt;&#xA;{&#xA;    public override void Execute()&#xA;    {&#xA;        var origin = Session.Load&lt;Location&gt;(OriginCode);&#xA;        var destination = Session.Load&lt;Location&gt;(DestinationCode);&#xA;&#xA;        var trackingId = Query(new NextTrackingIdQuery());&#xA;&#xA;        var routeSpecification = new RouteSpecification(origin, destination, ArrivalDeadline);&#xA;        var cargo = new Cargo(trackingId, routeSpecification);&#xA;        Session.Save(cargo);&#xA;&#xA;        Result = trackingId;&#xA;    }&#xA;&#xA;    public string OriginCode { get; set; }&#xA;&#xA;    public string DestinationCode { get; set; }&#xA;&#xA;    public DateTime ArrivalDeadline { get; set; }&#xA;}&#xA;&#xA;&#xA;&#xA;Note that the Command class also have a way to execute queries, in fact, it is the exact same way that we use when we had the code in the controller. We just moved stuff around, not really made any major change, but we can easily start using the same functionality in another location.&#xA;I generally don&#x2019;t like doing this because most functionality is not reused, it is specific for a particular place and scenario, but I wanted to show how you can lift some part of the code and move it to a different location, otherwise people would complain about the &#x201C;lack of reuse opportunities&#x201D;.&#xA;On my next post I am going to talk about the Query() and ExecuteCommand() methods, and why they are so important.</p>
        </article>
        <article id="article-4513">
            <a href="https://ayende.com/blog/154785/ravenhq-goes-beta-ravendb-reaches-the-cloud" target="_blank">
                <h2 class="title mb-6" id="article-4513">RavenHQ goes beta&#x2013;RavenDB reaches the cloud</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 18, 2012
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">One of the things that we have been doing lately was providing solutions for cloud hosted RavenDB. I am very proud to announce the public beta phase of RavenHQ, a cloud based, fully managed RavenDB service.&#xA;&#xA;&#x9;&#xA;&#xA;&#x9;Currently it is available on AppHarbor only, and I must emphasis that this is still a beta, so you might run into some road bumps, but we have a really good team working on this.&#xA;&#xA;&#x9;Actually, here is an important detail, about this offering.&#xA;&#xA;&#x9;Hibernating Rhinos (the company who is actually doing the development of RavenDB) is at heart a development / consulting company. We didn&#x2019;t want to try to break apart something good, so we setup a new company dedicated for running RavenDB on the cloud, RavenHQ.&#xA;&#xA;&#x9;Why do you care about this? Because it means that while the RavenDB development team is available for any problem that you might run into, RavenHQ is actually stuffed by people whose job is merely to make sure that all your databases are humming along nicely, and not a developer who is 15% of watching what is going on in that server somewhere on the cloud.&#xA;&#xA;&#x9;I collaborated in RavenHQ with Jonathan Matheus (NSeviceBus Committer and an all around cool guy) to create something that I feel will be really awesome.&#xA;&#xA;&#x9;As I said before, we are currently offering RavenHQ on App Harbor only, but we will soon open it for general registration. In the meantime, this is called beta for a reason.&#xA;&#xA;&#x9;It is hard to test cloud based stuff in a lab, so after we have made sure that everything works, the next step is to see if you can break it. I am assuming the worse at that you will manage to break it in all sorts of creative ways. Please give us a short amount of grace period to make sure that we can match our internal workings to how people are actually using us.&#xA;&#xA;&#x9;Have an awesome weekend!</p>
        </article>
        <article id="article-4514">
            <a href="https://ayende.com/blog/153185/ravendb-index-boosting" target="_blank">
                <h2 class="title mb-6" id="article-4514">RavenDB</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 17, 2012
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Recently we added a really nice feature, boosting the results while indexing.  Boosting is a way to give documents or attributes in a document weights. Attribute level boosting is a way to tell RavenDB that a certain&#xA0; attribute in a document is more important than the others, so it will show up higher in queries when other properties are involved in a query. A document level boosting means that a certain document is more important than another (when using multi maps). Let us see a few examples where this is happening. The simplest scenario is when we have a multi field search, and we want one of the fields to be the more important one. For example, we decided that when you make a search for first name and last name, a match on the first name has higher relevance than a match on the last name. We can define this requirement with the following index: public class Users_ByName : AbstractIndexCreationTask&lt;User&gt;&#xA;{&#xA;    public Users_ByName()&#xA;    {&#xA;        Map = users =&gt; from user in users&#xA;                       select new&#xA;                       {&#xA;                           FirstName = user.FirstName.Boost(3),&#xA;                           user.LastName&#xA;                       };&#xA;    }&#xA;}&#xA;&#xA;&#xA;&#xA;And we can query the index using:&#xA;var matches = session.Query&lt;User,UsersByName&gt;()&#xA;      .Where(x=&gt;x.FirstName == &quot;Ayende&quot; || x.LastName == &quot;Eini&quot;)&#xA;      .ToList()&#xA;&#xA;&#xA;Assuming that we have a user with the first name &#x201C;Ayende&#x201D; and another user with the last name &#x201C;Eini&#x201D;, this will find both of them, but will rank the user with the name &#x201C;Ayende&#x201D; first.&#xA;Let us see another variant, we have a multi map index for users and accounts, both are searchable by name, but we want to ensure that accounts are more important than users. We can do that using the following index:&#xA;public class UsersAndAccounts : AbstractMultiMapIndexCreationTask&#xA;{&#xA;    public UsersAndAccounts()&#xA;    {&#xA;        AddMap&lt;User&gt;(users =&gt;&#xA;                     from user in users&#xA;                     select new {Name = user.FirstName}&#xA;            );&#xA;        AddMap&lt;Account&gt;(accounts =&gt;&#xA;                        from account in accounts&#xA;                        select new {account.Name}.Boost(3)&#xA;            );&#xA;    }&#xA;}&#xA;&#xA;&#xA;If we have query that has matches for users and accounts, this will make sure that the account comes first.&#xA;And finally, a really interesting use case is that based on the entity itself, you decide to rank it higher. For example, we want to rank customers that ordered a lot from us higher than other customers. We can do that using the following index:&#xA;public class Accounts_Search : AbstractIndexCreationTask&lt;Account&gt;&#xA;{&#xA;    public Accounts_Search()&#xA;    {&#xA;        Map = accounts =&gt;&#xA;              from account in accounts&#xA;              select new&#xA;              {&#xA;                  account.Name&#xA;              }.Boost(account.TotalIncome &gt; 10000 ? 3 : 1);&#xA;    }&#xA;}&#xA;&#xA;&#xA;&#xA;This way, we get the more important customers first. And this is really one of those things that brings up the polish in the system, the things that makes the users sit up and take notice.</p>
        </article>
        <article id="article-4515">
            <a href="https://benfoster.io/blog/aspnet-mvc-3-dependency-injection-structuremap/" target="_blank">
                <h2 class="title mb-6" id="article-4515">ASP.NET MVC 3 Dependency Injection with StructureMap</h2>
            </a>
            <p class="mb-2">by Ben Foster</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 17, 2012
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">StructureMap implementations of IDependencyResolver, FilterAttributeFilterProvider and IModelBinderProvider for dependency injection in ASP.NET MVC 3.</p>
        </article>
        <article id="article-4516">
            <a href="https://ayende.com/blog/154177/limit-your-abstractions-so-what-is-the-whole-big-deal-about" target="_blank">
                <h2 class="title mb-6" id="article-4516">Limit your abstractions</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 16, 2012
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">When I started out, I pointed out that I truly dislike this type of architecture:&#xA;&#xA;&#x9;&#xA;&#xA;&#x9;And I said that I much rather an architecture that has a far more limited set of abstractions, and I gave this example:&#xA;&#xA;&#x9;&#xA;&#x9;&#x9;Controllers&#xA;&#x9;&#xA;&#x9;&#x9;Views&#xA;&#x9;&#xA;&#x9;&#x9;Entities&#xA;&#x9;&#xA;&#x9;&#x9;Commands&#xA;&#x9;&#xA;&#x9;&#x9;Tasks&#xA;&#x9;&#xA;&#x9;&#x9;Events&#xA;&#x9;&#xA;&#x9;&#x9;Queries&#xA;&#xA;&#xA;&#x9;That is all nice in theory, but let us talk in practice, shall we? How do we actually write code that actually uses this model?&#xA;&#xA;&#x9;Let us show some code that uses this type of code, this type, this is from the C# port of the same codebase, available here.&#xA;&#xA;&#x9;public class CargoAdminController : BaseController&#xA;{&#xA;  [AcceptVerbs(HttpVerbs.Post)]&#xA;  public ActionResult Register(&#xA;      [ModelBinder(typeof (RegistrationCommandBinder))] RegistrationCommand registrationCommand)&#xA;  {&#xA;      DateTime arrivalDeadlineDateTime = DateTime.ParseExact(registrationCommand.ArrivalDeadline, RegisterDateFormat,&#xA;                                                             CultureInfo.InvariantCulture);&#xA;&#xA;      string trackingId = BookingServiceFacade.BookNewCargo(&#xA;          registrationCommand.OriginUnlocode, registrationCommand.DestinationUnlocode, arrivalDeadlineDateTime&#xA;          );&#xA;&#xA;      return RedirectToAction(ShowActionName, new RouteValueDictionary(new {trackingId}));&#xA;  }&#xA;}&#xA;&#x9;&#xA;&#xA;&#xA;&#x9;Does this looks good to you? Here is what is actually going on here.&#xA;&#xA;&#x9;&#xA;&#xA;&#x9;You can click on this link look at what is going in here (and I removed some stuff for clarity&#x2019;s sake.&#xA;&#xA;&#x9;This stuff is complex, more to the point, it doesn&#x2019;t read naturally, it is hard to make a change without modifying a lot of code. This is scary.&#xA;&#xA;&#x9;We have a lot of abstractions here, services and repositories and facades and what not. (Mind, each of those thing is an independent abstraction, not a common one.)&#xA;&#xA;&#x9;In my next post, I&#x2019;ll show how to refactor this to a much saner model.</p>
        </article>
        <article id="article-4517">
            <a href="https://benfoster.io/blog/improving-aspnet-mvc-routing-configuration/" target="_blank">
                <h2 class="title mb-6" id="article-4517">Improving ASP.NET MVC Routing Configuration</h2>
            </a>
            <p class="mb-2">by Ben Foster</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 16, 2012
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This post covers some ways you can improve the testability and reduce framework coupling when configuring routing in an ASP.NET MVC application.</p>
        </article>
        <article id="article-4518">
            <a href="https://ayende.com/blog/154145/limit-your-abstractions-all-cookies-looks-the-same-to-the-cookie-cutter" target="_blank">
                <h2 class="title mb-6" id="article-4518">Limit your abstractions</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 15, 2012
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">One of the major advantages of limiting the number of abstractions you have is that you end up with a lot less &#x201C;infrastructure&#x201D; code. This is in quote because a lot of the time I see this type of code doing things like this: public class BookingServiceImpl : IBookingService  &#xA;{&#xA;&#xA;  public override IList&lt;Itinerary&gt; RequestPossibleRoutesForCargo(TrackingId trackingId)&#xA;  {&#xA;    Cargo cargo = cargoRepository.Find(trackingId);&#xA;&#xA;    if (cargo == null)&#xA;    {&#xA;      return new List&lt;Itinerary&gt;();&#xA;    }&#xA;&#xA;    return routingService.FetchRoutesForSpecification(cargo.routeSpecification());&#xA;  }&#xA;  &#xA;}&#xA;&#xA;&#xA;I don&#x2019;t want to see stuff like that. Instead, I want to be able to go into any piece of code and figure out by what it is what it must be doing. All my code follow fairly similar patterns, and the only differences that I have are actual business differences.&#xA;Here is the list of common abstractions that I gave before, this time, I am going to go over each one and explain it. &#xA;&#xA;Controllers &#x2013; Stand at the edge of the system and manage interaction with the outside world. Can be MVC controllers, MVVM models, WCF Services. &#xA;Views&#xA0; - The actual UI logic that is being executed. Can be MVC views, XAML, or real UI code (you know, that old WinForms stuff ).&#xA;Entities &#x2013; Data that is being persisted. &#xA;Commands &#x2013; A packaged command to do something that will execute immediately. (Usually invoked by controllers).&#xA;Tasks &#x2013; A packaged execution that will be execute at a later point in time (usually async), after the current operation have completed.&#xA;Events &#x2013; Something that happened in the system that is interesting and require action. Common place for business logic and interaction. &#xA;Queries &#x2013; Packaged query to be executed immediately. Usually only fairly complex ones gets promoted to an actual query object.&#xA;There might be a few others in your system, but for the most part, you would see those types of things over and over and over again.&#xA;Oh, sure, you might have other things as well, but those should be rare. If you need to display things in multiple currency interacting with a currency service is something that you would need to often, by all means, make it easy to do (how you do that is usually not important), but the important thing to remember is that those sort of things are one off, and they should remain one off, not the way you structure the entire app.&#xA;The reason this is important is that once you have this common infrastructure and shape (for lack of a better word), you can start working in a very rapid pace, without being distracted, and making changes becomes easy. All of your architecture is going through the same central pipes, shifting where they are going is easy to do. You don&#x2019;t have to drag a rigid system made of a lot of small individual pieces, after all.</p>
        </article>
        <article id="article-4519">
            <a href="https://ayende.com/blog/154113/limit-your-abstractions-commands-vs-tasks-did-you-forget-the-workflow" target="_blank">
                <h2 class="title mb-6" id="article-4519">Limit your abstractions</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 14, 2012
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">On my last post, I outlined the major abstractions that I tend to use in my applications.  Controllers  Views  Entities  Commands  Tasks  Events  Queries I also said that I like Tasks much more than Commands and I&#x2019;ll explain that in the future. When talking about tasks, I usually talk about something that is based on this code. This give us the ability to write code such as this: public class AssignCargoToRoute : BackgroundTask&#xA;{&#xA;  public Itinerary Itinerary { get;set; }&#xA;  TrackingId TrackingId { get;set; }&#xA;&#xA;  public override void Execute()&#xA;  {&#xA;    &#xA;  }&#xA;}&#xA;&#xA;&#xA;On the face of it, this is a very similar to what we have had before. So why am I so much in favor of tasks rather than commands?&#xA;Put simply, the promises that they make are different.&#xA0; A command will execute immediately, this is good when we are encapsulating common or complex piece of logic. We give it a meaningful name and move on with our lives.&#xA;The problem is that in many cases, executing immediately is something that we don&#x2019;t want. Why is that?&#xA;Well, what happen if this can take a while? What if this requires touching a remote resource (one that can&#x2019;t take part of our transaction)? What happen if we want this to execute, but only if the entire operation have been successful? How do we handle errors? What happen when the scenario calls for a complex workflow? Can I partially succeed in what I am doing? Can you have a compensating action if some part fail? All of those scenarios basically boil down to &#x201C;I don&#x2019;t want to execute it now, I want the execution to be managed for me&#x201D;.&#xA;Thing about the scenario that we actually have here. We need to assign a cargo to a route. But what does that means? In the trivial example, we do that by updating some data in our local database. But in real world scenario, something like that tends to be much more complex. We need to calculate shipping charges, check manifest, verify that we have all the proper permits, etc. All of that takes time, and usually collaboration with external systems. &#xA;For the most part, I find that real world systems requires a lot more tasks than commands. Mostly because it is actually rare to have complex interaction inside your own system. If you do, you have to be cautious that you aren&#x2019;t adding too much complexity. It is the external interactions that tends to makes life&#x2026; interesting.&#xA;This has implications on how we are building the system, because we don&#x2019;t assume immediate execution and the temporal coupling that comes with it.</p>
        </article>
        <article id="article-4520">
            <a href="https://ayende.com/blog/154081/limit-your-abstractions-you-only-get-six-to-a-dozen-in-the-entire-app" target="_blank">
                <h2 class="title mb-6" id="article-4520">Limit your abstractions</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 13, 2012
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Let us take a look at another part of the DDD sample application. This time, the booking service.&#xA;&#xA;&#x9;&#xA;&#xA;&#x9;One thing that is really glaring at me is that we have a mix of both commands and queries in this interface. Also, just consider the name. It is a Booking service, but it doesn&#x2019;t actually seem to have an actual meaning in the application itself. There is no entity named Booking, and except for the BookNewCargo, there is no mention of booking anywhere in the application.&#xA;&#xA;&#x9;You know what, maybe there is logic in the RequestPossibleRoutesForCargo that is actually meaningful beyond a simple query. Such as charging the customer for the calculation, or reserving space on the route that we selected, etc.&#xA;&#xA;&#x9;At any rate, I don&#x2019;t like this service at all. In fact, any time that you have something that is called XyzService, you ought to suspect it.&#xA0; Let me take this one step further. I don&#x2019;t like that it is an interface, and I don&#x2019;t like how it is composed. I don&#x2019;t see it as an independent thing. Going further than that, I don&#x2019;t really see a reason why we would need an interface here. You might have noticed what the title of this series is. I want to limit abstraction, and IBookingService is an abstraction, one that I don&#x2019;t see any value in.&#xA;&#xA;&#x9;In most applications, I like to have a very small number of abstractions. Usually in the order of half a dozen to a dozen (top!). I usually think about them like this:&#xA;&#xA;&#x9;&#xA;&#x9;&#x9;Controllers&#xA;&#x9;&#xA;&#x9;&#x9;Views&#xA;&#x9;&#xA;&#x9;&#x9;Entities&#xA;&#x9;&#xA;&#x9;&#x9;Commands&#xA;&#x9;&#xA;&#x9;&#x9;Tasks&#xA;&#x9;&#xA;&#x9;&#x9;Events&#xA;&#x9;&#xA;&#x9;&#x9;Queries&#xA;&#xA;&#xA;&#x9;Sometimes you have a few more, but those are the major ones. Controllers,Views and Entities are fairly obvious, I would imagine. But what about the rest?&#xA;&#xA;&#x9;Command is a package &#x201C;thing&#x201D; that happen immediately. Tasks are very like commands, except that they don&#x2019;t have an explicit execution date and Events allow you to build smarts into the system. We have already seen how I handle events, in the previous posts in this series. And Queries should be fairly obvious as well.&#xA;&#xA;&#x9;Let us tackle Commands now, and then explain why they are bad later on.&#xA;&#xA;&#x9;When I said that I don&#x2019;t want abstractions, I meant that I don&#x2019;t want an interface and an implementation, and some way to connect the two, etc. I don&#x2019;t really see a lot of value in that for the common case.&#xA;&#xA;&#x9;Let us break it apart into commands, which would give us this:&#xA;&#xA;&#x9;public class AssignCargoToRoute : Command&#xA;{&#xA;  public Itinerary Itinerary { get;set; }&#xA;  TrackingId TrackingId { get;set; }&#xA;&#xA;  public override void Execute()&#xA;  {&#xA;    &#xA;  }&#xA;}&#xA;&#xA;public class BookNewCargo : Command&#xA;{&#xA;  public UnLocode Origin {get;set;}&#xA;  public UnLocode Destination { get;set; }&#xA;  public DateTime ArrivalDeadline {get;set;}&#xA;&#xA;  public TrackingId Result {get;set;}&#xA;&#x9;  public override void Execute()&#xA;  {&#xA;    &#xA;  }&#xA;}&#xA;&#x9;&#xA;&#xA;&#xA;&#x9;I am very fond in having a base class for those types of things. The base class provide me with the infrastructure support for the command in question.&#xA;&#xA;&#x9;In my next post, I&#x2019;ll go over why I don&#x2019;t like this approach, and discuss other ways to structure things so it is more suitable for an actual application.</p>
        </article>
        <div class="button flex justify-between">
            <a href="451.html"><span class="back arrow"></span></a>

            <a href="453.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2024<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>
</body>
</html>