
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Home â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<script>
    const lightModePref = window.matchMedia("(prefers-color-scheme: light)");

    function getUserPref() {
        const storedTheme = typeof localStorage !== "undefined" && localStorage.getItem("theme");
        return storedTheme || (lightModePref.matches ? "light" : "dark");
    }

    function setTheme(newTheme) {
        if (newTheme !== "light" && newTheme !== "dark") {
            return console.warn(
                `Invalid theme value '${newTheme}' received. Expected 'light' or 'dark'.`,
            );
        }

        const root = document.documentElement;

        // root already set to newTheme, exit early
        if (newTheme === root.getAttribute("data-theme")) {
            return;
        }

        root.setAttribute("data-theme", newTheme);

        const colorThemeMetaTag = document.querySelector("meta[name='theme-color']");
        const bgColour = getComputedStyle(document.body).getPropertyValue("--theme-bg");
        colorThemeMetaTag.setAttribute("content", `hsl(${bgColour})`);
        if (typeof localStorage !== "undefined") {
            localStorage.setItem("theme", newTheme);
        }
    }

    // initial setup
    setTheme(getUserPref());

    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("theme-toggle").addEventListener("click", () => {
            const theme = localStorage.getItem("theme");

            if (theme === "dark") {
                setTheme("light");
            } else {
                setTheme("dark");
            }
        });

        document.getElementById("toggle-navigation-menu").addEventListener("click", (e) => {
            const button = e.target;
            const ariaExpanded = button.getAttribute("aria-expanded");
            const header = document.getElementById("main-header");

            if (ariaExpanded === "true") {
                button.setAttribute("aria-expanded", "false");
                header.classList.remove("menu-open");
            } else {
                button.setAttribute("aria-expanded", "true");
                header.classList.add("menu-open");
            }
        });
    });
</script>

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <theme-toggle class="ms-auto">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main">
    <section aria-label="Blog post list">
        <a href="https://ayende.com/blog/4238/the-law-of-unintended-consequences" target="_blank"><h1 class="title mb-6">The law of unintended consequences</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 09, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">A while ago I got a tattoo on my forearm (did I mention that you DevTeach is wild?). Here is how it looks like:     To preempt the nitpickers, this was my logo first, I reused it for other stuff afterward (including Rhino Mocks &amp; NH Prof), but it is mine. I did not tattooed NH Prof&#x2019;s logo.  So a while ago I was buying something in the supermarket and the clerk asked me why I had this tattoo. I told her that I like rhinos, and she said, but it is not a rhino.  Took me a while to realize that from her perspective, it looked like this:       Do you see it? You may need to tilt your head a bit to see it.  I guess that if need be, I can prove that I am OSS aficionado now.</p>
        <a href="https://ayende.com/blog/4237/how-nh-prof-integrate-with-a-profiled-application" target="_blank"><h1 class="title mb-6">How NH Prof integrate with a profiled application</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 09, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">In order to integrate with an application, NH Prof requires that you&#x2019;ll reference the appender dll and call NHibernateProfiler.Initialize(). For Linq To SQL, the process is similar, but you call LinqToSqlProfiler.Initialize().  This post describe the internal implementation of how the appender works. Well, that is a lie, I am actually using this post as a design document for the restructuring process that I am currently at to support multiple OR/M backends. The idea is to give some background information so people who want to integrate with the profiler can do so.  There are two sides for integrating an OR/M with NH Prof (by the way, I am taking suggestions about how to call the uber product, so far xProf is the winning candidate, and I am not sure that I like it).&#xA0;&#xA0; The first part is actually integrating with the application, this is the job of the appender. It is responsible for capturing and sending the event stream from the profiled application to NH Prof. It is working under some fairly tight constraints:     Performance is a huge consideration, the overhead of the profiler on the profiled application side must be kept to a minimum.    The profiler may be started &amp; stopped at any time, requiring application level support for reliable communication.    In the future, I want to be able to support production profiling, which is a whole can of worms in itself.   The second part of profiler integration is actually doing a lot of work on the profiler side. It means getting the event stream, parsing it, analyzing it, etc. This is actually fairly narrow part of the   Overall, the structure looks something like this:     At the top layer of the stack, we have integration with the actual OR/M. This is the point where the OR/M gets to output different   The output that we need is things like:     Session / Unit of Work Start &amp; End notifications    Executed SQL (including parameters)         This should include capturing SQL executed as a result of lazy load operation.       Last query duration    Last query row count    Entity loaded (name &#x2B; key)    Cached queries (for that matter, different types of queries, such as NHibernate Search&#x2019; queries)    Warning / Error messages about the OR/M usage    Statistics about the OR/M usage   The way NH Prof is dealing with this is quite simple, we have the following class:          public static class ProfilerIntegration&#xA;{&#xA;    public static void PublishProfilerEvent(&#xA;        Guid sessionId,&#xA;        string loggerName,&#xA;        string message&#xA;    );&#xA;&#xA;    public static void PublishProfilerWarning(&#xA;        Guid sessionId,&#xA;        string message&#xA;    );&#xA;&#xA;    public static void RegisterStatisticsSource(&#xA;      IStatisticsSource statsSource&#xA;    );&#xA;}&#xA;  &#xA;&#xA;&#xA;As you can see, the intent is to create an extremely simple integration point. The idea is that I don&#x2019;t want to spend a lot of time integrating different OR/Ms. The only thing that I need to do if figure out how to get the OR/M to call those methods with the right information.&#xA;&#xA;The format is textual and human readable. On the GUI side, NH Prof will take the information and start doing correlation and analysis. Part of the reason that I need to support different OR/Ms on the profiler side is that each of them has different ways of expressing those events, and I don&#x2019;t want to try to do a single iota of extra work on the profiled application side if that can possibly be avoided.&#xA;&#xA;Here is an example of how a minimal Linq To SQL implementation is using this infrastructure:&#xA;&#xA;&#xA;  &#xA;    // this gets hooked into the l2s data context by black magic &#xA;public class LinqToSqlAppender : IDisposable&#xA;{&#xA;    public Guid id = Guid.NewGuid();&#xA;&#xA;    public LinqToSqlAppender()&#xA;    {&#xA;        ProfilerIntegration.PublishProfilerEvent(id, &quot;LinqToSql.DataContext&quot;, &quot;data context opened&quot;);&#xA;    }&#xA;&#xA;    public void OnSqlExecuted(string sql)&#xA;    {&#xA;        ProfilerIntegration.PublisProfilerEvent(id, &quot;LinqtoSql.SQL&quot;, sql);&#xA;    }&#xA;&#xA;    public void Dispose()&#xA;    {&#xA;        ProfilerIntegration.PublishProfilerEvent(id, &quot;LinqToSql.DataContext&quot;, &quot;data context closed&quot;);&#xA;    }&#xA;}&#xA;  &#xA;&#xA;&#xA;With this in place, I have a very short turn around time in the actual profiler implementation.</p>
        <a href="https://ayende.com/blog/4236/choosing-between-active-record-fluent-nhibernate-and-nhibernate" target="_blank"><h1 class="title mb-6">Choosing between Active Record, Fluent NHibernate and NHibernate</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 08, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">A forum question:&#xA;&#xA;I have seen videos where you created a domain model using ActiveRecord in real-time... elaborate on when and how you move to using full Hibernate in more detail.&#xA;&#xA;The problem with presentations such as the one described in the question is that they are cheating. Oh, I really do work things on the fly, but it is like asking me to type with my eyes closed (as I am doing right now, just to see if I can).&#xA;I can do that, but it doesn&#x2019;t really say much about my typing skills. The type of models that I create live tend to be very simple ones, things that I have done for dozens and hundreds of times. Building a model live on stage looks impressive, especially since I insist of the people in the audience picking the model. But it really isn&#x2019;t that hard.&#xA;That said, the actual question is more interesting, what should you choose? Active Record, Fluent NHibernate or mapping files?&#xA;I, personally, like using mapping files, they are simple, uncomplicated and expose everything that NHibernate can do. Active Record is nice if you want to put the persistence definition right there along the class definition. Another major advantage of Active Record is that it is working hard to infer things for you. It makes working with it very easy.&#xA;Fluent NHibernate is mapping using C#. I don&#x2019;t quite see the point there, especially since in some things FN decided to diverge from the NHibernate terminology, but I get why people love it. The part about it that I simply adore is the auto mapping support. That is a great way of getting things started.&#xA;But usually, even if I am using Fluent NHibernate or Active Record, I am mostly using them as scaffolding. At some point, I&#x2019;ll ask them to generate the HBM for me and start working with them.&#xA;That is me, however, your mileage might vary.</p>
        <a href="https://ayende.com/blog/4235/nh-prof-new-feature-nhibernate-search-integration" target="_blank"><h1 class="title mb-6">NH Prof New Feature</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 08, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Well, I was demoing how easy it is to add new features to NH Prof in a user group in JAOO today, and tomorrow I am doing my OR/M &#x2B;= 2 talk. Part of the things that I want to show is NHibernate Search, but the demo doesn&#x2019;t really work unless I can point to NH Prof and show what is going on there.   I now consider output results to the console to be so 2005.   Here is the code that I am using for this post:          using (var s = factory.OpenSession())&#xA;{&#xA;    var posts = NHibernate.Search.Search.CreateFullTextSession(s)&#xA;        .CreateFullTextQuery&lt;Post&gt;(&quot;Title:NHibernate User.Name:ayende&quot;)&#xA;        .List&lt;Post&gt;();&#xA;&#xA;    NHibernate.Search.Search.CreateFullTextSession(s)&#xA;        .CreateFullTextQuery&lt;Post&gt;(&quot;Title:NHibernate User.Name:ayende&quot;)&#xA;        .SetMaxResults(10)&#xA;        .List&lt;Post&gt;();&#xA;&#xA;    foreach (var post in posts)&#xA;    {&#xA;        Console.WriteLine(post.Title);&#xA;    }&#xA;}&#xA;  &#xA;&#xA;&#xA;I had to make a small modification to NHibernate Search, to output the right information (which means that you can make this work with r1044 or up), but here is the result:&#xA;&#xA; &#xA;&#xA;Notice that you can get not only the actual Lucene query text, but you also get the query duration and the number of returned results. The next query is NHibernate Search actually hitting the database to load the managed entities, after hitting the Lucene index to perform the actual search.&#xA;&#xA;We can also generate some warnings on top of Lucene! As you can see here, we detect unbounded queries:&#xA;&#xA; &#xA;&#xA;If you do specify a maximum number of entities to return, we are going to reflect that in the query directly:&#xA;&#xA; &#xA;&#xA;We can also tell you if your Lucene index is out of date with respect to the database:&#xA;&#xA;&#xA0;&#xA;&#xA;Sweet, and is currently warming up in the oven, build 488 should have it.</p>
        <a href="https://ardalis.com/why-not-classic-legacy-asp/" target="_blank"><h1 class="title mb-6">Why not Classic (Legacy) ASP?</h1></a>
        <p class="mb-2">by Ardalis</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 07, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Yesterday I got the following email, which I thought raised some good points that I thought were worth addressing here in my blog in&#x2026;Keep Reading &#x2192;</p>
        <a href="https://ardalis.com/principles-patterns-and-practices-of-mediocre-programming/" target="_blank"><h1 class="title mb-6">Principles, Patterns, and Practices of Mediocre Programming</h1></a>
        <p class="mb-2">by Ardalis</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 07, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This is my first pass at a list of anti-principles, anti-patterns, and anti-practices that make up mediocre programming. I&#x2019;m hoping to&#x2026;Keep Reading &#x2192;</p>
        <a href="https://ayende.com/blog/4234/jaoo-or-m-2" target="_blank"><h1 class="title mb-6">JAOO</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 07, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Just finished doing this presentation, I think it went very well, although I planned to do a 45 minutes session &#x2B; 15 questions but I ended up hitting the session time limit without covering everything that I wanted.  You can get the source code that I have shown in the presentation here: http://github.com/ayende/Advanced.NHibernate  You can find the PDF of the presentation here: http://ayende.com/presentations.aspx</p>
        <a href="https://ayende.com/blog/4233/using-a-service-bus-for-queries" target="_blank"><h1 class="title mb-6">Using a service bus for queries</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 07, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Yep, another forum question. Unfortunately, in this case all I have is the title. Even more unfortunately, I already used the stripper metaphor before.&#xA;There are some questions that I am really not sure how to answer, because there are several underlying premises that are flat out wrong in the mere asking of the question.&#xA;&#x201C;Can you design a square wheel carriage?&#x201D; is a good example of that, and using a service bus for queries is another.&#xA;The short answer is that you don&#x2019;t do that.&#xA;The longer answer is that you still don&#x2019;t do that, but also explains why the question itself is wrong. One of the things that goes along with a service bus is the concept of services.&#xA; Services are autonomous.&#xA;Does this ring a bell?&#xA;You don&#x2019;t query a service for its state, because that would violate the autonomy tenant.&#xA;But I need the users data from the Personalization service to show the home page, I can hear you say. Well, sure, but you don&#x2019;t perform queries across a service boundary.&#xA;&#xA0;&#xA;Notice the terminology here. You don&#x2019;t perform queries across a service boundary.&#xA;But you can perform queries inside a service boundary. The image on the right shows one such example of that.&#xA;We have several services in a single application, they communicate between services using a service bus.&#xA;But a service isn&#x2019;t just something that is running in a server somewhere. The personalization service also have user interface, business logic that needs to run on the UI, etc.&#xA;That isn&#x2019;t just some other part of the application that is accessing the personalization service operations. It is a part of the personalization service.&#xA;And inside a service boundary, there are no limitation to how you get the data you need to perform some operation.&#xA;You can perform a query using whatever method you like (a synchronous web service call, hitting the service database, using local state).&#xA;Personally, I would either access the data store directly (which usually means querying the service database) or use local state. I spoke about building a system where all queries are handled using local state here.</p>
        <a href="https://ayende.com/blog/4232/texo-my-power-shell-continuous-integration-server" target="_blank"><h1 class="title mb-6">Texo &#x2013; My Power Shell Continuous Integration Server</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 06, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Yes, I wrote my own CI server. I even did it in Power Shell, because that looks cool. You can find the source here. It is currently running in production and is responsible for pushing NH Prof builds out.  Now, what was I thinking when I built my own CI server? Put simply, I had the following goals:     Test WPF apps &#x2013; CC.Net doesn&#x2019;t allow it, since it is running as a service and that affects the way WPF tests behave. Texo shell out a different process, so it doesn&#x2019;t have this limitation. Most other CI servers do the same.    Don&#x2019;t expose passwords &#x2013; the thing that really killed me with CC.Net was looking at the build log and seeing my password right there in plain text (happens if there is connectivity error to the repository). Yes, I am also surprised this is a feature.    Handle Git pushes &#x2013; Git allows you to push several changes to the repository in a single shot. When I tried to use CC.Net to build NH Prof from git, it only showed the last commit. Texo understand the notion of a push (it takes it from the git hub API) and can pass that information to the build script.    Reactive &#x2013; Texo doesn&#x2019;t check the repository, in fact, most of the time it is completely passive (and is likely to be shut down). Whenever a push is made to the repository, github will call the Texo&#x2019;s url, providing the information about the current push. Texo will take that information and create the builder process, which will update / clone the new repository, and then execute the build command.    Small configuration footprint &#x2013; there are only two types of configuration, the SMTP settings and the project information. Here is the full configuration file:              &lt;settings&gt;&#xA;  &lt;email&gt;&#xA;    &lt;smtpServer&gt;smtp.gmail.com&lt;/smtpServer&gt;&#xA;    &lt;username&gt;*****@gmail.com&lt;/username&gt;&#xA;    &lt;password&gt;****&lt;/password&gt;&#xA;    &lt;useSSL&gt;true&lt;/useSSL&gt;&#xA;    &lt;port&gt;587&lt;/port&gt;&#xA;    &lt;from&gt;*****@gmail.com&lt;/from&gt;&#xA;  &lt;/email&gt;&#xA;  &lt;project&#xA;    url=&quot;https://github.com/ayende/Texo&quot;&#xA;    name=&quot;Texo&quot;&#xA;    git=&quot;C:\Work\Texo&quot;&#xA;    ref=&quot;refs/heads/master&quot;&#xA;    cmd=&quot;powershell .\psake.ps1 default.ps1 upload&quot;&#xA;    build=&quot;3&quot;&#xA;    workingDir=&quot;C:\Builds\Texo&quot;&#xA;    email=&quot;ayende@ayende.com&quot; /&gt;&#xA;&lt;/settings&gt;&#xA;  &#xA;&#xA;&#xA;What it doesn&#x2019;t do:&#xA;&#xA;&#xA;  UI, reports, tracking, whatever. Texo has one purpose in life, listen to changes and build the software, nothing else. The UI is a very simple email notification process, nothing more. &#xA;&#xA;  Hung build recovery.&#xA;&#xA;  Anything but git &#x2B; github.&#xA;&#xA;&#xA;Texo is compromised of two parts, a web endpoint, written in C#, that plugs into IIS. I assume that the IIS website user is going to be the same one that the tests will run under (makes things much simpler). Once a notification arrives, the endpoint will invoke the Builder Power Shell script to perform the actual CI process.&#xA;&#xA;At some point I really have to make up a list of all the projects that I was involved at, I know how I am going to title it: &#x201C;NIH R US&#x201D;.&#xA;&#xA;Oh, and can you figure out the naming?</p>
        <a href="https://ayende.com/blog/4231/licensing-a-commercial-product" target="_blank"><h1 class="title mb-6">Licensing a commercial product</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 06, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This is another forum question, this time from Brendan Rice:     A lot of developers are unsure of how best to go about making money from a product, how do you go about implementing licensing, what pay system do you use, how do you accept payment, are there any legal issues...   Well, talk about an open ended question. There are several aspects for the answer, legal, licensing and payment processing. There are somewhat related, though.  From the legal side, you need to understand basic concepts in the legal side of software engineering. You need to understand copyright, the idea of licensing software, what rights you care about and what you shouldn&#x2019;t. I got a lot of my knowledge from simply researching the topic.  You might want to have a lawyer draft your EULA, but there are two major things that you want to remember about the EULA. Some people actually read the bloody things. If you put things there that are too nefarious people will get pissed at you. There is such a thing as bad publicity. You want to avoid that.   The second important thing about EULA is that if you take someone to court over it, you have already lost. I like to think about EULA as just setting the grounds for what is expected from either side. By all means, get that through your lawyer, but be sure that you know what is in there. And be sure that it is an agreement that you would be willing to sign.  From the licensing perspective, I had a disastrous experience using one licensing component, after which I decided that I might as well write my own. It is a pretty simple system, based on signed XML files, I have the secret private key and the application ship with the public key. It allows to pass data around in a very simple form while protecting the license files from tampering. The code is available, and it is pretty simple, so I won&#x2019;t get deeper into it.  The last part, payment processing, is probably the most interesting bit. I use a payment provider, because trying to manage something like that yourself is a nightmare. My payment provider handles all sort of payment options, including things that require someone to answer the phone or manually clear mailed checks, etc.  They also provide nice admin site, where I can do things like generate coupons, like this one: NHP-45K2D46S27 (yes, it is a valid one, at least until someone will use it), refund people, taxation, view interesting reports and in general administer all aspects of the accepting payments.   They take a commission that isn&#x2019;t significantly larger than most credit cards and in general they solve so much headache that I am happy to pay them.  The result of a successful order in the payment provider is an email generated that is sent to a mailbox monitored by a service. That email is read, parsed, and the corresponding license file is then sent to the user.  Nothing really earth shattering in all the process, yes, I know. But it is probably important to outline that clearly for people who haven&#x2019;t done it yet. It isn&#x2019;t complex or hard by any measure.</p>
        <div class="button flex justify-between">
            <a href="446.html"><span class="back arrow"></span></a>

            <a href="448.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2024<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
</body>
</html>