
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 872 &#x2022; Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="/pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline underline"
               href="index.html"> Home </a><a
                aria-current="" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline " href="about.html">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>


<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-8711">
            <a href="https://ayende.com/blog/1725/tired" target="_blank">
                <h2 class="title mb-6" id="article-8711">Tired!</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 03, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This day started with 5 hours of NHibernate consulting, then about infinity of messing with two dependant WCF services that breaks havoc on my machine, then another couple of hours at a production issue. And I&#x27;m still not used to the new daylight saving time, so I&#x27;m feeling like I have been mowed.    Highlight of the day: I got my MP3 player back, so at least I had fun while driving half way to the moon and back (or so it seems).</p>
        </article>
        <article id="article-8712">
            <a href="https://ayende.com/blog/1724/for-the-adventerous-sort-active-record-nhibernate-1-2" target="_blank">
                <h2 class="title mb-6" id="article-8712">For the adventerous sort: Active Record &#x2B; NHibernate 1.2</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 03, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I branched&#xA0;Active Record to move it to NHibernate 1.2, because of some needed features from NHibernate 1.2 that simply do not exist in NHibernate 1.0.2. The branch at the moment should handle generics natively and easily, so you should be able to do this:             [    HasMany]    public ISet&lt;Post&gt; Posts { ... }        And Active Record would figure out all the rest. (Although it is probably recommended to give it at least the table / column for the relation).    But, as much as I like features that include &quot;someone else will figure it out&quot;, the nicest feature of all is this one:            ProjectionQuery&lt;Blog, int&gt; proj = new ProjectionQuery&lt;Blog, int&gt;(Projections.RowCount());                        int rowCount = proj.Execute();                        Assert.AreEqual(1, rowCount);        This one involves taking advantage on NHibernate 1.2 projections, and it makes certain types of action possible, the above query can also take an ICriteria, which make it a very easy way to handle what previously required HQL to do. There are a large number of builtin projections that can be used, and I found uses for them about 5 minutes after seeing them in action.</p>
        </article>
        <article id="article-8713">
            <a href="https://ayende.com/blog/1723/tag-cloud-is-workingthanks-to-a-tremendous-amount-of-help-from-jo" target="_blank">
                <h2 class="title mb-6" id="article-8713">Tag Cloud Is WorkingThanks To A Tremendous Amount Of Help From Jo</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 03, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Tag Cloud is WorkingThanks to a tremendous amount of help from Joshua Flanagan, tag cloud support in dasBlog is now working on my blog. It looks like I&#x27;m mostly into programming (surprise) :-)</p>
        </article>
        <article id="article-8714">
            <a href="https://ardalis.com/csharp-c-feeds-help-wanted/" target="_blank">
                <h2 class="title mb-6" id="article-8714">CSharp C# Feeds Help Wanted</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 02, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">CSharpFeeds is a simple community site dedicated to keeping up with the latest goings-on in the C# world, while eliminating the noise and&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-8715">
            <a href="https://ayende.com/blog/1722/the-really-bad-side-of-composite-keys" target="_blank">
                <h2 class="title mb-6" id="article-8715">The really bad side of composite keys...</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 02, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">No, I&#x27;m not going to talk about the hard to create/understand queries, performance, or maintainability. The really bad side of composite keys is that you get assoications using part of a key. Here is an example:        Now, start working with the associations here. Payments are linked to salaries that falls within their date range and belong to the same employee. Needless to say, this breaks down FK support, so you will end up with bad data that you need to clean. No to mention that they queries that you need against this database are horrendous.    But, the wost thing that I saw was a relation between two tables that relied on the last N left-most unique characters in a string key.</p>
        </article>
        <article id="article-8716">
            <a href="https://ayende.com/blog/1721/reflection-wtf" target="_blank">
                <h2 class="title mb-6" id="article-8716">Reflection WTF</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This is a major WTF, in my opinon, consider the following code:            using&#xA0;System;        public&#xA0;class&#xA0;Program        {        &#xA0;static&#xA0;void&#xA0;Main()        &#xA0;{        &#xA0;&#xA0;Console.WriteLine(&#xA0;&quot;Is&#xA0;Public:&#xA0;{0}&quot;,&#xA0;typeof(Inner).IsPublic&#xA0;);        &#xA0;&#xA0;Console.WriteLine(&#xA0;&quot;Is&#xA0;Not&#xA0;Public:&#xA0;{0}&quot;,&#xA0;typeof(Inner).IsNotPublic&#xA0;);        &#xA0;}        &#xA0;        &#xA0;public&#xA0;class&#xA0;Inner&#xA0;{}        }        Without compiling this, can you hazzard a guess about what is the result of this program?    Don&#x27;t bother, here it is:Is Public: False    Is Not Public: False    In a stunning misuse of their own guidlines and the English langauge, those are actually not mirror images of each other. Furthermore, check out the documentation for those properties:Type.IsPublic and Type.IsNotPublic. Ignore the documentation at the top of the page, it flat out misleading, check the Property Value section, it contains such gems as (IsNotPublic):true if the Type is not declared public and is not a nested type; otherwise, false.    So, I can change the visibility of Inner to private, and the output remains the same. IsXXX is a well defined notation, this just completely breaks it. The issue here is the use of TypeAttributes to get the value, and TypeAttributes make a distiction between Public and NestedPublic, but why the hell do they take this distinction to the IsXXX properties. Either the value is public or it isn&#x27;t, don&#x27;t go put nesting issues there when you call the property IsPublic.</p>
        </article>
        <article id="article-8717">
            <a href="https://ayende.com/blog/1720/using-sql-functions-in-nhibernate" target="_blank">
                <h2 class="title mb-6" id="article-8717">Using SQL Functions in NHibernate</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Often, when introducing NHibernate, I need to integrate with existing database and infrastructures. Leaving aside the question of stored procedures (since I already expanded on that in length here), which are avialable on NHibernate 1.2, I want to focus on using SQL Functions here.    (One again, I&#x27;m back to the Blog -&gt; Posts -&gt; Comments model)    Now, there are four types of SQL Functions that you might want to use:            Scalar functions that are a part of an entity.        A&#xA0;post&#x27;s total &#xA0;spam score may be calculated using a SQL Function, and it is part of the properties of the object.            Scalar functions that are used for calculations, and should be called explicitly.        A blog&#x27;s popularity score may be calculated using a SQL Function, but it is too expensive to calculate and not often needed.        Note: Only this requires NHibernate 1.2, all other features can be done using NHibernate 1.0.2            Table valued functions (or stored procedure, for that matter, but that is a bit harder) that return entities:        A selection of posts with specific spam score it one example.            Scalar functions that you want to use as part of your HQL queries.        For instnace, you may want to use database (or user defined) functions as part of your HQL queries. Think lower(), dbo.postSpamScore(), etc.    Let us attack each of those in turn, shall we?    First, we have a scalar function that is a property of the entity, in this instance a post&#x27; spam score. The SQL Function is defined so:            CREATE FUNCTION GetPostSpamScore ( @postId INT )                        RETURNS INT AS BEGIN                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RETURN 42                END        Not very exciting, I know, but for our purposes, it is enough. Now, I need to define the following in the mapping file:             &lt;    property name=&#x27;SpamScore&#x27; formula=&#x27;dbo.GetPostSpamScore( post_id )&#x27;/&gt;        The formula attribute is very powerful, you can even put SQL statements that will be executed as corelated sub queries (if you database supports it). Q: Hi, what about aliasing? If I use this and join against another table that has a post_id (for instnace, the comments table), won&#x27;t I get an error or unpredictable results?A: No, NHibernate will automatically pre-pend the alias of the current entity table to anything that looks like a unqualified column access. If you need a column from another table, make sure to use the column with the qualifying name.    That is all you need to do to get the value from the function into your entities. In fact, you can now even perform HQL queries against this property, like this:            from Post p where p.SpamScore &gt; 50        Second case, we want to get a scalar result from the database, and we are not interested in using ADO.Net directly to do so. Note that this is only possible with NHibernate 1.2, in NHibernate 1.0.2, you will need to use ADO.Net calls directly. Again, the SQL Function is very simple (for demonstration only, you can do anything you want in the SQL function, of course)            CREATE FUNCTION GetBlogTotalSpamScore ( @blogId INT )                        RETURNS INT AS BEGIN                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RETURN 42                        END        Now, let us map this query so it would be easy to use...            &lt;sql-query name=&#x27;BlogSpamScore&#x27;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;return-scalar column=&#x27;SpamScore&#x27; type=&#x27;System.Int32&#x27;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;![CDATA[                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; select dbo.GetBlogTotalSpamScore(:blog) as SpamScore                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ]]&gt;                        &lt;/sql-query&gt;        And the code that uses this:            int spamScore = (int)session.GetNamedQuery(&quot;BlogSpamScore&quot;)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .SetEntity(&quot;blog&quot;, blog).UniqueResult();        A couple of points here. Notice that we are using the NHibernate notations for parameters in the query (:blog), and that we are passing an object to the query, not the identifier. I find this style of coding far more natural and OO than the equivalent ADO.Net code. For that matter, the equivalent ADO.Net code goes on for half a page or so... :-)    Third case, using a table valued function. Table valued function obviously cannot be used as a property of the entity. (To be exact, they can be used as a collection, but this is advanced functionality, and it is only avialable in NHibernate 1.2, so I&#x27;m not not going to cover it here). Fairly often, you want to use this for getting a collection of entities from the database using logic that reside in the database (for performance or historic reasons).    Here is my demo function:            ALTER FUNCTION GetAllPostsWithSpamScoreOfAtLeast( @minSpamScore int)                        RETURNS TABLE AS RETURN                        (                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SELECT post_id, post_blogid FROM Posts                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; -- implement WHERE clause here                        );        Now, let us map this for a set of entities:            &lt;sql-query name=&#x27;AllPostsWithSpamScoreOfAtLeast&#x27;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;return class=&#x27;NHibernate.Generics.Tests.Post, NHibernate.Generics.Tests&#x27;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; alias=&#x27;post&#x27;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;![CDATA[                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SELECT post_id as {post.PostId}, post_blogid as {post.Blog}, 100 as {post.SpamScore}                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FROM dbo.GetAllPostsWithSpamScoreOfAtLeast(:minSpamScore)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ]]&gt;                        &lt;/sql-query&gt;        Notice that I map all the colums to their respective properties (I could also use {post.*} if I wanted all of the columns without bother with specifying each and every one). And that I can pass parameters easily to the query.    Now, I can just query them like this:            IList list = session.GetNamedQuery(&quot;AllPostsWithSpamScoreOfAtLeast&quot;)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .SetInt32(&quot;minSpamScore&quot;, 5).List();        Against this is much more readable than the equivalent ADO.Net code, and I get full fledged objects back. If you want to do projections (show a post summary, etc. Using just part of the entity) you need to map the resulting projection as if it was an entity, NHibernate doesn&#x27;t support SQL projections. (In practice, this is not an issue).    The last case is using user defined SQL Functions (or bulitin ones that NHibernate doesn&#x27;t recognize by default) in your HQL queries.&#xA0;In order to do this, you need to&#xA0;either extend the dialect for&#xA0;your database, or dynamically add new functions&#xA0;to the dialect in the session factory (not really recommended).&#xA0;    Let us assume that you really want the ISOweek function. (See here&#xA0;for the implementation, if you really care). The function declaration is:            CREATE FUNCTION dbo.ISOweek (@DATE datetime) RETURNS INT        I would recommend extending the dialect for the database with the new function, like this:                                            public class MyDialect : MsSql2000Dialect                        {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public MyDialect()                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RegisterFunction(&quot;dbo.isoweek&quot;, new StandardSQLFunction(NHibernateUtil.Date));                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        }        A couple of things to note here. If this is a user defined function, you have to add the schema (in this case, dbo). The function name must be in lower case (HQL is case insenstive, so you can use whatever case you like in the queries, but you register the function with lower case). You then configure NHibernate to your MyDialect instead of your database dialect, and that is it. You can now issue HQL queries like this:            from Post p where dbo.ISOWeek(p.date) = 51        Note that you must still use the &quot;dbo.&quot; in the HQL.&#xA0; Again, you can pass arguments naturally:            session.CreateQuery(&quot;from Post p where dbo.ISOweek( :date )&#xA0; = 12&quot;)                        .SetDateTime(&quot;date&quot;, DateTime.Now)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .List();        (Not that I can&#x27;t think of a reason why you would want to excute the last two queries).    So, this is just about all you would ever want to know about SQL Functions, and if you kept reading up to now, you are really passionate about it.     Happy (N)Hibernating... :-)</p>
        </article>
        <article id="article-8718">
            <a href="https://ayende.com/blog/1719/using-nhibernate-generics-with-nhibernate-1-2" target="_blank">
                <h2 class="title mb-6" id="article-8718">Using NHibernate.Generics with NHibernate 1.2</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">If you are using NHibernate.Generics with NHibernate 1.2, you may run into casting issues, this is because NHibernate.Generics and NHibernate 1.2 both tries to make the collections generic.    You can either stop using NHibernate.Generics (their main purpose, allowing generic collections in NHibernate) is no longer needed. But their secondary purpose, automatic syncronization between related properties is very nice in many scenarios. Until I&#x27;ll get around to porting them to 1.2, you need to specify generic=&quot;false&quot; in the mapping of all collections that uses NHibernate.Generics for them to work.</p>
        </article>
        <article id="article-8719">
            <a href="https://ayende.com/blog/1718/religion-yom-kippur-post" target="_blank">
                <h2 class="title mb-6" id="article-8719">[Religion] Yom Kippur Post</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Okay, I&#x27;m going to take advantage of having a blog to shorten some religious cycles. If you are not familiar with Yom Kippur, check the wikipedia entry.    If I have hurt, lied, broke my word, disappointed, hated, oppended or&#xA0;angered you*, I am sorry.    * The list in Hebrew goes for amount 15 minutes, it also rhymes. But I don&#x27;t have the patience to try and translate it all. Sorry for that too.</p>
        </article>
        <article id="article-8720">
            <a href="https://ayende.com/blog/1717/nhibernate-mapping-file-item-template" target="_blank">
                <h2 class="title mb-6" id="article-8720">NHibernate Mapping File Item Template</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I find myself creating it quite a bit, and I got tried of copy/paste to add the item, so I create an item template for VS 2005. You can download it here.    I am thinking about creating a project template as well (I keep creating small projects to test stuff, or abusing my existing NHibernate.Generics project), but I hate the GAC and I don&#x27;t want hard coded paths in the template. Any ideas how I can add the DLLs themselves to the template?</p>
        </article>
        <div class="button flex justify-between">
            <a href="871.html"><span class="back arrow"></span></a>

            <a href="873.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>

<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="about.html"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="/pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>
