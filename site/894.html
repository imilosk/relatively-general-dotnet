
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 894 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-8931">
            <a href="https://ayende.com/blog/1423/nhibernates-any-association-is-cool" target="_blank">
                <h2 class="title mb-6" id="article-8931">NHibernate&#x2019;s &lt;any&gt; association is cool</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 05, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I need to preface the cool&#xA0; part with also mentioning that &lt;any&gt; is a part of an evil plot to overtake the world, so don&#x2019;t use it if you don&#x2019;t know what you are doing. If you do, however, it is one hell of a feature to have.  &#xA;Currently I&#x2019;m using it for a&#xA0; set of rules, which can be applied to&#xA0; several objects, which does not have a common ancestor. This is usually a problem, since I have no way to map&#xA0; those objects to the database and back. &#xA;It turned out that NHibernate has support for &lt;any&gt; and &lt;many-to-any&gt; tags which gives you this functionality.&#xA0; Let us consider the following simple class diagram: &#xA; &#x9;&#xA;In this case, we have a Rule, which can be applied to an IValidable instance.&#xA0; How do I persist this to the database? And more importantly, get it out again cleanly? &#xA;Let us take a look at the database diagram: &#xA; &#x9;&#xA;Second, we will look at the mapping: &#xA;&#xA;&#xA;    &#xA;    &#xA;        &#xA;            &#xA;            &lt;class &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;name=&#x27;NHibernate.Any.Rule, NHibernate.Any&#x27; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;table=&#x27;`Rule`&#x27;&gt; &#xA;            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;id &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;name=&#x27;Id&#x27;&gt; &#xA;            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;generator &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;class=&#x27;identity&#x27;/&gt; &#xA;            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/id&gt; &#xA;            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;any &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;name=&#x27;AppliesTo&#x27; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;meta-type=&#x27;System.String&#x27; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;id-type=&#x27;System.Int32&#x27;&gt; &#xA;            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;meta-value &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;class=&#x27;NHibernate.Any.Account, NHibernate.Any&#x27; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;value=&#x27;ACC&#x27;/&gt; &#xA;            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;meta-value &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;class=&#x27;NHibernate.Any.Customer, NHibernate.Any&#x27; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;value=&#x27;CUST&#x27;/&gt; &#xA;            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;column &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;name=&#x27;AppliesToType&#x27;/&gt; &#xA;            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;column &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;name=&#x27;AppliesToId&#x27;/&gt; &#xA;            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/any&gt;  &#xA;            &lt;/class&gt;&#xA;            &#xA;        &#xA;    &#xA;&#xA;&#xA;&#xA0; &#xA;&#xA;A couple of points before we continue: &#xA;&#xA;    &#xA;    The meta-type attribute is not required in the schema, but omitting it causes some strange results. Always specify it. &#xA;    &#xA;    &#xA;    The &lt;any&gt; tag has the last two elements as &lt;column&gt;. There is a very specific meaning to the ordering of those &lt;column&gt; elements (and it is nearly the only place in NHibernate where element ordering has a meaning). The first &lt;column&gt; element specify the column that holds the type of the association, and the second &lt;column&gt; holds the id of the object that this association points to. &#xA;    &#xA;    &#xA;    Each &lt;meta-value&gt; element maps between a class and a value (which is what NHibernate will search on the Type column).  &#xA;    &#xA;&#xA;In this case, both Customer and Account implements IValidable, and a Rule can be applied to either of them (in this simple example, it doesn&#x2019;t really makes sense, but I have a system where IValidable is a fully fledged interface that exposed enough information to be able to use just its info to run a significant number of rules). &#xA;Now I can just set the AppliesTo attribute to the appropriate type, and NHibernate will take care of everything for me. This takes care of quite a bit of complexity, and simplifies my life quite a bit. &#xA;Building on this behavior, it is possible to have a very rich model, and still enjoy the benefits of NHibernate&#x2019;s capabilities.</p>
        </article>
        <article id="article-8932">
            <a href="https://ayende.com/blog/1422/rhino-mocks-2-8-4-a-rough-diamond" target="_blank">
                <h2 class="title mb-6" id="article-8932">Rhino Mocks 2.8.4 &#x2013; A Rough Diamond</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 05, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Well, it has been 24 hours, what did you expect?&#xA;This release fixes a bug in creating Multi Mocks. When a MultiMock was requested, and it implemented a non virtual method and one of the extended interfaces also had the same method, an exception would be thrown. This one was fun to dig into, actually.&#xA;The problem was in the CLR method table, and the way Dynamic Proxy handles generating new methods. By default, it always generated virtual methods, which caused a type load exception if the base type had that method marked as non virtual. The solution was to check for the existence of such methods, and then generate any additional methods with the same signature with new slots in the method table.&#xA;Ten points for the first commenter who will tell me what I meant with the title, and how it relates to the problem at hand.&#xA;At any rate, you can find the new release here, in both binary and source formats.</p>
        </article>
        <article id="article-8933">
            <a href="https://ayende.com/blog/1421/how-to-tell-that-this-is-not-production-code" target="_blank">
                <h2 class="title mb-6" id="article-8933">How to tell that this is not production code</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 05, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Today I co-wrote some code that I am not so sure about. I don&#x2019;t think that I want it to ever reach production state.&#xA;Here are some of the symptoms encountered while writing it:&#xA;Before running the tests:&#xA;&#x201C;We are crazy to even try it&#x201D;&#xA;&#x201C;There is not way that it is going to work&#x201D;&#xA;&#x201C;Complete waste of time&#x201D;&#xA;&#x201C;I have no idea what I am doing here, or how it is going to behave&#x201D;&#xA;After running the tests:&#xA;&#x201C;I can&#x2019;t believe it is working&#x201D;&#xA;&#x201C;There is no way it should have worked&#x201D;&#xA;&#x201C;There is no way I can explain to other developers what we just did&#x201D;&#xA;&#x201C;It is not debuggable&#x201D;&#xA;Add that to mad giggles as we wrote the code and tested it. It is a fascinating piece of work, but it is fascinating in the same way as a car wreck.&#xA;Just to give you some idea about what I am talking about, the code involved:&#xA;Generic entities (as in Dispatcher&lt;T&gt;)&#xA;NHibernate Hierarchies&#xA;Dependency Injection via Object Builder&#xA;The end result is actually fairly clean, you end up with something like this:&#xA;Repository&lt; IDispatcher &lt;Order&gt;&gt;&#xA0;&#xA0;&#xA0;&#xA0;.FindOne(&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Expression.Eq(&#x201C;DestinationCountry&#x201D;,&#x201D;UK&#x201D;)).Dispatch(order);&#xA;It looks nice, until you try to explain how it works. &#xA;Each dispatcher has a different argument object, which is mapped via NHibernate to a common table, so you can pass strongly typed arguments to the dispatcher, and NHibernate will deal with all the magic. &#xA;The disturbing part is that there is runtime translation of the requested class, and then there is injection of services into the entity. I will leave aside the idea of service entities at the moment, which is not nice as it is. &#xA;Adding a new dispatcher involves inheriting from a generic base class, adding NHibernate mapping and adding Object Builder mapping, not for the faint of heart, in my humble opinion. &#xA;But, it is generic, configurable and extensible.  Recently, it seems like YAGNI has became a mantra for me, as well as the quote: &#x201C;The most configurable system is java.exe, and it is configured via javac.exe&#x201D;</p>
        </article>
        <article id="article-8934">
            <a href="https://ayende.com/blog/1420/rhino-mocks-documentation-update-needed" target="_blank">
                <h2 class="title mb-6" id="article-8934">Rhino Mocks Documentation Update Needed</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 05, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I got a request to update Rhino Mocks documentation, which currently is at 2.5.5 while the current release is 2.8.3. I checked my blog and compiled the list of changes you can see below.&#xA;There are some significant improvements since 2.5.5, the problem is that they also require significant documentation updates.&#xA;Version 2.8:&#xA;Support for Multi Mocks&#xA;Can now call CallOriginalMethod() from LastCall as well as Expect.&#xA;Some better debug information for those of us who debug Rhino Mocks.&#xA;Better support for mocking COM interfaces&#xA;Version 2.7.2:&#xA;Fixed a bug with virtual method calls from constructors&#xA;Is.Same() constraint&#xA;Property.ValueConstraint() constraint, which allows to setup constraints on properties&#x2019; values. &#xA;Version 2.7:&#xA;Support for raising events&#xA;Fixed a bug where overriding Equals() will cause a StackOverFlow&#xA;Improved support for remoting mocks&#xA;ixed a bug with regard to interfaces with the same name on different namespaces.&#xA;Version 2.6.5:&#xA;Major performance improvement&#xA;Rhino Mocks is now CLS Complaint&#xA;Version 2. 6:&#xA;Mocking an internal class from a strongly typed assembly&#xA;Added serialization constructors to Rhino Mocks&#x2019; exception, so they will work with Remoting &#xA;Support for methods with arrays of value types.&#xA;Support for methods that starts with &#x201C;get_&#x201D; or &#x201C;set_&#x201D; that are not properties.&#xA;BackToReccord() now also works with repeatable expectations (SetupResult) and with Dynamic or Partial mocks&#xA;Added Is.TypeOf&lt;&gt;()&#xA;Sigh, I will try to get around to it in the next couple of days&#x2026;</p>
        </article>
        <article id="article-8935">
            <a href="https://ayende.com/blog/1419/nhibernate-and-system-transactions-a-success" target="_blank">
                <h2 class="title mb-6" id="article-8935">NHibernate and System.Transactions &#x2013; A Success</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 04, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I was asked today how NHibernate plays with the new System.Transactions namespace. I wasn&#x2019;t sure about the answer, so I wrote a quick test to find out.&#xA;I was not surprised to find out that it worked just fine out of the box (for SQL Server, that is).&#xA;Account acc1 = new&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Account();&#xA;acc1.Name = &quot;foo&quot;;&#xA;using (ISession session = sessionFactory.OpenSession())&#xA;{&#xA;    session.Save(acc1);&#xA;    session.Flush();&#xA;}&#xA;using (TransactionScope tx = new&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;TransactionScope())&#xA;{&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;using (ISession session = sessionFactory.OpenSession())&#xA;    {&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Account acc2 = (Account)session.Load(typeof(Account), acc1.Id);&#xA;        acc2.Name = &quot;1234&quot;;&#xA;        session.Flush();&#xA;    }&#xA;}&#xA;using (ISession session = sessionFactory.OpenSession())&#xA;{&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Account acc3 = (Account)session.Load(typeof(Account), acc1.Id);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Debug.Assert(acc3.Name == &quot;foo&quot;);&#xA;}&#xA;using (TransactionScope tx = new&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;TransactionScope())&#xA;{&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;using (ISession session = sessionFactory.OpenSession())&#xA;    {&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Account acc4 = (Account)session.Load(typeof(Account), acc1.Id);&#xA;        acc4.Name = &quot;1234&quot;;&#xA;        session.Flush();&#xA;    }&#xA;    tx.Complete();&#xA;}&#xA;using (ISession session = sessionFactory.OpenSession())&#xA;{&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Account acc5 = (Account)session.Load(typeof(Account), acc1.Id);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Debug.Assert(acc5.Name == &quot;1234&quot;);&#xA;}&#xA;&#xA;&#xA0;What is going on here:&#xA;We create an account, and set its name to &#x201C;foo&#x201D;&#xA;We then open a System.Transactions TransactionScope&#xA;We modify the account we created, changing its name, and then save it to the database&#xA;Because we did not call Complete(), the transaction is rolled back the moment we exit the using() statement&#xA;We check that the transaction was indeed rolled back.&#xA;We then open a second System.Transactions TransactionScope&#xA;We modify the account and save it to the database&#xA;We call Complete() on the transaction, which commits it.&#xA;Outside the transaction, we check to make sure that the change was persisted.&#xA;One thing to note here, this is done using SQL Server as the backend, and utilizing the support in ADO.Net for auto enlisting in transactions. I don&#x2019;t think that it will work on other providers, unless they support System.Transactions to the same level that SqlClient does.</p>
        </article>
        <article id="article-8936">
            <a href="https://ayende.com/blog/1418/rhino-mocks-2-8-3" target="_blank">
                <h2 class="title mb-6" id="article-8936">Rhino Mocks 2.8.3</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 04, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Well, it looks like I could just setup a scheduled task for this. If I was using source forge, I have no doubt that I would be right up there with the active projects. &#xA;Anyway, this release fix a rather obscure bug where an unsatisfied expectation is followed immediately by an Unordered() or another Ordered() section.&#xA;This time I&#x2019;m not going to tell you where to find either source or binaries. You should have the URL memorized.&#xA;Happy mocking&#x2026;</p>
        </article>
        <article id="article-8937">
            <a href="https://ayende.com/blog/1417/rhino-mocks-2-8-2-released" target="_blank">
                <h2 class="title mb-6" id="article-8937">Rhino Mocks 2.8.2 Released</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 03, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This release fixes a potential bug that occurs when you mix ordered expectations and expectations for a range of method calls. The OrderedMethodRecorder didn&#x2019;t take optional calls into consideration, which caused the problem.&#xA;Another issue is using Rhino Mocks to mock COM objects that return other COM objects, I think that I got it right this time, but I&#x2019;m still waiting for feedback.&#xA;Thanks again to Royston Shufflebotham for sending all those patches&#x2026; &#xA;As usual, the new release is available in source and binaries format here.</p>
        </article>
        <article id="article-8938">
            <a href="https://ardalis.com/18261/" target="_blank">
                <h2 class="title mb-6" id="article-8938">Announcing Visual Studio Team Edition for Database Professionals</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 02, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This morning (09:00 PST, Wednesday May 31st 2006) the Visual Studio Team System team announced the availability of a brand product in the&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-8939">
            <a href="https://ardalis.com/18336/" target="_blank">
                <h2 class="title mb-6" id="article-8939">Adobe, PDF, Microsoft, and Office</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 02, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Office 2007 won&#x2019;t include Save As PDF by default, but you can still get it as a free download. More information here&#x2013; I&#x2019;ll save the analysis&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-8940">
            <a href="https://ayende.com/blog/1416/lock-modify-unlock-pains" target="_blank">
                <h2 class="title mb-6" id="article-8940">Lock &#x2013; Modify &#x2013; Unlock pains</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 02, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">In general, source control has two main models:&#xA;&#xA;&#x9;The first model is the one that is used in Source Safe and the default for Team System. This is a model I despise. Mainly because it is so limiting.&#xA; A couple of examples that I run into recently:&#xA;Can&#x2019;t refactor, since other files are locked by other users, and I can&#x2019;t do a solution wide change unless I lock everything else.&#xA;Can&#x2019;t change the solution, I need to change the configuration for the entire solution, but it is locked by another user, who is currently  adding a new project.&#xA;It is possible for a developer to lock other developers.&#xA;I can&#x2019;t do local changes on my machine without affecting everything else, if only by the fact that I&#x2019;m locking other developers from using those files.&#xA;Two developers may need to make a fix to the same file, but one is locking the other.&#xA;The idea of disconnected development is strange, and patches are hard to create in this model.&#xA;If I ever saw a lock &#x2013; modify &#x2013; unlock in a piece of software, I would ask about the problems in concurrency. For some reason, it doesn&#x2019;t come up when people are using the lock &#x2013; modify &#x2013; unlock.  This model enforce a lot of communication overhead between developers. &#x201C;Release this&#x201D;, &#x201C;Release that&#x201D;, &#x201C;Who has foo&#x201D;, &#x201C;Why is bar locked&#x201D;, etc.&#xA;This is even more annoying if you don&#x2019;t have the permissions to undo a checkout of another user.&#xA;To overcome this approach, I become an advocate of partial classes, but this is a bad reason to use them. And then I need to lock the project file itself, which lock other users as well. &#xA;The copy &#x2013; modify &#x2013; merge model is bliss. I&#x2019;m using it in teams that are worldwide. No problems whatsoever, even when several developers are actively working on the same part of the project. Conflicts are generally rare, and when they can&#x2019;t be resolved by the developer committing code, then the developers need to talk. Far less overhead, far less time spent pleasing the source control system.&#xA;I know that I talked about this recently, but I had a recent fight with the lock &#x2013; modify &#x2013; unlock that caused much grief, and I felt the need to talk about it again.</p>
        </article>
        <div class="button flex justify-between">
            <a href="893.html"><span class="back arrow"></span></a>

            <a href="895.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>
</body>
</html>