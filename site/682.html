
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Home â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main">
    <section aria-label="Blog post list">
        <a href="https://ayende.com/blog/3188/field-expedients-or-why-i-dont-have-the-tools-is-not-an-acceptable-answer" target="_blank"><h1 class="title mb-6">Field Expedients, or why &quot;I don&#x27;t have the tools&quot; is not an acceptable answer</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: March 11, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Recently I had a few conversations about tooling, lack thereof and the impact that this has on the overall system.&#xA;I don&#x2019;t think that someone can argue that starting from scratch is a very good idea in most scenarios. This is especially true when you are talking about any significantly complicate system, which we all do.&#xA;There is still a place for quick &amp; dirty solutions, but that is for throwaway utilities. Hell, even calc.exe isn&#x2019;t simple (arbitrary precision numbers) anymore.&#xA;Therefore, I am constantly surprise by people that chose to go without. I could understand that if they chose that path out of ignorance, but all too often a conscious decision.&#xA;It is based on reasons such as: &#x201C;It would take me too long to get approval to buy this tool&#x201D;, or &#x201C;I have to go through the Proper Channels to use that tool&#x201D;.&#xA;I don&#x2019;t like those reasons, but they are real, and I had encountered them several times.&#xA;By now you have probably understood that I have firm opinions about how to go about building successful software systems. &#xA;Those opinions are backed by the tools that I am using, but are not constrained to them (just check the commit logs when I am doing something new J ).&#xA;&#xA0;&#xA;So, where is this headed?&#xA;Right now I am working on top of the &#xA0;Naked CLR, which means that I am mostly cannot use my usual stack. This is not fun, and I assure you that I bitch about this more than enough.&#xA;Nevertheless, the inaccessibility of my usual stack doesn&#x2019;t mean that I can just ignore my experience so far. I have the aforementioned opinions for a reason.&#xA;IoC and AoP are two simple concepts that I have embraced whole heartedly. Auto registration and letting the application figure it out is paramount to the way I develop software.&#xA;I tried to do it otherwise, and I have myself constrained and annoyed.&#xA;How do I solve this issue? By using Field Expedients replacements.&#xA;What do I mean by that?&#xA;A container, auto registration, method interception and AoP are fairly easy to build. You can take a look at those implementations, to get some ideas.&#xA;I implore you, however, that you will not use those. They are replacements, hacks and temporary. They are there so I can work using familiar methods and practices, although not using my familiar tools. &#xA;If you&#x2019;ll tell me the implementation is bad, I&#x2019;ll agree. But it is there, and it can be used. As a scaffolding if nothing else, but it can be used.&#xA;This post is mostly to note that not having the tools is not a good enough reason. You can build the tools.&#xA;This post is written to make a point that most people seems to miss. You don&#x2019;t need to get it perfect. You don&#x2019;t need to drop down to assembly to get every erg of speed you need. You don&#x2019;t need it to be functional for the general case, you don&#x2019;t even need it to be pretty.&#xA;The so called container that I have created is a good candidate for the Daily WTF. &#xA;&#xA0;&#xA;I think that it took about 4 hours overall to build everything that I needed. I didn&#x2019;t build it all in one go, just as I needed it. You can actually take a look at the history and see how it went.&#xA;&#xA0;&#xA;Don&#x2019;t mistake what I am saying, however. I am calling those Field Expedients for a reason. They are crutches, and are not nearly as capable as the real things. But they are close enough, and I am told that I am good at mocking.</p>
        <a href="https://ayende.com/blog/3187/alt-net-logo" target="_blank"><h1 class="title mb-6">ALT.Net Logo</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: March 09, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">A while ago I suggested a logo for ALT.Net, which I really liked, but had copyright issues. Since then, I had commissioned the creation of a new logo, using the same ideas, which can be used without copy right issues.  This is not the official logo, there isn&#x27;t any to my knowledge, but it express the way I think about ALT.Net very well.  The logos are:     And:     You may use and modify the logos under the Creative Commons Non Commercial license.  I put all the raw images in this location, which can be used to adapt the images.  Have fun.</p>
        <a href="https://ayende.com/blog/3186/why-i-hate-internals-yet-again" target="_blank"><h1 class="title mb-6">Why I hate internals, yet again</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: March 09, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">So here I am searching for an implementation of a WeakHashtable, and imagine my surprise when I find out that the BCL already has one such implementation. Imagine my lack of surprise to find that System.ComponentModel.WeakHashtable is internal, thus rendering it near useless to me.So annoying, frustrating and irritating.&#xA0;&#xA0;  &#xA0;&#xA0;  &#xA0; &#xA;Update:&#xA;Oh, and as if it is not enough, it appears that there are two implementation of WeakHashtable in the BCL. In two different assemblies (System and System.Windows.Forms).&#xA;From browsing the code, it looks like they just copy/paste the code, instead, you know, recognizing that this is an actual need and exposing this.</p>
        <a href="https://ayende.com/blog/3185/a-few-reasons-to-like-nhibernate" target="_blank"><h1 class="title mb-6">A few reasons to like NHibernate</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: March 08, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Here is a very partial listing of features that I like in NHibernate.     Change friendly - NHibernate make it very easy to handle changes, either in the mapping layer, or using 1:1 mapping to the database and asking NHibernate to create the database from the model or update the database schema to match the model. This means that making a change to the model is a very painless operation.     Multi queries - the ability to batch several queries into a single database call makes for significant improvement in performance in almost any scenario.      http://ayende.com/Blog/archive/2007/05/20/NHibernate-Multi-Criteria.aspx       That was actually a marketing feature, initially, but it turn out to be really useful.     Future queries - building on the mutli queries capabilities, this allow you to retain a friendly synatx, but still get the perf benefits of multiply queries in a single remote call. Beside, you can now say that you are future proofing the application.      http://www.ayende.com/Blog/archive/2008/01/24/FutureltTNHibernateQuerygt.aspx     Batch updates - and I am still bitter about SqlCommandSet being internal. That is a major annoyance.     Caching - NHibernate has 4 different caches, the identity map cache is common in OR/M, but NHibernate manages a second level cache as well. Which can be turned on by a config setting, which allows you to cache just about everything. NHibernate&#x27;s caching is split to query caching (just the ids returned), entity cache (the data of the entities) and timestamp cache (which prevent stale data). All in all, they provide a very seemless experience, and make it incredibly easy to significantly improve the performance of the application without having to go and touch all the places where you call the DB.      In addition to that, NHibernate cache is pluggable, moving from the ASP.Net cache (including support for all the usual dependencies tracking) to distributed caching suitable for web farms scenarios.       This also enable other interesting scenarios, I know of at least one place that uses the cache as a fallback in case the database is down, for example.     Support for distributed scenarios - sharding, distributed caching, cache supported queries are few of the features that relates to that, just of the top of my head.     Googling live.coming your entities - Lucene integration - super fast search across your entities, including interesting options such as polymorphic searchs across the graph and safe query language that user are familar with (and no, full text searching at the DB level doesn&#x27;t come close).     Flexible - I can extend just about every part of NHibernate that I want. Without changing NHibernate&#x27;s code, that is, just by using the provided extension mechanism. From supporting wierd database types to adding AOP support to my entities. This means that I don&#x27;t find the hood welded shut, which is all too often the case, when I need to do something slightly advance.     Testable - NHibernate itself is easy testable, although I would still recommend going one layer above that for real testing, since it is generally too lower granularity to be useful in most cases.     Non invasive - if I want to use NHibernate, I don&#x27;t have to make any signifcant modifications to my code, my entities are POCO classes, without referencing NHibernate or being dependant on it. This is imprtant, because it means that NHibernate accepts the responsability to match my model, not the other way around.     Complete abstraction - I have written full fledged enterprise applications, with high level f complexity, that had 0 (ZERO) SQL statements in them. I mean that as no queries in the code, no stored procedures, no DDL, nothing. NHibernate took over the entire thing, I didn&#x27;t have to manage that at all. (Doesn&#x27;t mean that I didn&#x27;t test that, or that I wasn&#x27;t profiling the application to see if it needed indexing or the like, but it was zero cost DB for most of the project).     High performance options - see above for some of them, in general, NHibernate provides with a lot of options to increase performance. Here is a tidbit that I didn&#x27;t mention so far, the various fetching straties that you can use (join, subselect, batched select, caching, multi queries, etc).     Multi database support - you aren&#x27;t limited to SQL Server, you can work on just about any database that you want. Even if you use SQL Server, the ability to run on a different database is very important, I routinely use this ability to enable me to run unit test on in memory databases, which are blazing fast. Without this, I would have to run tests against a database server, and the cost of the tests would be three orders of magnitude higher.     Per query (and association) load options - this turn out to be useful in many cases, when I may need this flexiblity in the same unit of work.     Enable non invasive cross cutting concerns handling. For example, if I want to handle INotifyPropertyChanged in my model, I don&#x27;t have to add that to my model (thereby tainting it with what is for all intents and purposes UI concerns), I can add this capability directly through NHibernate:      http://www.ayende.com/Blog/archive/2007/04/17/Advance-Extending-NHibernate-Proxies.aspx          Partial domain models - The ability to merge two diparate domain models into a single one dynamically is pretty powerful when you want to take a base model and use it from another one. This allows the ability to extend the model in some nice ways, such as building a separate library that handles a concerns without having to tie it to a particular domain implementation, or reusing a domain in different context.</p>
        <a href="https://ayende.com/blog/3184/soa-future-batches" target="_blank"><h1 class="title mb-6">SOA Future Batches</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: March 07, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Pair&lt;CustomerDto, ICollection&lt;OrderDto&gt;&gt; GetCustomerAndOrders(int customerId);&#xA;  &#xA;&#xA;&#xA;Today I had a very interesting lunch conversation, about designing the backend of a web side, SOA style. The initial suggestion called for an interface similar to this one:&#xA;&#xA;&#xA;  &#xA;    &#xA;      public interface ICustomerService&#xA;&#xA;      {&#xA;&#xA;          CustomerDto GetCustomerById(int id);&#xA;&#xA;          ICollection&lt;OrderDto&gt; GetOrdersForCustomer(int customerId);&#xA;&#xA;      }&#xA;    &#xA;  &#xA;&#xA;&#xA;One the surface, that was reasonable, until we started talking about the implementation. Which would look somewhat similar to this:&#xA;&#xA;&#xA;  &#xA;    &#xA;      PropertyBag[&quot;customer&quot;] = customerSrv.GetCustmerById(customerId);&#xA;&#xA;      PropertyBag[&quot;orders&quot;] = customerSrv.GetOrdersForCustomer(customerId);&#xA;    &#xA;  &#xA;&#xA;&#xA;I wasn&#x27;t pleased with that, because this means two remote calls, instead of one. That, in general, is bad. Especially since developers tend to write small methods, requiring many roundtrips to the server. On the other hand, having an interface that closely matched the UI was going to make the whole SOA thing silly, and make it much harder for other clients to make use of the services (and there are other clients).&#xA;&#xA;Beside, this is ugly:&#xA;&#xA;&#xA;  Pair&lt;CustomerDto, ICollection&lt;OrderDto&gt;&gt; GetCustomerAndOrders(int customerId);&#xA;&#xA;&#xA;Clearly, something had to be done. I suggested the following, instead of having a service (and end point) per logical service, has a single service, with a single method:&#xA;&#xA;&#xA;  &#xA;    &#xA;      public interface IHippoService&#xA;&#xA;      {&#xA;&#xA;          AbstractResponse[] Process(params AbstractRequest[] requests);&#xA;&#xA;      }&#xA;    &#xA;  &#xA;&#xA;&#xA;And we define the following request/response pairs as well:&#xA;&#xA;&#xA;  public class GetCustomerByIdRequest&#xA;&#xA;  {&#xA;&#xA;     public int CustomerId;&#xA;&#xA;  }&#xA;&#xA;  &#xA0;&#xA;&#xA;  public class GetCustomerResponse&#xA;&#xA;  {&#xA;&#xA;      public CustomerDto Customer;&#xA;&#xA;  }&#xA;&#xA;  &#xA0;&#xA;&#xA;  public class GetOrdersByCustomerRequest&#xA;&#xA;  {&#xA;&#xA;     public int CustmerId;&#xA;&#xA;  }&#xA;&#xA;  &#xA0;&#xA;&#xA;  public class GetOrdeersResponse&#xA;&#xA;  {&#xA;&#xA;     public ICollection&lt;OrderDto&gt; Orders;&#xA;&#xA;  }&#xA;&#xA;&#xA;If this reminds you of NServiceBus, you are correct. Same pattern, but with vastly different goals.&#xA;&#xA;The main point of going with this approach is that we can now do the following:&#xA;&#xA;&#xA;  &#xA;    &#xA;      var responses = hippoService.Process( new GetCustomerById(customerId), new GetOrdersForCustmer(15));&#xA;&#xA;      PropertyBag[&quot;customer&quot;] = responses[0];&#xA;&#xA;      PropertyBag[&quot;orders&quot;] = respones[1];&#xA;    &#xA;  &#xA;&#xA;&#xA;And this allows us to perform the required operation in a single remote call, instead of two.&#xA;&#xA;Furthermore, this style of programming, while efficient, is not really friendly, we can make this much friendlier by introducing futures into the deal, so the API that we will have will look like this:&#xA;&#xA;&#xA;  &#xA;    &#xA;      var futureCustomer = ProcessInFuture&lt;GetCustomerResponse&gt;(new GetCustmerByIdRequest(customerId));&#xA;&#xA;      var futureOrders = ProcessInFuture&lt;GetOrdersResponse&gt;(new GetOrdersForCustomerRequest(customerId));&#xA;// use the future values, causing both to be sent to the server in one go&#xA;  &#xA;&#xA;&#xA;This programing model is much more natural for most developers, but it keep all the performance benefits of the batching approach.&#xA;&#xA;This is also how I can get unbelievable performance from NHibernate, for code that looks very readable, but would execute like a dog without futures and batching.&#xA;&#xA;We have spiked a small test case using WCF, and it works, pretty nicely, I might add.&#xA;&#xA;Thoughts?</p>
        <a href="https://ayende.com/blog/3183/and-now-i-am-a-classic-too" target="_blank"><h1 class="title mb-6">And now I am a classic, too?</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: March 07, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Mark Seemann&#x27;s post about Type Mock and Rhino Mocks. I am not going to touch the subject again, since I already did in the past. What I do want to talk about is this statement:     The very beneficial constraint introduced and enforced by a classic mocking framework can force you to think about things you wouldn&#x27;t otherwise have considered.   Classic? Since when is Rhino Mocks classic? What happen the underdog status?  Suddenly I feel old.  And I haven&#x27;t written fun code in a while (SvnBridge is fun, make no mistake, but fun code you write for fun), since it is too much of a hassle to get a dev environment on this laptop.</p>
        <a href="https://ayende.com/blog/3182/svnbridge-performance" target="_blank"><h1 class="title mb-6">SvnBridge - Performance</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: March 07, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Standard disclaimers, this is from a machine near the server, it is not constant at that level, it is on the hosted version only, a lot more work needs to be done, haven&#x27;t profiled it properly, etc.  In short, this is a nice picture, and a good way to end a day.</p>
        <a href="https://ayende.com/blog/3181/yet-another-internal-issue" target="_blank"><h1 class="title mb-6">Yet another internal issue</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: March 07, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I want to give a nice error message when windows integration is enabled. Now, WCF has this ability, and while it took me a while, I managed to track down the way they do it to this method:&#xA;HostedTransportConfigurationManager.MetabaseSettings.GetAuthenticationSchemes(base.HostedVirtualPath); &#xA;Which, of course, is internal.&#xA;Bad WCF, no cookie for you.&#xA;This is something really useful that I could make use of.&#xA;But, of course, Framework Design Guidelines says that you should make everything internal.&#xA;Argh!</p>
        <a href="https://ardalis.com/finally-trying-twitter/" target="_blank"><h1 class="title mb-6">Finally Trying Twitter</h1></a>
        <p class="mb-2">by Ardalis</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: March 06, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I finally gave in and got a Twitter account and have basically used it primarily to whine about cancelled or delayed flights and let people&#x2026;Keep Reading &#x2192;</p>
        <a href="https://ardalis.com/mix08-day-one/" target="_blank"><h1 class="title mb-6">MIX08 Day One</h1></a>
        <p class="mb-2">by Ardalis</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: March 06, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">After some difficulty getting to MIX, due to freezing rain in Cleveland Tuesday afternoon that resulted in all flights being cancelled&#x2026;Keep Reading &#x2192;</p>
        <div class="button flex justify-between">
            <a href="681.html"><span class="back arrow"></span></a>

            <a href="683.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2024<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js"></script>
<script src="pagefind/pagefind-ui.js"></script>
</body>
</html>