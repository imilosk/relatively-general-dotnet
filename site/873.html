
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 873 &#x2022; Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="/pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline underline"
               href="index.html"> Home </a><a
                aria-current="" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline " href="about.html">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>


<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-8721">
            <a href="https://ayende.com/blog/1827/bringing-it-all-together-even-more-magic" target="_blank">
                <h2 class="title mb-6" id="article-8721">Bringing it all together: Even More Magic,</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">So, I had done a couple of fairly cool stuff recently, but it is all in seperated pieces, let us try to bring them together and see what we get, shall we?            ProjectionQuery&lt;User&gt; query =                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; new ProjectionQuery&lt;User&gt;(Where.User.Name.Like(&quot;Ayende&quot;, MatchMode.Start),                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ProjectBy.User.Name &amp;&amp; ProjectBy.User.Email);                        foreach (object[] objects in query.Execute())                        {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Console.WriteLine(&quot;Name: {0}, Email: {1}&quot;, objects[0], objects[1]);                        }        That is nice, isn&#x27;t it? Again, we can use the strongly typed version to be type safe and avoid the use of arrays as DTO:            ProjectionQuery&lt;User, NameAndEmail&gt; query2 =new ProjectionQuery&lt;User, NameAndEmail&gt;(                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Where.User.Name.Like(&quot;Ayende&quot;, MatchMode.Start),                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ProjectBy.User.Name &amp;&amp; ProjectBy.User.Email);                        foreach (NameAndEmail nameAndEmail in query2.Execute())                        {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Console.WriteLine(&quot;Name: {0}, Email: {1}&quot;, nameAndEmail.Name, nameAndEmail.Email);                        }        And yes, this is filed under Linq as well.</p>
        </article>
        <article id="article-8722">
            <a href="https://ayende.com/blog/1826/c-c-sometimes-i-need-a-reminder" target="_blank">
                <h2 class="title mb-6" id="article-8722">C# != C&#x2B;&#x2B; : Sometimes I need a reminder</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Apperantly mixing implicit operators and params array is not something that you should do. The C# Compiler refuse to understand that it can first implictly convert to the type and then satisfy the params array decleration.    Sometimes it is not worth getting up in the morning. That ruined a beautiful API.</p>
        </article>
        <article id="article-8723">
            <a href="https://ayende.com/blog/1825/projections-support-in-active-record" target="_blank">
                <h2 class="title mb-6" id="article-8723">Projections Support In Active Record</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Ken, this post if for you...    So, I have been a busy implementing crazy generics stuff and I can show you this:            public class ProjectionQuery&lt;ARType&gt; : ProjectionQuery&lt;ARType, object[]&gt;        Neat class, isn&#x27;t it?Please not that this is not the same class that I shows here, that class has been renamed ScalarProjectionQuery, since it better fits its duy.    What can you do with it? Well, things like this:            ProjectionQuery&lt;Blog&gt; proj = new ProjectionQuery&lt;Blog&gt;(        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Projections.Property(&quot;Name&quot;), Projections.Property(&quot;Author&quot;));                        IList&lt;object[]&gt; results = proj.Execute();                     Assert.AreEqual(blog.Name, results[0][0]);                        Assert.AreEqual(blog.Author, results[0][1]);        Now you have got a list or arrays, which contains just the Name and Author from the Blog entity. This used to be much harder and involved writing HQL code (which can be a bummer, since I insist on putting all the HQL code in the mapping files, and not concatenating HQL).    It still has a major issue for me, and that is the fact that I need to work with untyped arrays, not fun, and I simple hate to work with numeric indices. Therefor, let us try this version:            public class ProjectionQuery&lt;ARType, TResultItem&gt; : IActiveRecordQuery        What does this allows me to do? Well, you can write the above snippet of code as:            ProjectionQuery&lt;Blog, KeyValuePair&lt;string, string&gt;&gt; proj = new ProjectionQuery&lt;Blog, KeyValuePair&lt;string, string&gt;&gt;(                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Projections.Property(&quot;Name&quot;), Projections.Property(&quot;Author&quot;));                        IList&lt;KeyValuePair&lt;string, string&gt;&gt; results = proj.Execute();                    &#xA0;                                    Assert.AreEqual(blog.Name, results[0].Key);                                        Assert.AreEqual(blog.Author, results[0].Value);                Notice that we suddenly have a strongly typed (if generic) way of accessing the information. In fact, in this case, a small, dedicated, class is what I would use. So I could do this:            ProjectionQuery&lt;Blog, NameAndAuthor&gt; proj = new ProjectionQuery&lt;Blog, NameAndAuthor&gt;(                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Projections.Property(&quot;Name&quot;), Projections.Property(&quot;Author&quot;));                        IList&lt;NameAndAuthor&gt; results = proj.Execute();                     Assert.AreEqual(blog.Name, results[0].Name);                        Assert.AreEqual(blog.Author, results[0].Author);        Much, much, nicer, in my opinion. :-)    And yes, there is more suprises in the pipeline :-)</p>
        </article>
        <article id="article-8724">
            <a href="https://ayende.com/blog/1824/nhibernate-query-generator-1-7" target="_blank">
                <h2 class="title mb-6" id="article-8724">NHibernate Query Generator 1.7</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 29, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Well, it is certainly an interesting release. This release contains very little code of mine, mainly minor adaptations of two wonderful patches that were sent to me.            The first by Bas Jansen - which added inheritance detection from the mapping files.            The second by Adam Tybor - which added support for projections and group by.    Me, I just fixed a stupid bug by yours truly that would refuse to recognize exe as valid assemies, and put those two patches together.    Together, they make quite an addition to NQG. Especially when combined with some thing that can really understand projections... which is soon to come.    You can get it here.</p>
        </article>
        <article id="article-8725">
            <a href="https://ayende.com/blog/1823/generic-specialization" target="_blank">
                <h2 class="title mb-6" id="article-8725">Generic Specialization</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 29, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">It is not often that I am arriving to work and the first application that I &#xA;open is Visual Studio, and I can&#x27;t get it to open fast enough. Today was such a &#xA;day, mostly because I got an Eureka moment. It is not often that I get those, so &#xA;I really want to try it out.&#xA;Check out the following code:&#xA;&#xA;public &#xA;class Aggregator&lt;T&gt; : Aggregator&lt;T, List&lt;T&gt;&gt;&#xA;{}&#xA;&#xA0;&#xA;public &#xA;class Aggregator&lt;T, &#xA;TCollection&gt;&#xA;&#xA0;&#xA0;&#xA0;&#xA0; where &#xA;TCollection : ICollection&lt;T&gt;, new()&#xA;{&#xA;&#xA0;&#xA0;&#xA0;&#xA0; private &#xA;ICollection&lt;T&gt; collection = new TCollection();&#xA;}&#xA;Can you tell why I am excited? Because this means that I have static generic &#xA;specialization (I already have dynamic generic specialization, thanks to &#xA;Windsor) back!&#xA;Notice that for all intents and purposes, I can either use &#xA;Aggerator&lt;T&gt;, or use the more generic version of Aggerator&lt;T, &#xA;TCollection&gt;, which allows me to pass my own ICollection&lt;T&gt; &#xA;implementation.&#xA;This is actually compiler supported Inversion Of Control!&#xA;Now, of course that I can do this using ctor parameter, but this puts the &#xA;burden on the client code, and couples the base implementation to the defaults. &#xA;This approach keeps the base implementation frees from any default &#xA;whatsoever.&#xA;I intend to make use of this soon, so I&#x27;ll post about the results.</p>
        </article>
        <article id="article-8726">
            <a href="https://ayende.com/blog/1822/bug-tracking-round-ii" target="_blank">
                <h2 class="title mb-6" id="article-8726">Bug Tracking, Round II</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I got a ton of suggestion to my Bug Tracking?&#xA0;question. As I mentioned, I don&#x27;t want to use BugZilla, and JIRA is out of the immediate price range that I have in mind - I really want it to be free :-) And although anything without per-user cost is good, JIRA is expensive, although it certainly worth the price.    I tried Gemini, but I managed to hit two seperate bugs in the space of an hour, one of them a show stopper, and it didn&#x27;t have an integration with Active Directory, which means that I need to handle more passowrd (bad thing in general). Leaving that aside for now, because I really liked the UI and it uses NHibernate.    I then started trying Trac, which was a bit hard to install on Windows, but I managed. The UI is really nice, and I love the SVN integration. It took me a couple of minutes to set it up with mod_python and Active Directory integration, so I don&#x27;t need to remember yet another password. I&#x27;m not crazy about the command line interface to admin the project, but it has a reasonable CLI UI, so it is not that bad. I tried the web admin plugin, but it didn&#x27;t work that well (kept erasing all the settings). One thing that bugs me :-) is that I can&#x27;t seem to figure out how to set a default component / ticket type / version.    Thanks for everyone who gave a suggestion to the previous post. I think that we will try that out for a while and see how it goes.</p>
        </article>
        <article id="article-8727">
            <a href="https://ayende.com/blog/1821/amusing-error" target="_blank">
                <h2 class="title mb-6" id="article-8727">Amusing error</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I got this error trying to build the mod_python extention:error: The .NET Framework SDK needs to be installed before building extensions for Python.    I am not sure what to say about this...</p>
        </article>
        <article id="article-8728">
            <a href="https://ayende.com/blog/1820/great-interview-question" target="_blank">
                <h2 class="title mb-6" id="article-8728">Great Interview Question</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I&#x27;m constantly on the look up for good questions to ask in interviews, mainly because &quot;describe the page life-cycle&quot; gets boring and I would like to get away from the page lifecycle myself. The problem with finding good questions is that it has to expose as much knowledge from the candidate, while keeping the answer short and possible to answer within the time limits of an interview.     Here is one that I just thought of: Given an Employee class, create a collection that accepts employees but doesn&#x27;t allow duplicate employees to be entered. You are free to use any of the classes in the .Net framework.     Basically, build&#xA0;a set class. This is a good question in my opinion because it tests a wide range of knowledge, in a short question, which can be implemented in about 10 minutes. The question test the following:             Basic data structure / efficencies knowledge - if they decide to use ArrayList and compare each time, that would cost in both time to develop and performance                 Thinking toward reuse - if they implement this from scratch (starting from building growable arrays and moving forward), that means that they either have a problem with knowing the building blocks of the framework or&#xA0;they suffer from NIH.                 Understanding basic idioms of the framework - implementing IEnumerable will make the collection usable for foreach(), for instnace.                 Understanding how low level stuff works - can they explain what reference equality vs. value equality is, can the explain how the Dictionary works?         It then leads to another question: In certain circumstances, I wasnt to be able to able to allow no employees with duplicate names, how would you extend the collection to support this?    And this question tests how they can extend an existing class, and whatever they can come up with something that fits into the .Net idioms cleanly. Adding a boolean to check for an employee name is not a good way to do this.    Here is what I would consider an excellent implementation (not great, because it doesn&#x27;t implement ICollection&lt;T&gt;):             public class EmployeesSet : IEnumerable&lt;Employee&gt;                        {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Dictionary&lt;Employee, object&gt; internalDic;                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public EmployeesSet()                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; internalDic = new Dictionary&lt;Employee, object&gt;();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public EmployeesSet(IEqualityComparer&lt;Employee&gt; comparer)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; internalDic=new Dictionary&lt;Employee, object&gt;(comparer);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public void Add(Employee item)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if(!Contains(item))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; internalDic.Add(item,null);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public bool Contains(Employee item)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return internalDic.ContainsKey(item);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public bool Remove(Employee item)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return internalDic.Remove(item);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public int Count                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; get { return internalDic.Count; }                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public IEnumerator&lt;Employee&gt; GetEnumerator()                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return internalDic.Keys.GetEnumerator();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; IEnumerator IEnumerable.GetEnumerator()                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return internalDic.Keys.GetEnumerator();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        }</p>
        </article>
        <article id="article-8729">
            <a href="https://ayende.com/blog/1819/war-stories-check-the-stupid-stuff-too" target="_blank">
                <h2 class="title mb-6" id="article-8729">War Stories: Check the stupid stuff, too</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Mission Critical application, running quitely in production, suddenly stopped working. No warning, not errors. The application is still up, still running, but for all intent and purposes, it is not operational. I get a call that basically says: &quot;Fix it!&quot;    The main interface to this application (windows service) is a huge amount of logs that is being outputed. The target for the logs is&#xA0;the same&#xA0;SQL Server database that the application is using. Any error in this application should be logged and some errors should go directly to the administrators (and me).    But, the application is not doing its job, and worse, it doesn&#x27;t write anything to the logs. This is a heavily multi-threaded application, so the first thing that I thought of was a deadlock, but restarting the application didn&#x27;t help. I am on the phone with the sys-admin, going over the application configuration, trying to figure why it doesn&#x27;t even log its startup event (which is singled threaded, so no chance for deadlocks).    I give up and drive there. Restarting the service doesn&#x27;t help, and no logs are written, even thought the cofniguration seems just fine. The first thing that I do is taking a look at the logs table. But it currently has about 500,000 records, so queries take longer than instantenous. I get annoyed and try to add an index for the main search criterias. It errors. I double-check my syntax and tries again. It errors.    This time I read the error. It says that it doesn&#x27;t have enough space to create the index. I didn&#x27;t think that it is that large an index, but now I operate on a hunch. I tries to insert a row to the database (row size: 40bytes or so). The database refuses, says that it doesn&#x27;t have enough space.    They had a rigorous backup procedure that kept backups on the same disks as the database files and never purged them. Once I cleared some of the old backups, the application immediately resume normal processing.    Total time trying to fix the issue: ~3 hours.    Total time fixing the issues since arrival: ~10 minutes.</p>
        </article>
        <article id="article-8730">
            <a href="https://ayende.com/blog/1818/querying-collections-in-nhibernate" target="_blank">
                <h2 class="title mb-6" id="article-8730">Querying collections in NHibernate</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I got some interesting replies to my post about what not to do with ORM. I got several comments back, and the major one was how to do a query about an entity collections with using string concantation, which I said was a code smell.    Specifically, the most interesting challange was presented by Josh Robb, and it goes like this:    Blog    &#xA0;&#xA0;&#xA0; m:n Author    &#xA0;&#xA0;&#xA0; 1:m Posts    &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;n:m Categories    &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;1:m Comments    Find all Posts where: Blog.Author = &#x27;josh&#x27; and Categories includes &#x27;Nhibernate&#x27;&#xA0; and a Comment.Author = &#x27;ayende&#x27;.     This being a part of a search screen where you can searc h by mulitply criteria, which are change dynamically.&#xA0;This is interesting because is spans just about any interesting assoication type that exists. So I set up to figure out how to do this.    My first step was to try to understand what I want NHibernate to do, so I started by writing the SQL for the above query:            SELECT                        &#xA0;&#xA0;&#xA0; [post].[post_id],                        &#xA0;&#xA0;&#xA0; [post].[post_blogid]                        FROM                        &#xA0;&#xA0;&#xA0; [dbo].[Posts] post                                 INNER JOIN [dbo].[Blogs] blog                        &#xA0;&#xA0;&#xA0; ON post.post_blogid = blog.blog_id                                 INNER JOIN [dbo].[UsersBlogs] user2blog                        &#xA0;&#xA0;&#xA0; ON blog.blog_id = user2blog.blog_id                                 INNER JOIN [dbo].[Users] author                        &#xA0;&#xA0;&#xA0; ON author.user_id = user2blog.user_id                        WHERE                        &#xA0;&#xA0;&#xA0; author.user_name = &#x27;josh&#x27; AND                        &#xA0;&#xA0;&#xA0; EXISTS ( SELECT&#xA0;1        &#xA0;FROM                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [dbo].[Categories] category                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INNER JOIN [dbo].[PostsCategories] post2category                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ON post2category.category_id = category.category_id                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; category.name = &#x27;NHibernate&#x27; AND                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; post2category.post_id = post.post_id ) AND                        &#xA0;&#xA0;&#xA0; EXISTS ( SELECT         1         FROM                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [dbo].[Comments] comment                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INNER JOIN [dbo].[Users] commenter                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ON comment.user_id = commenter.user_id                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; comment.comment_postid = post.post_id AND                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; commenter.user_name = &#x27;Ayende&#x27; )a        Complex, isn&#x27;t it? There may be better ways to do this, but that is the most straight forward way I could think of.&#xA0; Here is the query in HQL:            select&#xA0;post from Post post, User user                        where&#xA0; user.UserName = &#x27;Josh&#x27;                                 and&#xA0;&#xA0;&#xA0; user in elements(post.Blog.Users)                                 and&#xA0;&#xA0;&#xA0;&#xA0;exists (from&#xA0;&#xA0;Category category                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; where post in elements(category.Posts)                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; and&#xA0;&#xA0;&#xA0;category.Name = &#x27;NHibernate&#x27;)                        and&#xA0;&#xA0;&#xA0;&#xA0;exists (from&#xA0;&#xA0;Comment comment                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;where comment.Post = post                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;and&#xA0;&#xA0;&#xA0;comment.Commenter.UserName = &#x27;Ayende&#x27;)        It generate nearly the same SQL that I wrote by hand, but uses tetha joins instead of ansi joins (I am not sure why, but the end result is the same).    Just a reminder, this isn&#x27;t just a single query, this is something that that needs to be built dynamically, and we wish to handle this without using string concantation.&#xA0;In general, this means using the Criteria API. The first problem is that NHibernate&#x27;s Criteria API doesn&#x27;t allow you to query collections. This is very bad when you consider that this query is all about collections.    Strings are bad, I said so myself, so I put decided to add this to NHibernate (add is too strong a word, I went to Hibernate&#x27;s source, found the relevant piece of code, and ported that). Now NHibernate can execute queries like section 15.8 in this page. All fine and dandy, until you get to the point where you need to query many-to-many assoications. You can&#x27;t do that using the Criteria API in NHibernate (nor in Hibernate, as far as I can tell).    Many to many assoications are a funny beast, since you need to join through a second table to get the real value. I played a bit trying to implement support for that, but I wasn&#x27;t successfull in the time frame that I could dedicate to it.    But, as the politician said, &quot;This is a great question, but let me answer this one instead.&quot;, let us see what happens when we don&#x27;t have many to many collections, shall we? The model is this, I change the assoication from Blogs to users to be a many to one, so a blog can now belong to a single author and remove categories.    Blog    &#xA0;&#xA0;&#xA0; m:1 Author    &#xA0;&#xA0;&#xA0; 1:m Posts    &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;1:m Comments    The query then becomes get all posts where:Blog.Author = &#x27;josh&#x27; and Post Title includes &#x27;Nhibernate&#x27;&#xA0; and a Comment.Author = &#x27;ayende&#x27;.     That being the case, we can use the following code the create the query (again, SVN trunk only, I am afraid):            DetachedCriteria theComment = DetachedCriteria.For(typeof(Comment))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .SetProjection(Projections.Property(&quot;id&quot;))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .Add(Expression.Property.ForName(&quot;Post.id&quot;).EqProperty(&quot;post.id&quot;))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .CreateCriteria(&quot;User&quot;)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .Add(Expression.Expression.Eq(&quot;Name&quot;, &quot;Ayende&quot;));                                &#xA0;                        IList list = s.CreateCriteria(typeof(Post), &quot;post&quot;)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .Add(Expression.Expression.Like(&quot;PostTitle&quot;, &quot;NHibernate&quot;,MatchMode.Anywhere))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .CreateCriteria(&quot;Blog.User&quot;)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .Add(Expression.Expression.Eq(&quot;Name&quot;, &quot;Josh&quot;))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .Add(Subqueries.Exists(theComment))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .List();        To conclude, at the moment NHibernate doesn&#x27;t support queries over memebers of many to many collections using the criteria API (at the moment). But it does offer a good way to handle queries over memebers of collections in nearly all other cases.    So, allow me to retract my words a bit, if you have dynamic queries and you need to handle many-to-many assoication, HQL is your only choice. Nevertheless, I would strongly suggest to encapsulate this in an OO layer that would generate HQL under the cover, rather than build the HQL dynamically in the UI layer.</p>
        </article>
        <div class="button flex justify-between">
            <a href="872.html"><span class="back arrow"></span></a>

            <a href="874.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>

<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="about.html"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="/pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>
