
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 873 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-8721">
            <a href="https://ardalis.com/19221/" target="_blank">
                <h2 class="title mb-6" id="article-8721">BoundField DataFormatString attribute not working</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 03, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I was stuck with a problem a few weeks ago where my DataFormatString on a BoundField in a GridView was not being applied. I had a chance to&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-8722">
            <a href="https://ardalis.com/19223/" target="_blank">
                <h2 class="title mb-6" id="article-8722">LLBLGen v2 Released</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 03, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Frans announced yesterday that LLBLGen 2.0 has been released! I&#x2019;ve been using LLBLGen happily for several years now. It is a very solid ORM&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-8723">
            <a href="https://ayende.com/blog/1523/you-know-that-you-have-been-doing-too-much-sql-when" target="_blank">
                <h2 class="title mb-6" id="article-8723">You know that you have been doing too much SQL when...</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 03, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">You write code like this:                                                                                        public bool IsInPeriod(DateTime dateTime)                        {                        &#xA0;&#xA0;&#xA0; bool withinHoursRange = startHour &gt;= dateTime.Hour &amp;&amp; dateTime.Hour &lt;= endHour;                        &#xA0;&#xA0;&#xA0; bool matchDayInMonth = dateTime.Day == ( dayInMonth ?? dateTime.Day);                        &#xA0;&#xA0;&#xA0; bool matchDayOfWeek = dateTime.DayOfWeek == ( dayOfWeek ?? dateTime.DayOfWeek);                        &#xA0;&#xA0;&#xA0; bool matchMonth = dateTime.Month == ( month ?? dateTime.Month);                        &#xA0;&#xA0;&#xA0; return withinHoursRange &amp;&amp;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; matchDayInMonth &amp;&amp;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; matchDayOfWeek &amp;&amp;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; matchMonth;                        }                                                                                                Ten points for the first guy that will tell me why this is not good for DBs.                Update: Just to clarify, this is not SQL CLR code, it is an instance method in a business object</p>
        </article>
        <article id="article-8724">
            <a href="https://ayende.com/blog/1522/it-was-too-late" target="_blank">
                <h2 class="title mb-6" id="article-8724">It was too late...</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 03, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">It&#xA;was too late in the night, and I debugged multi threaded code with ease.&#xA;&#xA;It&#xA;was too late in the night, and I struggled with regular expressions.&#xA;&#xA;It&#xA;was too late in the night, and I downloaded the Regulator.&#xA;&#xA;It&#xA;was too late in the night, and I found in two minutes that I forgot to add a #@^$@#&#xA;(no, that is not the pattern) ? for the regex.&#xA;&#xA;Thanks&#xA;God for the Regulator.&#xA;&#xA;&#xA;&#xA;And&#xA;thanks to Roy.</p>
        </article>
        <article id="article-8725">
            <a href="https://ayende.com/blog/1521/riddle-active-record-as-a-rule-engine" target="_blank">
                <h2 class="title mb-6" id="article-8725">Riddle: Active Record as a Rule Engine</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 02, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I mentioned in a previous post that I used Active Record as a Rule Engine, and a couple of people asked just how. Before I will post the answer, I want to see if you can come up with the same idea.    The scenario: A rule engine that can process big amount of data. The engine will run as a Windows service, and not as a part of another application.Throughput is important, as well as flexibility in the rules and what they can do. The processing of each rule can be quite complex, so it is important that the rule engine will not limit what the rule can do.    Hints:            A database is really good in filtering data.            Active&#xA0;Record (well, NHibernate, but it is the same thing) can take inheritance to the database level.</p>
        </article>
        <article id="article-8726">
            <a href="https://ayende.com/blog/1520/suggestion-consider-inheriting-acting-interfaces-from-idisposable" target="_blank">
                <h2 class="title mb-6" id="article-8726">Suggestion: Consider Inheriting Acting Interfaces From IDisposable</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 02, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">It felt like I was posting a lots of posts lately, but checking the numbers, I didn&#x27;t come close to scratching my daily record in the entire weekend, and I still have items in my blog scratch pad that I need to post (down to five items, though). Anyway, this post is about interfaces, not about my blogging habits.     I mentioned&#xA0;that it takes quite a bit of interfaces to write a file to database&#xA0;(8 interfaces and 15 classes, on last count). I found it useful to make all the interfaces inherit from IDisposable. There is quite a bit of composition there, and even if currently their implementor do not hold disposable resources, they will probably will.    I don&#x27;t have a good defination for an acting interface, but I have a good defination for one that isn&#x27;t. A non acting interface is one that can be used only to get information or to change the state of an object. An acting interface is one that can change the state of the system.    This allows me to handle resources in the top level class by simply disposing a single interface, which will pass the call to the rest of the system.</p>
        </article>
        <article id="article-8727">
            <a href="https://ayende.com/blog/1519/do-not-mock-system-data" target="_blank">
                <h2 class="title mb-6" id="article-8727">Do NOT Mock System.Data.*</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 02, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">While it is possible, it is a pain in the ass. I&#x27;m working on a project now that doesn&#x27;t use NHibernate (yes, I am surprised too).    There is very simple data acess there, and nearly nothing to do with touching the data, so I thought that I could simply use ADO.Net. It works, sort of, but my code is full of strings, and it is nearly untestable. The main issue is that all the *DataAdapter expect their own *Command, *Connection, etc. Which mean that I can&#x27;t mock much of it.    Check out this little piece of a test (part of about 50 lines of setup, that leads to two lines of real test.            MockRepository mocks = new MockRepository();                        IDbConnectionProvider connectionProvider = mocks.CreateMock&lt;IDbConnectionProvider&gt;();                        IDbConnection connection = mocks.CreateMock&lt;IDbConnection&gt;();                        IDbCommand getRecordsCommand = mocks.CreateMock&lt;IDbCommand&gt;();                        ISender sender = mocks.CreateMock&lt;ISender&gt;();                        SetupResult.For(connectionProvider.Connection).Return(connection);                        IDbCommand deleteItems = mocks.CreateMock&lt;IDbCommand&gt;();                        IDbDataParameter dataParameter = mocks.CreateMock&lt;IDbDataParameter&gt;();                        IClock clock = mocks.CreateMock&lt;IClock&gt;();                        SetupResult.For(clock.Current).Return(new DateTime(2006, 12, 20, 22, 45, 33));                                &#xA0;                        connection.Open();                        Expect.Call(connection.CreateCommand()).Return(getRecordsCommand);                                &#xA0;                        string spToGetItems = &quot;GetLockedRecords&quot;;                        string spToDeleteItems = &quot;DeleteItems&quot;;                        getRecordsCommand.CommandText = spToGetItems;                        getRecordsCommand.CommandType = CommandType.StoredProcedure;                        getRecordsCommand.Dispose();        I could do the same with NHibernate in about three lines, and that would be easy. I&#x27;m considerring ripping what I already have and going that route. It would certainly be easier.</p>
        </article>
        <article id="article-8728">
            <a href="https://ayende.com/blog/1518/the-case-of-the-disappearing-ide" target="_blank">
                <h2 class="title mb-6" id="article-8728">The case of the disappearing IDE</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Has it happened to anyone? One&#xA0;moment I am working on the IDE, the second moment it is gone? Happened to me twice today already.</p>
        </article>
        <article id="article-8729">
            <a href="https://ayende.com/blog/1517/pessimistic-locking" target="_blank">
                <h2 class="title mb-6" id="article-8729">Pessimistic Locking</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I need to be able to ask the database for some rows to work on, and I need to be sure that I am the only one that works on those rows. After thinking about it, I came up with this SQL:            SET TRANSACTION ISOLATION LEVEL SERIALIZABLE                        BEGIN TRANSACTION                                         &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INSERT INTO Locks(LockedBy, LockedAt, LcokedItemId, LockedItemType)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OUTPUT inserted.Id                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SELECT TOP 100 @lockedBy, getdate(), item.Id, @itemType                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FROM Items item                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE NOT EXISTS (SELECT 1 FROM Locks lock                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE lock.LcokedItemId = item.id AND lock.LockedItemType = @itemType)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ORDER BY item.Id                                &#xA0;                        COMMIT TRANSACTION         This is the first time I need to implement pessimistic locking, and I am not sure if this is the right way to go. The work I am doing is disconnected, so I can&#x27;t just lock the rows and continue to work.    Any suggestions?    Update: This is what I have now:            CREATE PROCEDURE lockAndGetItems AS                                &#xA0;                        SET TRANSACTION ISOLATION LEVEL SERIALIZABLE                        BEGIN TRANSACTION                                         &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DECLARE @lockedBy uniqueIdentifier, @countOfItemsToLock int                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SET @lockedBy&#xA0; = &#x27;68A6D54C-557D-428D-8B82-5D68C9C1B33E&#x27;                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; -- Get number of rows already locked by me                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SELECT @countOfItemsToLock = 100 - COUNT(Id) From Locks where LockedBy = @lockedBy                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; -- Lock rows to complete to an even 100                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INSERT INTO Locks(LockedBy, LockedAt, LockedItemId)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SELECT TOP (@countOfItemsToLock)&#xA0; @lockedBy, getdate(), item.Id                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FROM Items item                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE NOT EXISTS (SELECT 1 FROM Locks lock                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE lock.LockedItemId = item.id and lock.LockedBy = @lockedBy)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ORDER BY item.Id                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; -- Return row data                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SELECT Items.* FROM Items JOIN Locks ON Items.Id = Locks.LockedItemId AND LockedBy = @lockedBy                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;                                 COMMIT TRANSACTION        Basically it fetch the first 100 items designated for this SP.&#xA0;Each SP has a single caller, so I don&#x27;t worry about expiring the lock. I will always get the locked rows. In the case of a crash when the rows are locked, when the client is restarted, it will get the same rows that it already locked, and can start working on them. The reason that I implement is as a SP with hard coded Guid is that each SP locks a different table.</p>
        </article>
        <article id="article-8730">
            <a href="https://ayende.com/blog/1516/how-much-code-you-need-to-read-a-file-to-database" target="_blank">
                <h2 class="title mb-6" id="article-8730">How much code you need to read a file to database?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Well, in my case, it looks like I need:            12 classes            5 intrefaces            1 (modified) Inversion Of Control&#xA0;Container            700 Lines of code            80 lines of XML configuration            350 lines of tests            ~8 - 12 hours         But hey, at least it can read big files :-)</p>
        </article>
        <div class="button flex justify-between">
            <a href="872.html"><span class="back arrow"></span></a>

            <a href="874.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2024<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>
</body>
</html>