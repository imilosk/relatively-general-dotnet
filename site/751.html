
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 751 &#x2022; Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="/pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline underline"
               href="index.html"> Home </a><a
                aria-current="" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline " href="about.html">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>


<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-7501">
            <a href="https://ayende.com/blog/2897/analyzing-a-dsl-implementation" target="_blank">
                <h2 class="title mb-6" id="article-7501">Analyzing a DSL implementation</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 25, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">You were just handed a strange DSL implementation, it does stuff, and it may be cool, but you have no idea how it works. Craig Neuwirt recently did a major overhaul of Windsor ( I am going to post soon with the details of how cool it is now ), but I am now faced with the question, how do you grok such a thing? I thought that it would be useful to put a list of what I am doing to understand how the internals now works.  It goes without saying, but the nitpickers will ask, that a DSL implementation is code like any other, and as such, it can have good &amp; bad implementations. I think that what Craig has done was amazing. It makes for an interesting reading, I actually had to take notes, to make sure that I will not miss any of the cool stuff.   Understand the domain.This is critical, because if the DSL is chicken scratching to you, you won&#x27;t be able to get the implementation. Get the tests.First things first, make sure that you have tests that ensure that&#xA0;you can understand what the DSL is supposed to do. In addition to that, it allows you to debug a simplified scenario repeatedly, so you can walk through that and figure out what is going on. Take the simplest scenario and run it, then open the resulting DLL in ReflectorThis is important, because you need to be able to see what the differences are between the DSL and the actual executed code&#xA0;are. This allows you to understand in a deep level what the various elements of the language do. Identify a transformation, and follow how it is being built throughout the codeIt will allow you to understand the concepts and patterns used through the code. Follow each transformation throughout its own code path onlyFairly often you can get side tracked by trying to put the entire program in your head, this is usually not possible, track a single path through the code to completion. After that, you can start tracking other paths, but it is important to have an understanding of the full cycle, and then expand from that. Hm, not really that different from how I would approach an unfamiliar code base, come to think about it.</p>
        </article>
        <article id="article-7502">
            <a href="https://ayende.com/blog/2896/cross-site-scripting" target="_blank">
                <h2 class="title mb-6" id="article-7502">Cross Site Scripting</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 24, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">So I had to do it today, I had two pages, in two unrelated domains (foo.com and bar.com) and I had to open a page from one and interact with it. Security constraints disallow this, unfortantely. There are all sorts of ways around it, mostly focusing on proxies, but I didn&#x27;t want to get into that for a simple page, so I decided to write my own stupid method to do it. From foo.com, the calling page: var url = &quot;http://www.bar.com/someImportantPage.castle?id=15&quot;&amp;onCloseRedirectTo=&quot; &#x2B; &#xA;&#x9;&#x9;encodeURIComponent(window.location.href &#x2B;                           &quot;&amp;returnUrl=&quot;&#x2B; encodeURIComponent(window.location.href) );&#xA;window.open(url);&#xA;And using JS injection for the called page (I have some limited control there), I put:&#xA;if(window.opener)&#xA;{&#xA;&#x9;var oldClose = window.close;&#xA;&#x9;window.close = function()&#xA;&#x9;{&#xA;&#x9;&#x9;if(window.opener &amp;&amp; window.returnValue )&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;var url = decodeURIComponent($.getURLParam(&#x27;onCloseRedirectTo&#x27;)) &#x2B; &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&quot;&amp;idToAdd=&quot; &#x2B; window.returnValue;&#xA;&#x9;&#x9;&#x9;window.opener.location.href = url;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;oldClose();&#xA;&#x9;};&#xA;}&#xA;And voila, it works. I&#x27;ll leave the how as an excersize for the reader. Suffice to say that if you want to add a local iframe to the mix you can even get it to work in an &quot;ajaxian&quot; fashion.</p>
        </article>
        <article id="article-7503">
            <a href="https://ayende.com/blog/2895/funny-halo-3-review" target="_blank">
                <h2 class="title mb-6" id="article-7503">Funny Halo 3 Review</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 24, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I just sat there and watched it in facinated horror, it is hilarious.  Go watch it.</p>
        </article>
        <article id="article-7504">
            <a href="https://ayende.com/blog/2894/generics-vs-duplication" target="_blank">
                <h2 class="title mb-6" id="article-7504">Generics vs. Duplication</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 23, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I need to express the same logic over two different types. The code is literally the same in 90% of the cases, with minor modifications for each type. Seeking to avoid copy &amp; paste programming, I decide to use some  public class BaseSpecificationController   &lt;TSpecification, TSpecificationResult, TEntity&gt; : BaseController&#xA;&#x9;where TSpecification : BaseSpecification&lt;TEntity,TSpecificationResult&gt;&#xA;&#x9;where TSpecificationResult : BaseSavedResult&#xA;The problem is that I&#xA0;got there, and it is really saving a lot of duplicated code. But&#xA0;still, I can&#x27;t help but dislike such code, it seems like it is cheating.&#xA0; &#xA;&#xA0;&#xA;.</p>
        </article>
        <article id="article-7505">
            <a href="https://ayende.com/blog/2893/memorable-quotes" target="_blank">
                <h2 class="title mb-6" id="article-7505">Memorable Quotes</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 23, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">From the Castle Dev Mailing list:  Ken Egozi: When someone would build a generator that can generate a domain model by listening to a white-board design meeting, that would be a craic. David Marzo: There is already one -&gt; good software developer ;-)</p>
        </article>
        <article id="article-7506">
            <a href="https://ayende.com/blog/2892/more-generics-gotchas-argh" target="_blank">
                <h2 class="title mb-6" id="article-7506">More generics gotchas, argh!</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 23, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I have been working on .NET 2.0 for a long time now, generics still manage to trip me. Consider this piece of code: public interface IFoo&lt;TFromInterface&gt; { }&#xA;&#xA;public class Foo&lt;TFromClass&gt; : IFoo&lt;T&gt; { }&#xA;&#xA;[Test]&#xA;public void More_Generics_Gotcha()&#xA;{&#xA;&#x9;Assert.AreEqual(typeof(IFoo&lt;&gt;), &#xA;&#x9;&#x9;typeof(Foo&lt;&gt;).GetInterfaces()[0]);&#xA;}&#xA;&#xA;This test fails. the returned System.Type instance is a IFoo&lt;TFromClass&gt;, which is&#xA0; an unbounded generic parameter, but not the same as IFoo&lt;&gt; itself. Now I need to apologize for Windsor, it wasn&#x27;t its fault all along.</p>
        </article>
        <article id="article-7507">
            <a href="https://ayende.com/blog/2891/specifying-specifications" target="_blank">
                <h2 class="title mb-6" id="article-7507">Specifying Specifications</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 23, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Specification:&#xA0; An explicit statement of the required characteristics for a matching entity / object. Specifications are very useful concepts when you need to think about searches. They are useful because they seperate what you are searching from how you are searching. In the example to the right, we have a specification for a job opening. We can use it to search for matching job openings. But couldn&#x27;t we do it directly? Yes we could, but then we would dealing with both what and how at the same time. Let us say that we want to search for an opening matching a male candidate, age 28, shall we? How do we handle that? Pretty simple, actually: OpeningSpecification spec = new OpeningSpecification();&#xA;spec.Age = 28;&#xA;spec.Gender = Gender.Male;&#xA;spec.FindAll(openingRepository);&#xA;&#xA;The specification is responsible for translating that to a query that would return the correct result, which this translation can be wildly different than the specification itself. For example, let us take the age. We want opening that match a person whose age is 28, but the opening doesn&#x27;t have a DesiredAge property, they have min / max ages that they allow. &#xA;That fact means that we search for a male doesn&#x27;t mean that we need to exclude every opening where the max/min age reject someone with age of 28 years. But we don&#x27;t care about that when we use the speficiation, we just want to find the matching opening.&#xA;From an implementation perspective, we use the property setters as a way to incremently build the query, here is how I built the Age property:&#xA;[Property]&#xA;public virtual int? Age&#xA;{&#xA;&#x9;get { return age; }&#xA;&#x9;set&#xA;&#x9;{&#xA;&#x9;&#x9;age = value;&#xA;&#x9;&#x9;if (value == null)&#xA;&#x9;&#x9;&#x9;return;&#xA;&#x9;&#x9;criteria&#xA;&#x9;&#x9;&#x9;.Add(Expression.Le(&quot;MaxAge&quot;, age) || Expression.IsNull(&quot;MaxAge&quot;))&#xA;&#x9;&#x9;&#x9;.Add(Expression.Ge(&quot;MinAge&quot;, age) || Expression.IsNull(&quot;MinAge&quot;));&#xA;&#x9;}&#xA;}&#xA;As an aside, consider the usage of the operator overloading there, I completely forgot to use that before, and that is a shame, since I was the one that added that to NHibernate. Andrew Davey&#xA0;reminded me how useful this is.&#xA;You may notice that I have a [Property] on the specification Age property, and that it carries some unusual properties such as Id, Name and Username. Those are used to persist the specification, so I can save it and then load it again, extremely useful if I want to save a search for &quot;Males over 30&quot;, and re-run it later.&#xA;Another advantage here is that I have the possibility to construct a specification easily from another object. You can see the FromCandidate() method on the specification above, it build a specification from the candidate that matches job opening that the candidate is eligable for.&#xA;All in all, a very useful concept, and it gets even nicer if you throw MonoRail into the mix, but this is a matter for another post.</p>
        </article>
        <article id="article-7508">
            <a href="https://ayende.com/blog/2890/querying-complexity" target="_blank">
                <h2 class="title mb-6" id="article-7508">Querying Complexity</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 23, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">When it comes to building search screens, there really isn&#x27;t something that I would rather use over NHibernate.&#xA0;I am just astounded at how I can slice a very complex scenario into very narrow &amp; clear fashion: criteria.Add(Expression.Disjunction()&#xA;&#x9;&#x9;.Add(Expression.Disjunction()&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.Add(Expression.Eq(&quot;City1.id&quot;, value))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.Add(Expression.Eq(&quot;City2.id&quot;, value))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.Add(Expression.Eq(&quot;City3.id&quot;, value))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.Add(Expression.Eq(&quot;City4.id&quot;, value))&#xA;&#x9;&#x9;&#x9;&#x9;)&#xA;&#x9;&#x9;.Add(Expression.Conjunction()&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.Add(Expression.IsNull(&quot;City1.id&quot;))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.Add(Expression.IsNull(&quot;City2.id&quot;))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.Add(Expression.IsNull(&quot;City3.id&quot;))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.Add(Expression.IsNull(&quot;City4.id&quot;))&#xA;&#x9;&#x9;&#x9;)&#xA;&#x9;);cloned.Add(Expression.Disjunction()&#xA;&#x9;&#x9;&#x9;.Add(Expression.In(&quot;PreferredArea1&quot;, ToArray(Areas)))&#xA;&#x9;&#x9;&#x9;.Add(Expression.IsNull(&quot;PreferredArea1&quot;))&#xA;&#x9;);&#xA;cloned.Add(Expression.Disjunction()&#xA;&#x9;&#x9;&#x9;.Add(Expression.In(&quot;PreferredArea2&quot;, ToArray(Areas)))&#xA;&#x9;&#x9;&#x9;.Add(Expression.IsNull(&quot;PreferredArea2&quot;))&#xA;&#x9;);&#xA;Now imagine roughly 20 such cases, all of them can be added/removed dynamically... I am going to write a far longer post about the specification pattern and how it useful it is.&#xA;Update: Andrew&#xA0;reminded me that there are easier ways to do this, using operator overloading, let us take the first example and see how it goes:&#xA;criteria.Add(&#xA;&#x9;(&#xA;&#x9;&#x9;Expression.Eq(&quot;City1.id&quot;, value) ||&#xA;&#x9;&#x9;Expression.Eq(&quot;City2.id&quot;, value) ||&#xA;&#x9;&#x9;Expression.Eq(&quot;City3.id&quot;, value) ||&#xA;&#x9;&#x9;Expression.Eq(&quot;City4.id&quot;, value) ||&#xA;&#x9;) || (&#xA;&#x9;&#x9;Expression.IsNull(&quot;City1.id&quot;) &amp;&amp;&#xA;&#x9;&#x9;Expression.IsNull(&quot;City2.id&quot;) &amp;&amp;&#xA;&#x9;&#x9;Expression.IsNull(&quot;City3.id&quot;) &amp;&amp;&#xA;&#x9;&#x9;Expression.IsNull(&quot;City4.id&quot;) &amp;&amp;&#xA;&#x9;)&#xA;);</p>
        </article>
        <article id="article-7509">
            <a href="https://ayende.com/blog/2889/twitter-snapshots-with-scott-bellware" target="_blank">
                <h2 class="title mb-6" id="article-7509">Twitter Snapshots with Scott Bellware</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 23, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I never really got twitter, but&#xA0;here are a few snapshots that I took from&#xA0;Scott Bellware&#x27;s twitter feed, which is not safe for work, who decided to run an all night radio from there. He has been talking about someone with a familiar name, but apparently in a different universe altogether. I couldn&#x27;t help but post a few snapshots of things happened:</p>
        </article>
        <article id="article-7510">
            <a href="https://ayende.com/blog/2888/the-ioc-mind-set-validation" target="_blank">
                <h2 class="title mb-6" id="article-7510">The IoC mind set: Validation</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 21, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I think that I mentioned that I believe that having a good IoC container at your disposable can make you really shift the way you are structuring your code and architects solutions. Let us take for instance Validation as an example. The two examples that jump to mind are Castle.Components.Validation and the Validation Application Block. They both have the same general approach, you put an attribute on a property, and then you use another class to validate that the object meet its validation spec. This approach work, and it is really nice approach, for very simple input validation. Required fields, length of a string, etc. Being able to declaratively specify that is so very nice. But it breaks down when you have more complex scenarios. What do I mean by that? After all, both libraries offers extensibility points to plug your own validators... Well, as it turn out, when we go beyond the realm of simple input validation, we reach into the shark filled waters of business rules validation. Those rules are almost never applied across the board. Usually, they are very targeted.  Business rule: A customer may only open a service call for products that the customer has purchased Expressing this rule in code is not very hard, but it doesn&#x27;t benefit much from the above mentioned libraries.* Nevertheless, you want to have some sort of a structure in your validation code. You want to be able to add new validation easily. Here is the back of the envelope solution for this. Hopefully it will make it clearer why I think that having IoC makes it so very easy to handle things. public interface IValidatorOf&lt;T&gt;&#xA;{&#xA;   void Validate(T instance, ErrorSummary errorSummary);&#xA;}&#xA;&#xA;public class Validator&#xA;{&#xA;&#x9;IKernel kernel;//ctor injection, not shown&#xA;&#x9;&#xA;&#x9;public ErrorSummary Validate&lt;T&gt;(T instance)&#xA;&#x9;{&#xA;&#x9;&#x9;ErrorSummary es = new ErrorSummary();&#xA;&#x9;&#x9;foreach(IHandler handler in kernel.GetHandlers(typeof(IValidatorOf&lt;T&gt;)))&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;((IValidatorOf&lt;T&gt;)handler.Resolve(CreationContext.Empty)).Validate(instance, es);&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;return es;&#xA;&#x9;}&#xA;}&#xA;And yes, that is the entire thing. Come to think about it, I think that we need to add GetAllComponentsFor&lt;T&gt;() to Windsor, but that is another matter. Now, if I want to add a new validation, I inherit IValidatorOf&lt;T&gt; with the right T, and that is it. It gets picked up by the container automatically, and the rest of your code just need to call Validator.Validate(myServiceCall); and handle the validation errors.&#xA;*&#xA0;Actually, a standard way to report validation errors is very nice.</p>
        </article>
        <div class="button flex justify-between">
            <a href="750.html"><span class="back arrow"></span></a>

            <a href="752.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>

<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="about.html"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="/pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>
