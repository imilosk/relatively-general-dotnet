
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 665 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-6641">
            <a href="https://ayende.com/blog/3490/solution-what-is-the-problem" target="_blank">
                <h2 class="title mb-6" id="article-6641">Solution: What is the problem?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 05, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I asked what is wrong with the following DSL:     specification @vacations:      &#xA0;&#xA0;&#xA0; requires @scheduling_work       &#xA0;&#xA0;&#xA0; requires @external_connections   I also constrained the problem so it can&#x27;t be any of the following:     It has nothing to do with the implementation.     It has nothing to do with the actual engine running this.     Look for what isn&#x27;t there.     It is only a problem when you scale up.     And no, there are no performance problems whatsoever.    The problem has nothing to do with technical issues, and all to do with management issues. The code above makes a certain modification to the current state of the system, but it doesn&#x27;t tell us why!  Consider the case where we have several hundreds (or thousands) of those rules.&#xA0; How are you going to associate the end result of executing all those rules with the actual rule that caused a particular issue? How are you going to know why?  For a well defined DSL, we need more than just the syntax, we need an environment that supports the whole development process, and that includes being able to give good answers during runtime, about what caused what and why. Some of that are things that you can add to the syntax, that is, you can write is as:     specification @vacations: &#xA;&#x9;requires @scheduling_work, &quot;Vacations requires work scheduling so we can plan around vacations&quot;&#xA;&#x9;requires @external_connections, &quot;We need to order vacation spots&quot;&#xA;&#xA;&#xA;Note: I don&#x27;t want to hear about the ridiculousness of the business example, I know it is. It is here as an example for something else, not the actual business logic.&#xA;&#xA;But this still doesn&#x27;t give you enough information, the DSL engine itself needs to record the information about what rule (and what script) had modified the state of the application, and allow you to just directly from the result to the rule that allowed it.&#xA;&#xA;Otherwise, what you have is chaos.</p>
        </article>
        <article id="article-6642">
            <a href="https://ayende.com/blog/3489/ugly-linq" target="_blank">
                <h2 class="title mb-6" id="article-6642">Ugly Linq</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 05, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">One of the things that always bothered me with Linq was that it is actually not an interesting idea from the compiler perspective. I just had to implement a very simple expression to expression tree converter, which only served to strengthen my opinion. Here is the (ugly, proof of concept, horrible) implementation, using the Boo AST:     private static Block Linqify(Expression expr)&#xA;{&#xA;&#x9;var block = new Block(expr.LexicalInfo);&#xA;&#x9;ReferenceExpression condition = AddCondition(block);&#xA;&#x9;Parse(block, condition, expr);&#xA;&#x9;block.Add(new ReturnStatement(condition));&#xA;&#x9;return block;&#xA;}&#xA;&#xA;private static ReferenceExpression AddCondition(Block block)&#xA;{&#xA;&#x9;var condition = new MethodInvocationExpression(new ReferenceExpression(&quot;Condition&quot;));&#xA;&#x9;var expression = new ReferenceExpression(&quot;condition_&quot; &#x2B; CompilerContext.Current.AllocIndex());&#xA;&#x9;block.Add(&#xA;&#x9;&#x9;new BinaryExpression(&#xA;&#x9;&#x9;&#x9;BinaryOperatorType.Assign,&#xA;&#x9;&#x9;&#x9;expression,&#xA;&#x9;&#x9;&#x9;condition)&#xA;&#x9;&#x9;);&#xA;&#x9;return expression;&#xA;}&#xA;&#xA;private static void Parse(Block block, Expression condition, Expression expr)&#xA;{&#xA;&#x9;var be = expr as BinaryExpression;&#xA;&#x9;if (be != null &amp;&amp; (be.Operator == BinaryOperatorType.Or || be.Operator == BinaryOperatorType.And))&#xA;&#x9;{&#xA;&#x9;&#x9;block.Add(new BinaryExpression(&#xA;&#x9;&#x9;&#x9;BinaryOperatorType.Assign,&#xA;&#x9;&#x9;&#x9;new MemberReferenceExpression(condition, &quot;Operator&quot;),&#xA;&#x9;&#x9;&#x9;new StringLiteralExpression(be.Operator.ToString().ToLowerInvariant()))&#xA;&#x9;&#x9;&#x9;);&#xA;&#x9;&#x9;ReferenceExpression left = AddCondition(block);&#xA;&#x9;&#x9;block.Add(&#xA;&#x9;&#x9;&#x9;new MethodInvocationExpression(&#xA;&#x9;&#x9;&#x9;&#x9;new MemberReferenceExpression(new MemberReferenceExpression(condition, &quot;Expressions&quot;), &quot;Add&quot;), left));&#xA;&#x9;&#x9;ReferenceExpression right = AddCondition(block);&#xA;&#x9;&#x9;block.Add(&#xA;&#x9;&#x9;&#x9;new MethodInvocationExpression(&#xA;&#x9;&#x9;&#x9;&#x9;new MemberReferenceExpression(new MemberReferenceExpression(condition, &quot;Expressions&quot;), &quot;Add&quot;), right));&#xA;&#x9;&#x9;Parse(block, left, be.Left);&#xA;&#x9;&#x9;Parse(block, right, be.Right);&#xA;&#x9;&#x9;return;&#xA;&#x9;}&#xA;&#x9;var fragment = new MethodInvocationExpression(new ReferenceExpression(&quot;Fragment&quot;));&#xA;&#x9;if (expr is UnaryExpression)&#xA;&#x9;{&#xA;&#x9;&#x9;fragment.NamedArguments.Add(&#xA;&#x9;&#x9;&#x9;new ExpressionPair(new ReferenceExpression(&quot;Modifier&quot;),&#xA;&#x9;&#x9;&#x9;&#x9;new StringLiteralExpression(&quot;not&quot;))&#xA;&#x9;&#x9;&#x9;);&#xA;&#x9;&#x9;be = (BinaryExpression)((UnaryExpression)expr).Operand;&#xA;&#x9;}&#xA;&#x9;var func1 = (MethodInvocationExpression)be.Left;&#xA;&#x9;fragment.NamedArguments.Add(new ExpressionPair(new ReferenceExpression(&quot;Func1&quot;), new StringLiteralExpression(func1.Target.ToString())));&#xA;&#x9;fragment.NamedArguments.Add(new ExpressionPair(new ReferenceExpression(&quot;Prop1&quot;), GetStringArgument(func1.Arguments[0])));&#xA;&#x9;var func2 = be.Right as MethodInvocationExpression;&#xA;&#x9;if (func2 != null)&#xA;&#x9;{&#xA;&#x9;&#x9;fragment.NamedArguments.Add(new ExpressionPair(new ReferenceExpression(&quot;Func2&quot;), new StringLiteralExpression(func2.Target.ToString())));&#xA;&#x9;&#x9;fragment.NamedArguments.Add(new ExpressionPair(new ReferenceExpression(&quot;Prop2&quot;), GetStringArgument(func2.Arguments[0])));&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;fragment.NamedArguments.Add(new ExpressionPair(new ReferenceExpression(&quot;Func2&quot;), new StringLiteralExpression(&quot;literal&quot;)));&#xA;&#x9;&#x9;fragment.NamedArguments.Add(new ExpressionPair(new ReferenceExpression(&quot;Prop2&quot;), GetStringArgument(be.Right)));&#xA;&#x9;}&#xA;&#x9;fragment.NamedArguments.Add(new ExpressionPair(new ReferenceExpression(&quot;Operator&quot;),&#xA;&#x9;&#x9;new StringLiteralExpression(GetOperator(be))));&#xA;&#xA;&#x9;block.Add(&#xA;&#x9;&#x9;new MethodInvocationExpression(&#xA;&#x9;&#x9;&#x9;new MemberReferenceExpression(new MemberReferenceExpression(condition, &quot;Expressions&quot;), &quot;Add&quot;), fragment));&#xA;&#xA;}&#xA;&#xA;private static Expression GetStringArgument(Expression expr)&#xA;{&#xA;&#x9;if (expr is StringLiteralExpression)&#xA;&#x9;&#x9;return expr;&#xA;&#x9;return new StringLiteralExpression(expr.ToString());&#xA;}&#xA;&#xA;private static string GetOperator(BinaryExpression be)&#xA;{&#xA;&#x9;switch (be.Operator)&#xA;&#x9;{&#xA;&#x9;&#x9;case BinaryOperatorType.Equality:&#xA;&#x9;&#x9;&#x9;return &quot;==&quot;;&#xA;&#x9;&#x9;case BinaryOperatorType.Inequality:&#xA;&#x9;&#x9;&#x9;return &quot;!=&quot;;&#xA;&#x9;&#x9;case BinaryOperatorType.Member:&#xA;&#x9;&#x9;&#x9;return &quot;in&quot;;&#xA;&#x9;&#x9;case BinaryOperatorType.LessThan:&#xA;&#x9;&#x9;&#x9;return &quot;&lt;&quot;;&#xA;&#x9;&#x9;case BinaryOperatorType.LessThanOrEqual:&#xA;&#x9;&#x9;&#x9;return &quot;&lt;=&quot;;&#xA;&#x9;&#x9;case BinaryOperatorType.GreaterThan:&#xA;&#x9;&#x9;&#x9;return &quot;&gt;&quot;;&#xA;&#x9;&#x9;case BinaryOperatorType.GreaterThanOrEqual:&#xA;&#x9;&#x9;&#x9;return &quot;&gt;=&quot;;&#xA;&#x9;&#x9;default:&#xA;&#x9;&#x9;&#x9;throw new NotSupportedException(be.Operator.ToString());&#xA;&#x9;}&#xA;}&#xA;&#xA;&#xA;This takes a Boo expression and transform that into the code that creates an object model that represents this expression. Linq is simply an extension to this implementation.</p>
        </article>
        <article id="article-6643">
            <a href="https://ayende.com/blog/3488/writing-domain-specific-languages-in-boo-chapter-10-creating-professional-dsl-table-of-contents" target="_blank">
                <h2 class="title mb-6" id="article-6643">Writing Domain Specific Languages in Boo: Chapter 10 - Creating professional DSL - Table of Contents</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 04, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">An incomplete list of subjects for the 10th chapter.&#xA;The editor environment&#xA;&#xA;  Color highlighting&#xA;&#xA;  Intellisense&#xA;&#xA;  Sharp Develop&#xA;&#xA;  Visual Studio&#xA;&#xA;DSL Code Generation&#xA;&#xA;  The Code DOM Provider for Boo&#xA;&#xA;  Specific DSL Writers&#xA;&#xA;Graphical UI&#xA;&#xA;  Displaying the DSL&#xA;&#xA;  Saving DSL modifications&#xA;&#xA;  The value of a graphical front end&#xA;&#xA;Errors and warnings handling&#xA;Debugging&#xA;Dealing with the large scale - what the hell is going on?</p>
        </article>
        <article id="article-6644">
            <a href="https://ayende.com/blog/3487/building-domain-specific-languages-with-boo-chapter-9-versioning" target="_blank">
                <h2 class="title mb-6" id="article-6644">Building Domain Specific Languages with Boo: Chapter 9 - Versioning</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 03, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">At long last, I am done with Chapter 9. The actual writing process didn&#x27;t took so long, but the ideas took a long time to come into a coherent form.  Here is the final table of content:     9.1 Starting from a stable origin     9.2 Planning our DSL&#x27;s versioning story      9.2.1 Implications of modifying the DSL engine      9.2.2 Implications of modifying the DSL API and Model      9.2.3 Implications of modifying the DSL Syntax      9.2.4 Implications of modifying the DSL Environment      9.3 Regression Test Suite      9.4 Versioning Strategies      9.4.1 Abandon Ship Strategy      9.4.2 Single Shot Strategy      9.4.3 Additive Change Strategy      9.4.4 Tower of Babel Strategy      9.4.5 Adapter / Compatibility Mode Strategy      9.4.6 The Great Migration Strategy      9.5 Applying versioning strategies      9.5.1 - Managing safe, additive, changes      9.5.2 Handling required breaking change      9.6 DSL versioning in the real world      9.6.1 Versioning Brail - Boo based templating language      9.6.2 Versioning Binsor - Inversion of Control Container Configuration DSL      9.6.3 Versioning Rhino ETL - Extract Transform Load DSL      9.7 Versioning - only at release boundary      9.8 Summary   And the chapter summary:     In this chapter, we have discussed how we can ensure the longevity of our languages, how we can make them survive and prosper from one version to the next.     Of particular importance are the tests and the regression test suite, which we use to ensure that existing behavior is not changed in an incompatible way, those breaking client scripts.     We also discussed the implication of versioning on the design and implementation of our DSLs. In particular, we mentioned the importance of using fa&#xE7;ades to separate our DSL from the application&#x27;s model and API, in order to allow them both to be developed independently. This separation goes a bit further than merely a fa&#xE7;ade, however. We want to ensure that the DSL engine is usable even without the DSL.    This seems like a strange requirement, but it is a very important one. You want to be able to modify the engine without modifying the DSL, and vice versa. In addition to that, you might want to have several dialects of the same language (typically several versions) based on the same engine. This tends to be hard to impossible if there isn&#x27;t a good level of isolation between the two.    The DSL environment (evaluation order, invocation call sites and naming conventions)and its implication on versioning are something that most people tend to forget about, until they find out just how critical it is for the usage of the language.    We walked through several versioning strategies, from the &quot;we always start fresh&quot; to the &quot;no changes are allowed&quot; to multi dialect languages and automatic migration tools. We also applied a few of those strategies to the Quote Generation DSL, and then seen how real world DSLs have dealt with the problem, and the various constraints that led to the different choices that were made.    Versioning is a big topic, and there is not enough room in a single chapter to cover it all. Most of the guidance about versioning is directly applicable for languages as well, and I strongly recommend referring to it as well as this chapter.    At this point, we are surely ready to release our DSL to the whole wide world, right? Well, from the technical perspective, certainly. But we are still missing something, a bit of shine, just a hint of polish.    Creating a DSL is easy, making is slick and professional is another matter, that is what we will spend the next chapter discussing.   Next chapter - Creating professional DSL.</p>
        </article>
        <article id="article-6645">
            <a href="https://ayende.com/blog/3486/logging-auditing-and-alerts" target="_blank">
                <h2 class="title mb-6" id="article-6645">Logging, Auditing and Alerts</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 02, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Udi has a few things to say about logging, in response for my logging with AOP post. As usual, I agree with Udi. :-) In particular, I am in agreement with this:     In broader terms, all logging goes in framework-level code. For smart clients, one really good place to put logging is in your Command infrastructure - every time a command is invoked, log it and the args. For data access, well, any decent O/R Mapper has a lot of logging already, just use it. For communication, ditto. Funny that just last week this was one of the major bits of feedback I gave in a code review.   Logging is for troubleshooting, nothing else. They are incredibly helpful when you need to find out what the hell is going on, but they are very bad in the other two tasks that are usually assigned to them. Alerting you that something is wrong and getting information out of the application during normal operation.  Alerts are raised when something in the application has gone wrong. Maybe a circuit breaker tripped because an external system is failing, or maybe disk space is getting very low, or a batch process failed, etc. Those alerts should be wired into whatever monitoring system your IT team is using (ArcSight, MOM, Nagios, etc). This is important. Trust me on that.  The other aspect is auditing. I want to know who changed what as well as when and why. In on of my projects we had an ISystemUsage interface, which controllers would call to inform the system about interesting things happening. This is at a much higher level than logging. We aren&#x27;t interested in the raw details, only in business significant data.   If I recall correctly, the data we gathered was about logins, view data, failed searches, feature usage, taken actions, etc. That let us reconstitute the activities of user at a later data, as well as mine some fairly interesting out of the system.   Udi suggests using a Business Activity Monitoring system for doing this. My only experience with BAM was with BizTalk&#x27;s so I have bad impression about the name, but in general, I agree. You want to give as much visibility as possible into the system.  Oh, and read Release It!</p>
        </article>
        <article id="article-6646">
            <a href="https://ayende.com/blog/3485/challenge-what-is-the-problem" target="_blank">
                <h2 class="title mb-6" id="article-6646">Challenge</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 02, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This code is part of a DSL that is used to generate quotes. In particular, this bit is used to build the dependency graph for the engine to run on.  specification @vacations:&#xA;&#x9;requires @scheduling_work&#xA;&#x9;requires @external_connections&#xA;&#xA;There is a serious design issue with this bit of code. Can you figure it out?&#xA;&#xA;Hints:&#xA;&#xA;&#xA;  It has nothing to do with the implementation.&#xA;&#xA;  It has nothing to do with the actual engine running this.&#xA;&#xA;  Look for what isn&#x27;t there.&#xA;&#xA;  It is only a problem when you scale up.&#xA;&#xA;  And no, there are no performance problems whatsoever.</p>
        </article>
        <article id="article-6647">
            <a href="https://ayende.com/blog/3484/the-clippy-compiler" target="_blank">
                <h2 class="title mb-6" id="article-6647">The Clippy Compiler</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 02, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I am working&#xA0; on the versioning chapter for the book, and I am current at the place where I am suggesting letting the compiler know about what kind of situations your users are likely to get into.  The examples I am using is changing the API from:     requires @vacations   To:     requires @vacations, &quot;Some explanatory text&quot;   And handling the scenario where the user attempts to write to the old API.   Here is the default approach:     BCE0017: Boo.Lang.Compiler.CompilerError: The best overload for the method &#x27;BDSLiB.QuoteGeneration.QuoteGeneratorRule.requires(string, string)&#x27; is not compatible with the argument list &#x27;(string)&#x27;.   We can use the standard [Obsolete] mechanism, like this:     [Obsolete(&quot;use requires(moduleName, explanation) instead&quot;, true)]&#xA;public void requires(string moduleName)&#xA;{&#xA;&#x9;throw new NotSupportedException();&#xA;}&#xA;&#xA;&#xA;And the error would be:&#xA;&#xA;&#xA;  &#x27;BDSLiB.QuoteGeneration.QuoteGeneratorRule.requires(string)&#x27; is obsolete. use requires(moduleName, explanation) instead&#xA;&#xA;&#xA;This is still very scary message for non technical users. So we can up the cost a bit using this:&#xA;&#xA;&#xA;  [Meta]&#xA;public static Expression requires(Expression moduleName)&#xA;{&#xA;&#x9;var message =&#xA;&#x9;&#x9;@&quot;&#xA;Requiring a module without supplying an explanation is not allowed. &#xA;Please use the following syntax:&#xA;&#x27;requires &quot; &#x2B; moduleName &#x2B; &quot;&#x27;, &#x27;&quot; &#x2B; moduleName &#x2B; &quot; is required because [add your reasoning here]&#x27;&quot;;&#xA;&#x9;CompilerContext.Current.Errors.Add(new CompilerError(moduleName.LexicalInfo, message));&#xA;&#x9;return new MethodInvocationExpression&#xA;&#x9;{&#xA;&#x9;&#x9;Target = new ReferenceExpression(&quot;requires&quot;),&#xA;&#x9;&#x9;Arguments = new ExpressionCollection&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;moduleName,&#xA;&#x9;&#x9;&#x9;new StringLiteralExpression(&quot;No explanation specified&quot;)&#xA;&#x9;&#x9;}&#xA;&#x9;};&#xA;}&#xA;&#xA;&#xA;In which case the error is:&#xA;&#xA;&#xA;  BCE0000: Boo.Lang.Compiler.CompilerError: &#xA;    Requiring a module without supplying an explanation is not allowed. &#xA;&#xA;    Please use the following syntax:&#xA;&#xA;    &#x27;requires &#x27;scheduling_work&#x27;&#x27;, &#x27;&#x27;scheduling_work&#x27; is required because [add your reasoning here]&#x27;&#xA;&#xA;&#xA;This is a much nicer message to get, I think you would agree.</p>
        </article>
        <article id="article-6648">
            <a href="https://ayende.com/blog/3483/unreadable-linq" target="_blank">
                <h2 class="title mb-6" id="article-6648">Unreadable Linq</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 02, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Chad Myers has posted about the query objects with the repository pattern. He is trying to solve the problem of reusable pieces of queries that can be combined together. In theory, this gives you a way to compose queries in a way that hide the actual query logic. This is a good thing.  Unfortunately, the syntax leaves a lot to be desired:     _query = new TopCustomersWithLowDiscountQuery()&#xA;&#x9;.IncludePreferred();&#xA;&#xA;var otherQuery = new DeliquentCustomersQuery()&#xA;&#x9;.WithPendingLitigation()&#xA;&#x9;.WithDebtOver(999);&#xA;&#xA;var results = _customers&#xA;&#x9;.AsQueryable()&#xA;&#x9;.Where(_query.OrElse(otherQuery));&#xA;&#xA;&#xA;Note how you compose the queries, that is simply unreadable as the query complexity scale up. At the same time, we don&#x27;t really have a better way of handling that since the from expression will not accept Expression&lt;T&gt; instances directly. What has me worried is the tendency toward over abstraction that I have seen in a few code bases. In particular, I have seen API that takes several Expression&lt;T&gt; objects and compose them in interesting ways. Here is an example:&#xA;&#xA;&#xA;  var customers = repo.FindBy(&#xA;        new TopCustomersWithLowDiscountQuery()&#xA;            .IncludePreferred()&#xA;            .BelowDiscountThreshold(3)&#xA;            .WithMoreSalesThan(500)&#xA;        .AndAlso(&#xA;            new DeliquentCustomersQuery()&#xA;                .WithDebtOver(9999))&#xA;            &#xA;);&#xA;&#xA;&#xA;Oh, this is a really neat trick from a programming perspective, but it makes it very hard to read and understand the code. Try to add ordering and projections to this type of query. And then try to understand the code.&#xA;&#xA;I don&#x27;t have any great solutions for that, unfortunately, but it is a problem that is worth pointing out.&#xA;&#xA;A better solution would be to integrate that with the Linq query provider to support extracting the expression tree from the query, but that is not practical as an overall solution.</p>
        </article>
        <article id="article-6649">
            <a href="https://ayende.com/blog/3482/thinking-about-cloud-computing" target="_blank">
                <h2 class="title mb-6" id="article-6649">Thinking about Cloud Computing</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 02, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">A few weeks ago I had a fascinating discussing with a guy about usages of cloud computing. Over the course of an hour, we covered quite a lot of very interesting options.  The traditional drive for using cloud computing is the desire to avoid having to manage your own infrastructure, and the problems that one have to face when dealing with expanding one&#x27;s infrastructure. Being able to hand all of that to a 3rd party is a very attractive offer, especially if you feel like this 3rd party is someone that you can rely on to do better job in managing infrastructure than your own developers.  In general, developers are not IT professionals, and it shows. An additional benefit of having a 3rd party manage your infrastructure is that they tend to place limitations on the things that you do. These limitations are usually good thing, since they force you to design in a scalable manner.  Amazon&#x27;s EC2 doesn&#x27;t give you a persistence storage other than S3 and SimpleDB. This means that bringing up a new VM instance is extremely easy, and you have just increased your capacity. Same for Google&#x27;s App Engine and the limitations it has.   Of course, that is just the common motive. The competitive price of cloud computing vs. the high cost of building your own data center (or hosting your servers in someone else&#x27;s) is also a reason to move in that direction.  There are other scenarios, equally interesting, however, of using cloud computing.  Consider the case of a spike in traffic, you are running an online shop and is it a major holiday. You are likely to see a huge surge in traffic. Using your own data center would force you to build to the maximum expected capacity, which is often order of magnitude higher than your normal capacity. Using cloud computing, you can simply turn on additional instances on as needed basis.  But even that benefit was beaten to death. But what about this scenario?  You need to test your application, and as usual, it is hard to find a test environment that has 30 servers that you can try your latest version on. Setting up something like that on EC2 for a week will set you back by less than 400$.   Periodic batch processing is another issue that you might need to consider using cloud computing for. I know of several places where the need to do heavy duty processing (diamond image process for cutting machines, for example), takes quite a bit of computing power, but this is something that you can batch and do and on &quot;as needed&quot; basis, reducing your infrastructure cost significantly. Payroll is also a fairly intensive process that happens only periodically.  Another use case is to setup cloud machines as clients in a distributed load test. You can set it up so a large number of clients (a thousand machines, which you probably will not be able to do on your own) against your application.  The ability to easily perform a rolling update is also attractive, not to mention that   The picture is not so rosy when you consider that it also has some not insignificant minuses.  Broadly, there are three types of cloud services.      Google App Engine - you upload the application, and that is it. You don&#x27;t even have the concept of a machine in this system. Scalability and the distribution is solely the issue of the App Engine, not your code. This is currently limited to Python only, and the environment is modified to ensure that you can only do things the Right Way. A lot of the concerns that I intend to list are not relevant for this scenario, because you don&#x27;t have the concept of a machine. Broadly, I think that this is the way to go, and given the chance to build my own cloud computing application, I would go with a very similar concept.    Amazon EC2 - you upload a vm image, and you can start creating instances of it. The VM image can contain whatever you want, but you have no persistent storage. That means that you can&#x27;t actually save data to the local disk or run a RDBMS server. Persistent data is handled using Amazon&#x27;s web services (S3, SQS, SDB). More on that later.    GoGrid - You take an existing VM template from their site, customize it, and start running it. This is the closest that you can achieve with regards to data center in the cloud, because GoGrid&#x27;s systems behave just like real machines. That is, you don&#x27;t have to be worried about persistent storage and the like. On the one hand, it is very convenient. On the other hand, I am not sure that I like this.   The main fault that I find with Google App Engine at the moment is the limitation to Python. From all other perspectives, it is as close to the model of the ideal close service as you can get. All the infrastructure concerns has been stripped away, you only have to deal with the application concerns.  EC2 and GoGrid both allows me to setup a VM and start running it. EC2&#x27;s no persistence model means that it is much easier to scale by creating new instances and using the Amazon services to handle storage. GoGrid&#x27;s model means that I have a lot more flexibility, but with it I have the chance of major issues. In particular, it seems that it is more complex to clone a machine a hundred times than it is on EC2.  EC2 worry me somewhat, because I am not sure how it is handling such things as configuration change (remember, no persistence, on reboot, all changes to the system are wiped), and how I handles patches and updates to the system itself. Perhaps it is because I am working on Windows so often, so I worry about how to deal with Patch Tuesday, but even on the Linux images that are common on EC2, there would be a need to perform such an update. On the EC2 model, that would require getting the image, making the change locally, and uploading the image.  GoGrid, however, will allow me to perform the update in place, but by the same token, I would need to perform this update on all machines in my application.  The EC2 model means that it is very easy to bring up new instances, the GoGrid model means that it is likely to be harder, because instances are not frozen images, they are actual servers, which has state.   Other issues that would concern me in such a scenario would be load balancing, including auto discovery of failed or new instances. From a cursory check, both Amazon and GoGrid have at least rudimentary support for this, but that leaves some things to be desired. In particular, the requirements of load balancing are:     Distribute loads among a cluster of application servers.     Handle failover of an application server gracefully.     Ensure the cluster of servers appears as a single server to the end user.    A short search in the Amazon forums has raised several issues regarding load balancing in the EC2 system. It seems like the common method is to have an EC2 instance running either HA Proxy or round robin DNS deal with this. Nothing is said about what happens if that instance goes down, but I think that I can guess...  This is partially why I think that the Google App Server model is preferred. This model is explicitly an unabashedly tells you that you have no business managing the infrastructure. That is left for someone else to manage. In this case, Google. But even if you decide to build such a system on your own, dealing with infrastructure concerns should be way out of the code.  In other words, you would need to create provisioning system that look at the load, create / destroy instances, update routing information, etc. Not hard, I think, but most certainly tiresome.  Thoughts?</p>
        </article>
        <article id="article-6650">
            <a href="https://ayende.com/blog/3481/ill-get-to-your-application-in-a-week-first-we-need-to-build-the-framework" target="_blank">
                <h2 class="title mb-6" id="article-6650">I&#x27;ll get to your application in a week - First, we need to build the framework</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: August 01, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Jeffrey Pallermo&#xA0;posted about a scenario he encountered:     I had a conversation with Kevin Hurwitz about developer tendencies.&#xA0; Kevin related a project he consulted on.&#xA0; He came in after over a million dollars had already been spent by the client, and he found the following:         Not a single feature had been delivered (save a few half-finished screens)       The team had spent all the time creating an application framework that, when finished, would make the application practically create itself.       The development manager was the one who instigated the framework frenzy, and was eventually fired.       Jeffrey then go on to suggest that this might not be the wisest use of the client&#x27;s time and money, and that it is much better to use existing tools and frameworks where they are applicable and extract frameworks when reusable pieces of work are discovered.  In general, I agree. However...  I am a fan of the &quot;build a framework to make working the application easier&quot;. The last two projects that I used this approach on had a very high ROI as a result of this. In fact, you can see one of those frameworks here.  This is especially true when we are talking about using an unfamiliar platform or usage.  Where I fully agree with Jeffrey is with the time aspect. Running for such a long time with this approach it is just unacceptable. A week or two (max) is the most that you can dedicate for speculative framework development.</p>
        </article>
        <div class="button flex justify-between">
            <a href="664.html"><span class="back arrow"></span></a>

            <a href="666.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>