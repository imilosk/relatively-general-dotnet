
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Home â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<script>
    const lightModePref = window.matchMedia("(prefers-color-scheme: light)");

    function getUserPref() {
        const storedTheme = typeof localStorage !== "undefined" && localStorage.getItem("theme");
        return storedTheme || (lightModePref.matches ? "light" : "dark");
    }

    function setTheme(newTheme) {
        if (newTheme !== "light" && newTheme !== "dark") {
            return console.warn(
                `Invalid theme value '${newTheme}' received. Expected 'light' or 'dark'.`,
            );
        }

        const root = document.documentElement;

        // root already set to newTheme, exit early
        if (newTheme === root.getAttribute("data-theme")) {
            return;
        }

        root.setAttribute("data-theme", newTheme);

        const colorThemeMetaTag = document.querySelector("meta[name='theme-color']");
        const bgColour = getComputedStyle(document.body).getPropertyValue("--theme-bg");
        colorThemeMetaTag.setAttribute("content", `hsl(${bgColour})`);
        if (typeof localStorage !== "undefined") {
            localStorage.setItem("theme", newTheme);
        }
    }

    // initial setup
    setTheme(getUserPref());

    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("theme-toggle").addEventListener("click", () => {
            const theme = localStorage.getItem("theme");

            if (theme === "dark") {
                setTheme("light");
            } else {
                setTheme("dark");
            }
        });

        document.getElementById("toggle-navigation-menu").addEventListener("click", (e) => {
            const button = e.target;
            const ariaExpanded = button.getAttribute("aria-expanded");
            const header = document.getElementById("main-header");

            if (ariaExpanded === "true") {
                button.setAttribute("aria-expanded", "false");
                header.classList.remove("menu-open");
            } else {
                button.setAttribute("aria-expanded", "true");
                header.classList.add("menu-open");
            }
        });
    });
</script>

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <theme-toggle class="ms-auto">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main">
    <section aria-label="Blog post list">
        <a href="https://ayende.com/blog/90113/if-you-dont-have-pet-projects-i-dont-think-i-want-you" target="_blank"><h1 class="title mb-6">If you don&#x2019;t have pet projects, I don&#x2019;t think I want you</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 13, 2011
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I am busy hiring people now, and it got me thinking a lot about the sort of things that I want from my developers. In particular, I was inundated in CVs, and I used the following standard reply to help me narrow things down.  Thank you for your CV. Do you have any projects that you wrote that I can review? Have you done any OSS work that I can look at? The replies are fairly interesting. In particular, I had a somewhat unpleasant exchange with one respondent. In reply for my question, the reply was:  My employer doesn&#x2019;t allow any sharing of code. I can find some old projects that I did a while ago and send them to you, I guess. Obviously, I don&#x2019;t want to read any code that belong to someone without that someone&#x2019;s explicit authorization. Someone sending me their current company code is about as bad manner as someone setting up an invite for a job interview on their work calendar (the later actually happened today). After getting the projects and looking them over a bit, I replied that I don&#x2019;t think this would be the appropriate position for this respondent. I got the following reply:  Wait a minute&#x2026; Can I know why? I took the trouble to send you stuff that I have done, maybe not the highest quality and caliber, but what I could send right now. You didn&#x2019;t even interview me.  How exactly did you reach the unequivocal conclusion that I am not a good fit for this job?  My response to that was:  Put simply, we are looking for a .NET developer and one of the most important things that we look for is passion. In general, we have found that people that care and are interested in what they are doing tend to do other stuff rather than just their work assignments.  In other words, they have their own pet projects, it can be a personal site, a project for a friend, or just some code written to get familiar with some technology. When you tell me that your only projects outside of work are 5&#x2B; years old, that is a bad indication for us.  There is more, but it gets to the details and not really relevant for this discussion. Let me try to preempt the nitpickers. Not having pet projects doesn&#x2019;t mean that you are a bad developer, nor vice versa. But I don&#x2019;t really care about experience, and assuming that you already know the syntax and has some basic knowledge in the framework, we can use you. But the one thing that I learned you can&#x2019;t give people is the passion for the field. And that is critical. Not only because it means that they are either already good or going to be good (it is pretty hard to be passionate about something that you sucks at), but because it means that they care.  And if they care, it means two very important things:  The culture of the company is about caring for doing the appropriate thing. The end result is going to be as awesome as we can get. Now, if you&#x2019;ll excuse me, I am going to check out SignalR, because I don&#x2019;t feel like doing any more RavenDB work today.</p>
        <a href="https://ayende.com/blog/89089/ravendb-multi-maps-reduce-indexes" target="_blank"><h1 class="title mb-6">RavenDB</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 12, 2011
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">If you thought that map/reduce was complex, wait until we introduce the newest feature in RavenDB:  Multi Maps / Reduce Indexes Okay, to be frank, they aren&#x2019;t complex at all, they are actually quite simple, when you sit down to think about them. Again, I have to credit to Frank Schwieterman, who came up with the idea. Wait! Let us back track a bit and try to explain what the actual problem is that we are trying to solve. The problem with Map/Reduce is that you can only gather information from a single set of documents. Let us look at the following documents as an example: {// users/ayende &#xA;   &quot;Name&quot;: &quot;Ayende Rahien&quot; &#xA;} &#xA;&#xA;{ // posts/1234 &#xA;  &quot;Title&quot;: &quot;Why RavenDB?&quot;, &#xA;  &quot;Author&quot;: &quot;users/ayende&quot; &#xA;} { // posts/1235 &#xA;  &quot;Title&quot;: &quot;It is awesome!&quot;, &#xA;  &quot;Author&quot;: &quot;users/ayende&quot; &#xA;} &#xA;&#xA;&#xA;&#xA;&#xA;We want to get an list of users with the count of posts that they made. That is trivially easy, as shown in the following map/reduce index:&#xA;from post in docs.Posts&#xA;select new { post.Author, Count = 1 }&#xA;&#xA;from result in results&#xA;group result by result.Author into g&#xA;select new&#xA;{&#xA;   Author = g.Key,&#xA;   Count = g.Sum(x=&gt;x.Count)&#xA;}&#xA;&#xA;&#xA;The output of this index would be something like this:&#xA;{ Author: &quot;users/ayende&quot;, Count: 2 }&#xA;&#xA;&#xA;And we can load it efficiently using Includes:&#xA;session.Query&lt;AuthorPostStats&gt;(&quot;Posts/ByUser/Count&quot;)&#xA;     .Include(x=&gt;x.Author)&#xA;     .ToList();&#xA;&#xA;&#xA;This will load all the users statistics, and also load all of the associated users, in a single query to the database. So far, fairly simple and routine. &#xA;The problem begins when we want to be able to query this index using the user&#x2019;s name. As you can deduce from the documents shown previously, the user name isn&#x2019;t available on the post document, which means that we can&#x2019;t index it. That, in turn, means that we can&#x2019;t search it.&#xA;We are left with several bad options:&#xA;&#xA;De-normalize the User&#x2019;s Name property to the Post document, solely for indexing purposes. &#xA;Don&#x2019;t implement this feature. &#xA;Write the following scary query:&#xA;from doc in docs.WhereEntityIs(&quot;Users&quot;,&quot;Posts&quot;) &#xA;let user = doc.IfEntityIs(&quot;Users&quot;) &#xA;let post = doc.IfEntityIs(&quot;Posts&quot;) &#xA;select new &#xA;{ &#xA;  Count = user == null ? 1 : 0, &#xA;  Author = user.Name, &#xA;  UserId = user.Id ?? post.Author &#xA;} &#xA;&#xA;from result in results &#xA;group result by result.UserId into g &#xA;select new &#xA;{ &#xA;   Count = g.Sum(x=&gt;x.Count), &#xA;   Author = g.FirstNotNull(x=&gt;x.Author), &#xA;   UserId = g.Key &#xA;} &#xA;&#xA;&#xA;This is actually pretty straightforward, when you sit down and think about it. But there is a whole lot of ceremony involved, and it is actually more than a bit hard to figure out what is going on in more complex scenarios.&#xA;This is where Frank&#x2019;s suggestion came in:&#xA;&#xA;&#x2026;if I were try to support linq-based indexes that can map multiple types, it might look like:public class OverallOpinion : AbstractIndexCreationTask&lt;?&gt;&#xA;{&#xA;   public OverallOpinion()&#xA;   {&#xA;       Map&lt;Foo&gt;(docs =&gt; from doc in docs select new { Id = doc.Id, LastUpdated = doc.LastUpdated }&#xA;       Map&lt;OpinionOfFoo&gt;(docs =&gt; from doc in docs select new { Id = Doc.DocId, Rating = doc.Rating, Count = 1}&#xA;       Reduce = docs =&gt; from doc in docs&#xA;                        group doc by doc.Id into g&#xA;                        select new {&#xA;                           Id = g.Key,&#xA;                           LastUpdated = g.Values.Where(f =&gt; f.LastUpdated != null).FirstOrDefault(),&#xA;                           Rating = g.Values.Rating.Sum(),&#xA;                           Count = g.Values.Count.Sum()&#xA;                        }&#xA;   }&#xA;}&#xA;&#xA;&#xA;&#xA;It seems like some clever code could combine the different map expressions into one.&#xA;This is part of a longer discussion, but basically, it got me thinking about how we can implement multi maps, and I came up with the following:&#xA;// Map from posts&#xA;from post in docs.Posts&#xA;select new { UserId = post.Author, Author = (string)null, Count = 1 }&#xA;&#xA;// Map from users&#xA;from user in docs.Users&#xA;select new { UserId = user.Id, Author = user.Name, Count = 0 }&#xA;&#xA;// Reduce takes results from both maps&#xA;from result in results&#xA;group result by result.UserId into g&#xA;select new&#xA;{&#xA;   Count = g.Sum(x=&gt;x.Count),&#xA;   Author = g.Where(x=&gt;x!=null).First(),&#xA;   UserId = g.Key&#xA;}&#xA;&#xA;&#xA;The only thing to understand now is that we have multiple map functions, getting data from multiple sources. We can then take those sources and reduce them together. The only requirements that we have is that the output of all of the map functions would be identical (and obviously, match the output of the reduce function). Then we can just treat this information as normal map/reduce index, which means that all of the usual RavenDB features kick in. Let us see what this actually means, using code. We have the following classes:&#xA;public class User&#xA;{&#xA;    public string Id { get; set; }&#xA;    public string Name { get; set; }&#xA;}&#xA;&#xA;public class Post&#xA;{&#xA;    public string Id { get; set; }&#xA;    public string Title { get; set; }&#xA;    public string AuthorId { get; set; }&#xA;}&#xA;&#xA;public class UserPostingStats&#xA;{&#xA;    public string UserName { get; set; }&#xA;    public string UserId { get; set; }&#xA;    public int PostCount { get; set; }&#xA;}&#xA;&#xA;&#xA;&#xA;And we have the following index:&#xA;public class PostCountsByUser_WithName : AbstractMultiMapIndexCreationTask&lt;UserPostingStats&gt;&#xA;{&#xA;    public PostCountsByUser_WithName()&#xA;    {&#xA;        AddMap&lt;User&gt;(users =&gt; from user in users&#xA;                              select new&#xA;                              {&#xA;                                  UserId = user.Id,&#xA;                                  UserName = user.Name,&#xA;                                  PostCount = 0&#xA;                              });&#xA;&#xA;        AddMap&lt;Post&gt;(posts =&gt; from post in posts&#xA;                              select new&#xA;                              {&#xA;                                  UserId = post.AuthorId,&#xA;                                  UserName = (string)null,&#xA;                                  PostCount = 1&#xA;                              });&#xA;&#xA;        Reduce = results =&gt; from result in results&#xA;                            group result by result.UserId&#xA;                            into g&#xA;                            select new&#xA;                            {&#xA;                                UserId = g.Key,&#xA;                                UserName = g.Select(x =&gt; x.UserName).Where(x =&gt; x != null).First(),&#xA;                                PostCount = g.Sum(x =&gt; x.PostCount)&#xA;                            };&#xA;&#xA;        Index(x=&gt;x.UserName, FieldIndexing.Analyzed);&#xA;    }&#xA;}&#xA;&#xA;&#xA;&#xA;As you can see, we are getting the values from two different collections. We need to make sure that they are actually using the same output, which is what caused us the null casting for posts and the filtering that we need to do on the reduce.&#xA;But that is it! It is ridiculously easy compared to the previous alternative. Moreover, it follows quite naturally from both the exposed API and the internal implementation inside RavenDB. It took me roughly half a day to make it work, and some of that was dedicated to lunch . In truth, most of that time is actually just handling the error conditions nicely, but&#x2026; anyway, you get the point.&#xA;Even more interesting than the rest is the fact that for all intents and purposes, what we have done here is a join between two different collections. We were never able to really resolve the problems associated with joins before, update notifications were always too complex to figure out, but going the route of multi map makes things so easy.&#xA;Just for fun, you might have noticed that we marked the UserName property as analyzed, which means that we can issue full text queries against it. Let us assume that we want to provide users with the following UI:&#xA;&#xA;&#xA;It is now just a matter of writing the following code:&#xA;using (var session = store.OpenSession())&#xA;{&#xA;    var ups= session.Query&lt;UserPostingStats, PostCountsByUser_WithName&gt;()&#xA;        .Where(x =&gt; x.UserName.StartsWith(&quot;rah&quot;))&#xA;        .ToList();&#xA;&#xA;    Assert.Equal(1, ups.Count);&#xA;&#xA;    Assert.Equal(5, ups[0].PostCount);&#xA;    Assert.Equal(&quot;Ayende Rahien&quot;, ups[0].UserName);&#xA;}&#xA;&#xA;&#xA;&#xA;So you can do a cheap full text search over joins quite easily. For that matter, joins are cheap now, because they are computed on the background and queried directly from the pre-computed index.&#xA;Okay, enough blogging for now, going to implement all the proper error handling and then push an awesome new build.&#xA;&#xA;&#xA;&#xA;Oh, and a final thought, Multi Map was shown in this blog only in the context of Multi Maps/Reduce, but we also support just the ability to use multi map on its own. This is quite useful if you want to enable search over a large number of entities that reside in different collections. I&#x2019;ll just drop a bit of code here to show how it works:&#xA;public class CatsAndDogs : AbstractMultiMapIndexCreationTask&#xA;{&#xA;    public CatsAndDogs()&#xA;    {&#xA;        AddMap&lt;Cat&gt;(cats =&gt; from cat in cats&#xA;                         select new {cat.Name});&#xA;&#xA;        AddMap&lt;Dog&gt;(dogs =&gt; from dog in dogs&#xA;                         select new { dog.Name });&#xA;    }&#xA;}&#xA;&#xA;[Fact]&#xA;public void CanQueryUsingMutliMap()&#xA;{&#xA;    using (var store = NewDocumentStore())&#xA;    {&#xA;        new CatsAndDogs().Execute(store);&#xA;&#xA;        using(var documentSession = store.OpenSession())&#xA;        {&#xA;            documentSession.Store(new Cat{Name = &quot;Tom&quot;});&#xA;            documentSession.Store(new Dog{Name = &quot;Oscar&quot;});&#xA;            documentSession.SaveChanges();&#xA;        }&#xA;&#xA;        using(var session = store.OpenSession())&#xA;        {&#xA;            var haveNames = session.Query&lt;IHaveName, CatsAndDogs&gt;()&#xA;                .Customize(x =&gt; x.WaitForNonStaleResults(TimeSpan.FromMinutes(5)))&#xA;                .OrderBy(x =&gt; x.Name)&#xA;                .ToList();&#xA;&#xA;            Assert.Equal(2, haveNames.Count);&#xA;            Assert.IsType&lt;Dog&gt;(haveNames[0]);&#xA;            Assert.IsType&lt;Cat&gt;(haveNames[1]);&#xA;        }&#xA;    }&#xA;}&#xA;&#xA;&#xA;&#xA;&#xA;All together, a great day&#x2019;s work.</p>
        <a href="https://ayende.com/blog/101377/first-ravendb-webinar-is-now-on-youtube" target="_blank"><h1 class="title mb-6">First RavenDB webinar is now on YouTube</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 11, 2011
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">We now have the first webinar posted on YouTube. All details here: http://blog.hibernatingrhinos.com/8193/ravendb-webinar-1-now-available-on-youtube Unfortunately YouTube doesn&#x27;t allow us to upload videos longer than 15 minutes, so we have to split all webinars and talks before uploading them. That is annoying for you as our users, and takes us a lot of time in pre-processing. You can help us both by participating - commenting and rating videos. The more positive action we have, the faster we can get that limitation removed. We will appreciate your help with this. See you in future webinars.</p>
        <a href="https://ayende.com/blog/88065/a-surprise-taskcancelledexception" target="_blank"><h1 class="title mb-6">A surprise TaskCancelledException</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 09, 2011
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">All of a sudden, my code started getting a lot of TaskCancelledException. It took me a while to figure out what was going on. We can imagine that the code looked like this: var unwrap = Task.Factory.StartNew(() =&gt;&#xA;{&#xA;    if (DateTime.Now.Month % 2 != 0)&#xA;        return null;&#xA;&#xA;    return Task.Factory.StartNew(() =&gt; Console.WriteLine(&quot;Test&quot;));&#xA;}).Unwrap();&#xA;&#xA;unwrap.Wait();&#xA;&#xA;&#xA;&#xA;The key here is that when Unwrap is getting a null task, it will throw a TaskCancelledException, which was utterly confusing to me. It make sense, because if the task is null there isn&#x2019;t anything that the Unwrap method can do about it. Although I do wish it would throw something like ArgumentNullException with a better error message.&#xA;The correct way to write this code is to have:&#xA;var unwrap = Task.Factory.StartNew(() =&gt;&#xA;{&#xA;    if (DateTime.Now.Month % 2 != 0)&#xA;    {&#xA;        var taskCompletionSource = new TaskCompletionSource&lt;object&gt;();&#xA;        taskCompletionSource.SetResult(null);&#xA;        return taskCompletionSource.Task;&#xA;    }&#xA;&#xA;    return Task.Factory.StartNew(() =&gt; Console.WriteLine(&quot;Test&quot;));&#xA;}).Unwrap();&#xA;&#xA;unwrap.Wait();&#xA;&#xA;&#xA;&#xA;Although I do wish that there was an easier way to create a completed task.</p>
        <a href="https://ayende.com/blog/98305/ravendb-webinar-2-q-a-free-for-all" target="_blank"><h1 class="title mb-6">RavenDB Webinar #2&#x2013; Q &amp; A Free For All</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 08, 2011
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Wow! The RavenDB Webinar has been a great success, and a wonderful trial run. I know that a lot of people haven&#x2019;t been able to get in, and I apologize for that, we absolutely did not expect to have so many people in.  The session was recorded, and we will upload it soon so everyone can watch it. As part of experimenting with the format, and since we want to give anyone another chance, we will do another Webinar tomorrow, you can register here: https://www2.gotomeeting.com/register/398501658 Unlike the one we just had, we will have this one as a Q &amp; A where we open the phone lines and start chatting with you about RavenDB, demoing things on the fly. Should be fun&#x2026;</p>
        <a href="https://ayende.com/blog/97281/changes-to-advanced-nhibernate-course-warsaw-october-2011" target="_blank"><h1 class="title mb-6">Changes to Advanced NHibernate Course - Warsaw, October 2011</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 08, 2011
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">The Advanced NHibernate Warsaw Course drew a lot of interest when I announced it, but a lot of people seemed to be thrown off by the price.  Therefore, I decided to do several additional things to make it easier for you to decide to go to the course:  I extended the early bird period until the 15th Sep (which represents a 20% discount). All attendees to the course will receive a free license to NH Prof.  All companies sending attendees will receive a 20% discount for future purchases of NH Prof. I intent to extend the course with a &#x201C;support hour&#x201D;, so we can not only go over the actual course material, but go over your actual problems and resolve them during the course.  If necessary, I&#x2019;ll do follow up on those issues after the course as well. I hope that with those changes, it will make it easier for your to go to the course or to convince your company to go.</p>
        <a href="https://ayende.com/blog/87041/rant-who-thought-this-was-a-good-idea" target="_blank"><h1 class="title mb-6">Rant</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 08, 2011
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I means, seriously! Even this is better:</p>
        <a href="https://ayende.com/blog/86017/twitter-doesnt-like-my-identity" target="_blank"><h1 class="title mb-6">Twitter doesn&#x2019;t like my identity</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 07, 2011
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Recently I noticed that a very important feature in twitter website is broken for me. I can&#x2019;t follow the entire conversation any longer, which drive me crazy.  It didn&#x2019;t take me long to figure out what the actual issue is:   It appears that even though I am logged in, some parts of twitter doesn&#x2019;t like this. I then thought that this has something to do with chrome, so I used the incognito mode to try it:  It works! I logged out and in again, nada. I cleared all browser history and restarted chrome, nada. I uninstalled chrome (selecting delete all browsing history) and re-installed, and now it is working. No idea why, and I don&#x2019;t like the heavy handed approach, but at least now I got my twitter tracking back.</p>
        <a href="https://ayende.com/blog/94209/ravendb-webinar" target="_blank"><h1 class="title mb-6">RavenDB Webinar</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 07, 2011
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I decided to see if a RavenDB webinar would be a useful thing to have. Ideally, we want to have something that is regularly scheduled.  For now, we are testing things, and I would like to invite you to our first webinar about RavenDB, which is scheduled for tomorrow. You can register in the following link: https://www2.gotomeeting.com/register/992039594</p>
        <a href="https://ayende.com/blog/84993/document-based-modeling-auctions" target="_blank"><h1 class="title mb-6">Document based modeling</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 06, 2011
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">We recently had a client with a similar model, and I thought that this would be a good topic for a series of blog posts. For the purpose of this blog posts series, I am going to be using EBay as the example. Just to be clear, this is merely because it is a well known site that most people are likely to be familiar with. In our model, we have the following Concepts:  Categories  Products  Auctions  Bids  Sellers  Buyers  Orders We will start from what is likely the most confusing aspect. Products and Auctions. A Product is something that can be sold. It can be either a unique item &#x201C;a mint condition Spiderman comics&#x201D; or it can be something that we have lots of &#x201C;a flying monkey doll&#x201D;. There is a big distinction between the two, because of the way the business rules are structured. Once an Auction has been started, it cannot be changed. This include everything about this auction, pricing, shipping information, product information, etc. But a Product may change at any time (maybe I now have the flying monkey in red and green, instead of the original red and yellow). That leads us to conclude that we actually have two instances of the Product in our domain. We have the Product Template (mutable, can change at any time) and with have the Auctioned Product (immutable). That realization leads me to the following model for products and auctions:     {&#xA;   &quot;Name&quot;:&quot;Flying Monkey Doll&quot;,&#xA;   &quot;Colors&quot;:[&#xA;      &quot;Red &amp; Yellow&quot;,&#xA;      &quot;Blue &amp; Green&quot;&#xA;   ],&#xA;   &quot;Price&quot;:29,&#xA;   &quot;Weight&quot;:0.23&#xA;}&#xA;&#xA;&#xA;{&#xA;   &quot;Quantity&quot;:15,&#xA;   &quot;Product&quot;:{&#xA;      &quot;Name&quot;:&quot;Flying Monkey Doll&quot;,&#xA;      &quot;Colors&quot;:[&#xA;         &quot;Blue &amp; Green&quot;&#xA;      ],&#xA;      &quot;Price&quot;:29,&#xA;      &quot;Weight&quot;:0.23&#xA;   },&#xA;   &quot;StartsAt&quot;:&quot;2011-09-01&quot;,&#xA;   &quot;EndsAt&quot;:&quot;2011-09-15&quot;&#xA;}&#xA;&#xA;&#xA;&#xA;products/1&#xA;auctions/1&#xA;As you can see, the Auction is going to wholly own the product. Any change made to the product will not be reflected in the Auctioned Product. This has the advantage that we need only a single document load in order to show the auction page.&#xA;Another option would be to use the versioning bundle to do that, so we would have this:&#xA;&#xA;&#xA;&#xA;&#xA;{&#xA;   &quot;Name&quot;:&quot;Flying Monkey Doll&quot;,&#xA;   &quot;Colors&quot;:[&#xA;      &quot;Red &amp; Yellow&quot;,&#xA;      &quot;Blue &amp; Green&quot;&#xA;   ],&#xA;   &quot;Price&quot;:29,&#xA;   &quot;Weight&quot;:0.23&#xA;}&#xA;{&#xA;   &quot;Name&quot;:&quot;Flying Monkey Doll&quot;,&#xA;   &quot;Colors&quot;:[&#xA;       &quot;Blue &amp; Green&quot;&#xA;   ],&#xA;   &quot;Price&quot;:29,&#xA;   &quot;Weight&quot;:0.23&#xA;}&#xA;{&#xA;   &quot;Quantity&quot;:15,&#xA;   &quot;Product&quot;: &quot;products/1/versions/1&quot;,&#xA;   &quot;StartsAt&quot;:&quot;2011-09-01&quot;,&#xA;   &quot;EndsAt&quot;:&quot;2011-09-15&quot;&#xA;}&#xA;&#xA;&#xA;&#xA;products/1&#xA;products/1/versions/1&#xA;auctions/1&#xA;The versioning bundle ensures that we can get immutable views of our documents, so we can safely reference the product by its id and version.&#xA;That is it for now, on the next post, we will deal with how to work with bids.</p>
        <div class="button flex justify-between">
            <a href="347.html"><span class="back arrow"></span></a>

            <a href="349.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2024<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
</body>
</html>