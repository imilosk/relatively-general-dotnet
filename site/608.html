
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 608 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-6071">
            <a href="https://ayende.com/blog/3844/a-customer-service-story" target="_blank">
                <h2 class="title mb-6" id="article-6071">A Customer Service Story</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 04, 2009
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Continuing the XHEO saga, I finally replaced the licensing component for NH Prof. Yes, there is Rhino Licensing, I am sadden to say. Although an open source licensing component seems to be... an interesting contradiction. It would be a great joke to make it GPL as well, and see what happens. Anyway, this is not the point of this post. Currently, the change is committed to the repository and I already updated the NHProf.com backend to generate the new licenses instead of the old ones. That is where we get into a problem. We don&#x27;t have UI for the new licensing scheme yet. So for now, I disabled the auto-deploy part. However, people are still (thanks :-) ) buying the product, which means that the license they get and the actual software they can download are not compatible. This is not much of a problem, to be fair. We will have the licensing UI and resume auto deploy very shortly. But it is annoying to any customer who happened to get caught in the interim. I just had a question coming to me from a customer regarding just this issue. In light of my recent XHEO support nightmare, I find support to be so much more important. You may have a great product, but your support can ruin the experience very quickly. A few things to note about this mail:  I answered it within one hour of it being sent. Sorry, I am still having horrible time shaking off jet lag. It was sent using the contact us form in the NH Prof site. This is just another thing that I did to make it as easy as possible to get the user&#x27;s feedback. One thing that I will not do is to force users to go through a multi page support &quot;wizard&quot; nightmare. A quick solution for the customer problem would have been: &quot;wait a day or two, and there will be a version that supports the new licensing scheme&quot;. That, however, is not acceptable. And that leads me to the main point of this post. The underlying assumption is that it is not the customer&#x27;s fault, and even if it is, if you can, you fix it. In this case, the scenario was completely my issue, not question about it. And leaving a customer dangling for a few days is an unacceptable action, in my view.</p>
        </article>
        <article id="article-6072">
            <a href="https://ayende.com/blog/3843/rhino-mocks-3-5-silverlight" target="_blank">
                <h2 class="title mb-6" id="article-6072">Rhino Mocks 3.5 &#x2013; Silverlight</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 04, 2009
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This is an alpha release only, because I don&#x2019;t do anything with Silverlight.   Gunther Meyer ported Rhino Mocks to Silverlight, and now you can get the bits here.</p>
        </article>
        <article id="article-6073">
            <a href="https://ayende.com/blog/3842/i-dont-think-that-i-really-get-commercial-software-development" target="_blank">
                <h2 class="title mb-6" id="article-6073">I don&#x2019;t think that I really get commercial software development</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 04, 2009
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This is from the NH Prof bug tracking:</p>
        </article>
        <article id="article-6074">
            <a href="https://ayende.com/blog/3841/nh-prof-new-feature-view-query-results" target="_blank">
                <h2 class="title mb-6" id="article-6074">NH Prof New Feature</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 04, 2009
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">At last, we have a cool UI for this feature.   It starts here:     And then moves to this window:     Yes, I know, it is not earth shattering UI, for sure, but it is one hell of a cool way to inspect even deeper into what NHibernate is doing.</p>
        </article>
        <article id="article-6075">
            <a href="https://ayende.com/blog/3840/open-letter-to-xheo-that-is-not-a-good-way-to-do-business" target="_blank">
                <h2 class="title mb-6" id="article-6075">Open letter to XHEO: That is not a good way to do business</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 02, 2009
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">About three months ago, I started looking around for licensing components for the NHibernate Profiler. I didn&#x27;t care to write the feature myself, and I thought that for a small investment of money, I could get a ready made and useful component. I looked around and finally ended up on XHEO&#x27;s site. I heard about XHEO before, the feature set looked decent and the documentation was good. I downloaded the trail and gave it a go. Everything seemed good, so on the 26th Nov, I purchased the professional version. Shortly after that, I released the private beta of NH Prof. Almost immediately I got comments from users saying that the software will not work on their machines. The common theme? All of them were running 64 bits platform. I narrowed the issue down to the licensing component. After I contacted support, I was told that yes, that is the case, and 64 bits is not supported. It is even mentioned in the documentation, so I really have no cause for complaint.  Now, mentioning such a limitation in a footnote hidden deep in the documentation is not what I would call being open about your limitations, but we will let it go. They had a workaround which I wasn&#x27;t really comfortable with, but it worked, so I just used that. It would cause problems down the road (it basically running in WOW64 mode, and I suspected it would cause issues relating to binding to 64 bits drivers with the Open Query Results features). The only real way of fixing this was to by purchasing Ultimate Edition With Source.  At that point, I also started getting more requests regarding licensing. That is when I encountered this beauty:   Yes, I need professional or better, but I have professional. I guess someone put an &gt; instead of &gt;=. Anyway, I was already in favor of buying the version that would let me run on x64 natively, so I decided to go ahead with this. A major part of my decision to go ahead and buy the source version was that I kept getting errors like this one:  System.Windows.Markup.XamlParseException: Failed object initialization (ISupportInitialize.EndInit). The type initializer for &#x27;&lt;Module&gt;&#x27; threw an exception.&#xA0; Error at object &#x27;HibernatingRhinos.NHibernate.Profiler.Client.MainWindow&#x27; in markup file &#x27;HibernatingRhinos.NHibernate.Profiler.Client;component/mainwindow.xaml&#x27;. ---&gt; System.TypeInitializationException: The type initializer for &#x27;&lt;Module&gt;&#x27; threw an exception. ---&gt; System.AccessViolationException: Attempted to read or write protected memory. This is often an indication that other memory is corrupt.&#xA0; --- End of inner exception stack trace ---&#xA0; at Licensing.LicenseManager.AssertValidLicense()&#xA0; at HibernatingRhinos.NHibernate.Profiler.Client.MainWindow.OnWindowInitialized(Object sender, EventArgs e)&#xA0; at System.Windows.FrameworkElement.RaiseInitialized(EventPrivateKey key, EventArgs e)&#xA0; at System.Windows.FrameworkElement.OnInitialized(EventArgs e)&#xA0; at System.Windows.FrameworkElement.TryFireInitialized()&#xA0; at System.Windows.FrameworkElement.EndInit()&#xA0; at System.Windows.Markup.BamlRecordReader.ElementEndInit(Object This is part of NH Prof&#x27;s production error reporting, so I know why the software crashed and can fix this. If you follow closely, Licensing.LicenseManager.AssertValidLicense, will call into XHEO&#x27;s licensing component, and in some cases, completely crash the system.  I figured that with the source version, I could fix that. That was the point where I was told that if I wanted the source version, I also needed to deploy obfuscated assemblies. And that this would jump the price by almost 1,000$. I didn&#x27;t mind deploying obfuscated assemblies that much, but I did mind the extra 1,000$. Nevertheless, I decided that it was probably worth it to not have to worry about licensing. That is when the real problems started. According to the license agreement between me and XHEO (which was signed by both parties, this is not your standard EULA), I cannot use the source without obfuscating it. That make sense, from their perspective. Except... the obfuscator that they sell doesn&#x27;t work. Here are just a few of the errors that I got.  Complete system melt down:   Just simple errors:   Or producing software that cannot run. I had spent quite some time with XHEO&#x27;s support, trying to resolve the issue. First, I have to say that in general I have found them to be completely unresponsive, often letting multiple business days go by without so much as acknowledging that a message was received, much less that they are working on it. This post is a copy of an email that I sent to them, and a good example of the kind of interaction that I had with them at that point. After several days going back and forth with their support, they have been unable to make the software work on my machine, rendering my entire purchase useless.  That is when I dug into the signed contract that we had, and verified that I remembered correctly. There are two sections which are particularly important:     What this basically says, is that if they don&#x27;t deliver a product that works, they should either provide one that works, or refund the money. At that point, I was sick and tired of the whole thing and sent them an email, telling them that they have failed to provide me with a working copy, and that I would like to get a refund. As per our signed contract. This is the reply that I got:   At that point, I have to remind you. I still wasn&#x27;t able to get the software to run without errors. I replied, and got no response. Replied again, several days letter, and got basically the same thing, replied to that again. Was ignored. Finally, I sat down and wrote this email. I think you can tell how frustrated I am with the whole thing.   That got me talking with someone else. Who wasn&#x27;t very helpful.    I cannot believe this. To summarize:  I am out a lot of money.  I have a product that doesn&#x27;t work and support that is extremely non responsive and not really helpful when it is responding. I have a company that thinks that &quot;It works on my machine&quot; means that it can ignore a crashing bug and total uselessness of their product for a paying customer. I have a company that is ignoring a signed contract and refuse to honor it. I have a huge amount of time invested into making this work, and not into actually producing good features for NH Prof. I have a delayed launch for my software. I just can&#x27;t understand how they think that behaving in this manner to their client. After this experience, I would strongly recommend to all and sundry to avoid them.</p>
        </article>
        <article id="article-6076">
            <a href="https://ayende.com/blog/3839/understanding-code-static-vs-dynamic-dependencies" target="_blank">
                <h2 class="title mb-6" id="article-6076">Understanding Code: Static vs Dynamic Dependencies</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 02, 2009
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Patrick Smacchia (NDepend) has a good post about this topic. I have an issue with his assertion that &quot;Static Structure is the Key&quot;:  The idea I would like to defend now is that when it comes to understand and maintain a program, one need to focus mostly on the static dependencies, the ones found in the source code. Knowing dynamic dependencies (who calls who at runtime) can make sense for example to profile performance or to fix some particular bugs. But most of the time invested to understand a program is generally spent in browsing static dependencies. The problem is that this doesn&#x27;t really hold for applications that were written with a container in place. Let us take Rhino Service Bus as an example of that. If you try to follow the static dependencies in the code, you will not be able to understand much. There aren&#x27;t many. If we will look at things like error handling, administration tasks or time outs, all of them are key parts of the way certain aspects of RSB behave, we will see that there is never a static reference to them. Instead, they are pulled in as a set of generic components that know how to integrate into the bus. A significant part of the actual behavior in RSB is dynamically configured by RhinoServiceBusFacility, and even here, I felt that this class was getting too many responsibilities, so we broke that apart to more dynamically composed parts. The configuration syntax, for example, is driven by the facility and by the BusConfigurationAware components (of which we currently have three). Focusing on the static dependencies in RSB wouldn&#x27;t be very useful, not a lot is happening there.</p>
        </article>
        <article id="article-6077">
            <a href="https://ayende.com/blog/3838/orcs-web-awesome-customer-service" target="_blank">
                <h2 class="title mb-6" id="article-6077">ORCS Web: Awesome customer service</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: January 31, 2009
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I want you to take a look at the dates of this conversation:&#xA;&#xA;The third message in the list is setting up a reminder in three weeks. I needn&#x27;t have bothered.&#xA;I got a reply instantly, with the exact response that I could have wished for. Awesome!&#xA;ORCS Web in general is a very good provider, in their service, in their responsiveness and the overall level of &quot;how can we help you&quot; that I get from them.&#xA;Real pleasure to deal with.</p>
        </article>
        <article id="article-6078">
            <a href="https://ayende.com/blog/3837/opening-seams-for-testing" target="_blank">
                <h2 class="title mb-6" id="article-6078">Opening seams for testing</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: January 30, 2009
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">While testing Rhino Service Bus, I run into several pretty annoying issues. The most consistent one is that the actual work done by the bus is done on another thread, so we have to have some synchronization mechanisms build into the bus just so we would be able to get consistent tests.  In some tests, this is not really needed, because I can utilize the existing synchronization primitives in the platform. Here is a good example of that:                    1: [Fact]&#xA;&#xA;         2: public void when_start_load_balancer_that_has_secondary_will_start_sending_heartbeats_to_secondary()&#xA;&#xA;         3: {&#xA;&#xA;         4:     using (var loadBalancer = container.Resolve&lt;MsmqLoadBalancer&gt;())&#xA;&#xA;         5:     {&#xA;&#xA;         6:         loadBalancer.Start();&#xA;&#xA;         7:&#xA0; &#xA;&#xA;         8:         Message peek = testQueue2.Peek();&#xA;&#xA;         9:         object[] msgs = container.Resolve&lt;IMessageSerializer&gt;().Deserialize(peek.BodyStream);&#xA;&#xA;        10:&#xA0; &#xA;&#xA;        11:         Assert.IsType&lt;HeartBeat&gt;(msgs[0]);&#xA;&#xA;        12:         var beat = (HeartBeat)msgs[0];&#xA;&#xA;        13:         Assert.Equal(loadBalancer.Endpoint.Uri, beat.From);&#xA;&#xA;        14:     }&#xA;&#xA;        15: }&#xA;    &#xA;  &#xA;&#xA;&#xA;Here, the synchronization is happening in line 8, Peek() will wait until a message arrive in the queue, so we don&#x2019;t need to manage that ourselves.&#xA;&#xA;This is not always possible, however, and this actually breaks down for more complex cases. For example, let us inspect this test:&#xA;&#xA;&#xA;  &#xA;    &#xA;         1: [Fact]&#xA;&#xA;         2: public void Can_ReRoute_messages()&#xA;&#xA;         3: {&#xA;&#xA;         4:     using (var bus = container.Resolve&lt;IStartableServiceBus&gt;())&#xA;&#xA;         5:     {&#xA;&#xA;         6:         bus.Start();&#xA;&#xA;         7:         var endpointRouter = container.Resolve&lt;IEndpointRouter&gt;();&#xA;&#xA;         8:         var original = new Uri(&quot;msmq://foo/original&quot;);&#xA;&#xA;         9:&#xA0; &#xA;&#xA;        10:         var routedEndpoint = endpointRouter.GetRoutedEndpoint(original);&#xA;&#xA;        11:         Assert.Equal(original, routedEndpoint.Uri);&#xA;&#xA;        12:&#xA0; &#xA;&#xA;        13:         var wait = new ManualResetEvent(false);&#xA;&#xA;        14:         bus.ReroutedEndpoint &#x2B;= x =&gt; wait.Set();&#xA;&#xA;        15:&#xA0; &#xA;&#xA;        16:         var newEndPoint = new Uri(&quot;msmq://new/endpoint&quot;);&#xA;&#xA;        17:         bus.Send(bus.Endpoint,&#xA;&#xA;        18:                  new Reroute&#xA;&#xA;        19:                  {&#xA;&#xA;        20:                      OriginalEndPoint = original,&#xA;&#xA;        21:                      NewEndPoint = newEndPoint&#xA;&#xA;        22:                  });&#xA;&#xA;        23:&#xA0; &#xA;&#xA;        24:         wait.WaitOne();&#xA;&#xA;        25:         routedEndpoint = endpointRouter.GetRoutedEndpoint(original);&#xA;&#xA;        26:         Assert.Equal(newEndPoint, routedEndpoint.Uri);&#xA;&#xA;        27:     }&#xA;&#xA;        28: }&#xA;    &#xA;  &#xA;&#xA;&#xA;Notice that we are making explicit synchronization in the tests, line 14 and line 24. ReroutedEndpoint is an event that we added for the express purpose of allowing us to write this test. &#xA;&#xA;I remember several years ago the big debates on whatever it is okay to change your code to make it more testable. I haven&#x2019;t heard this issue raised in a while, I guess that the argument was decided.&#xA;&#xA;As a side note, in order to get rerouting to work, we had to change the way that Rhino Service Bus viewed endpoints. That was a very invasive change, and we did it in less than two hours, but simply making the change and fixing the tests where they broke.</p>
        </article>
        <article id="article-6079">
            <a href="https://ayende.com/blog/3836/how-did-i-end-in-this-position" target="_blank">
                <h2 class="title mb-6" id="article-6079">How did I end in this position?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: January 28, 2009
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I am now in an argument where I am in support for stored procedures. A piece of the dialog:     Team Member #1: We have to do something about this, we don&#x2019;t even have any stored procedures for this.    Me: I will write the stored procedure for you.</p>
        </article>
        <article id="article-6080">
            <a href="https://ayende.com/blog/3835/and-now-what" target="_blank">
                <h2 class="title mb-6" id="article-6080">And now what?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: January 27, 2009
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">It looks like the entire MSMQ .NET stack is riddled with threading bugs. At least if you think about using the async methods such as BeginPeek.  Nasty!</p>
        </article>
        <div class="button flex justify-between">
            <a href="607.html"><span class="back arrow"></span></a>

            <a href="609.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>
</body>
</html>