
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 846 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-8451">
            <a href="https://ayende.com/blog/1867/geek-motivation" target="_blank">
                <h2 class="title mb-6" id="article-8451">Geek Motivation</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 18, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">There are a lot of stuff that I have been intending to do for quite some time. This mostly includes various releases for updates and fixes in the OSS projects that I work on.    I&#x27;m going to work on that today. But I said that before about 5/6 times. This time it is going to be different. This time, I have a prize at the end. I got Vista RTM just waiting to be installed. When I finish everything, it is time to hit the big blue button and see what would happen to my PC...</p>
        </article>
        <article id="article-8452">
            <a href="https://ayende.com/blog/1866/introducing-rollingsqlappender" target="_blank">
                <h2 class="title mb-6" id="article-8452">Introducing RollingSqlAppender</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 18, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I have explained before what the constraints I have when working with logging. I got several good comments about it, and several has hit the nail directly on the head.&#xA;    Just to recap, here is the list of my requirements:&#xA;&#xA;            The output from the logs should be deliverable by email&#xA0;by a layman. This basically means a file.&#xA;            The ouptut should allow me to slice / dice the data. The best way is if I could utilize existing SQL skills to do this.&#xA;            The system may run unattended for weeks at a time, so the log file can&#x27;t reach huge proportions.&#xA;            I&#x27;m not really interested in historical data - something that happened long time ago is not important.&#xA;            Plug into my current logging infrastructure (log4net).&#xA;            Nice to have - Convention over configuration&#xA;&#xA;    After giving this much thought, I decided to implement a RollingSqliteAppender. This is based of the existing ADO.Net appender, but is focused on utilizing Sqlite only. Sqlite needs only a single file for its database, so it answers the first requirement, it also has a runtime (for .Net) of about less than 500Kb, so size / installation is not an issue. Despite writing to a file, it is a fully fledged database, meaning that I get to do all sorts of interesting things to it.&#xA;    The third / forth requirements are what prompted the creation of this appender, rather than using the existing&#xA0;ADO.Net one. I&#xA0;took a&#xA0;look at RollingFileAppender and implemented similar functionality for&#xA0;my appender as well. Although I am checking rows, rather size/date, since this&#xA0;is a bit easier&#xA0; to check.&#xA0;What is basically does is save all the logs to a sqlite file, until the amount of rows in the database is filled, then it rename the file and create a new one.&#xA0;Another reason for the need to create my own appender is that when creating a new file, the database structure is created for you automatically.From the name, you can figure out that this is a log4net appender, so integrating it is not an issue. &#xA;    The last part is about minimum configuration. I tend to use the pretty standard logging table fairly often. That&#xA0;means [date, thread, level, logger, message, exception], so the appender is setup to support this (90% scenario, I would guess) out of the box. Here is how you configure the loggerin:&#xA;&#xA;        &lt;log4net&gt;            &#xA;        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;appender name=&quot;rolling-sqlite-appender&quot;            &#xA;        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0; type=&quot;Rhino.Commons.Logging.RollingSqlliteAppender, Rhino.Commons&quot;/&gt;            &#xA;        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;root&gt;            &#xA;        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;appender-ref ref=&quot;rolling-sqlite-appender&quot;/&gt;            &#xA;        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/root&gt;            &#xA;        &lt;/log4net&gt;    &#xA;&#xA;    This is it.&#xA;    Now, it does provide a set of options that you can override (because I need that functionality fairly often). &#xA;    Here is a list of the ones unique for the RollingSqliteAppender:&#xA;&#xA;            CreateScript - the script to generate the table(s) when creating a new database file. Default is to create the standard table (date, thread, level, logger, message, exception) named &quot;logs&quot;.     &#xA;            TableName - must match to the name of the table in CreateScript. Default: &quot;logs&quot;&#xA;            FileNameFormat - file format for the file. Default is {0}.log4net, where {0} is the current process name (which result is mostly correct results in most cases).&#xA;            Directory - where to save the files. Default: Current Directory&#xA;            MaxNumberOfRows - number of rows in the database that triggers rolling the file. Note that this is not a hard number, it depends on your BufferSize settings and flush options. It is close enough for my needs. Default: 50,000&#xA;            MaxNumberOfBackUps - number of backup files to save. Backup files are given a numeric prefix&#xA0;where lower is newer. Default: 3&#xA;&#xA;Note: The default buffer size is set to 512, you may want to change that. This is probably the most common reason why people thinks that log4net is not working.&#xA;    In my tests, each file was about 5Mb - 10Mb in size, and they compressed nicely to a more emailable size.&#xA;    By the way, I really like the log4net architecture.&#xA;    The code is here</p>
        </article>
        <article id="article-8453">
            <a href="https://ayende.com/blog/1865/reading-the-logs" target="_blank">
                <h2 class="title mb-6" id="article-8453">Reading The Logs</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 17, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">For production, there is nothing that can replace well thought-of logs. They are the #1 tool for understanding what is going on in a sytem. Often, they are the only real way to understand what is going on even when you are developing. This is often true in multi threaded programs, where just debugging them is not very effective.    The problem with logging is that there are usually too much of them. Following the trace of logs can be a daunting task when your system produce 50 logs per minutes on idle, and can produce hundreds and thousands of messages per minute while working. Just playing with the levels is not enough to make sense of things, you often need to correlate between several message, often at various logging levels, by different loggers.    All of this points me to the not so surprising conclusion that logs are data, and that I should be able to handle them like I handle all other data sources (selecting, grouping, filtering, etc). Luckily for me, it is very easy to make log4net write to a database. I can&#x27;t think of how many times the ability to slice and dice the data have saved me. For instnace, being able to find that between 10:05 - 10:15 the number of errors from the web service is passing 50, which cause a trigger in another part of the system, which caused all deliveries to arrive an hour late. There is simply no way I could look at the messages for a the whole day and find that out without this.    So, after extolling the value of databases, why do I bother to post this?    Well, there are two problems that I run into when logging to the database. The first is that if the database is down, you don&#x27;t do any logging (and in log4net 1.2.9, if the database is down, you won&#x27;t be doing any logging afterward to the database, even if it came back up). The second is that if the application is at a client, and I get a call about an issue, there isn&#x27;t much I can do about it without the logs.    The guy in charge for letting me know about problems can&#x27;t read the issues by himself. Idealy, he could just email me the logs, and I would go over them and understand what the problem was. The problem is that to get an export from the DB requires a DBA to handle it, who is not always avialable. Writing to file and getting that is possible, but I already explained how hard it is to get to the point from a file. Getting log4net to produce a file that can be imported to SQL is possible, but it probably isn&#x27;t trivail.    Messy, messy situation. I became familiar with a lot of large file viewers and remembering&#xA0;a lot of things at the same time when trying to figure out a problem. I also learned to recognize when this is not a good idea and driving there to take a look at the database.     I have a solution for this, which I will post shortly, but in the meantime, I am interested in what you think about this issue...</p>
        </article>
        <article id="article-8454">
            <a href="https://ardalis.com/vista-dotnet3-available/" target="_blank">
                <h2 class="title mb-6" id="article-8454">Vista, DotNet3 Available</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 16, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Just announced: Today Microsoft achieved another significant Vista milestone: the 32-bit and 64-bit versions of Windows Vista Business and&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-8455">
            <a href="https://ardalis.com/vista-on-msdn/" target="_blank">
                <h2 class="title mb-6" id="article-8455">Vista on MSDN</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 16, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Windows Vista Ultimate is now available on MSDN Subscriber Downloads. Nuff said.Keep Reading &#x2192;</p>
        </article>
        <article id="article-8456">
            <a href="https://ardalis.com/assemblybinding-in-web-config-and-xmlns/" target="_blank">
                <h2 class="title mb-6" id="article-8456">AssemblyBinding in Web Config and XMLNS</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 16, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Ran into this (again, I think) today while setting up some assembly binding between Telerik and PeterBlum controls in my LakeQuincy web site&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-8457">
            <a href="https://ayende.com/blog/1864/active-metrics-or-slapping-the-sloppy-developers" target="_blank">
                <h2 class="title mb-6" id="article-8457">Active Metrics or Slapping the Sloppy Developers</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 16, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Any performance advice you hear starts with &quot;Measure&quot;. And indeed, I know of nothing worse than making &quot;performance improvements&quot; without numbers that you can check.&#xA0;But&#xA0;I am not going to talk about perf tuning in this post, I am going to talk about something a bit different, how to avoid the more major pitfalls of performance, and in general, how to put (strict) guidelines for developers.    It is safe to assume that the #1 cause of performance issues in most applications is talking to the database. It is really easy (especially if you are using an abstraction) to do some things that are atrociously bad to the database. But it is pretty easy to do a lot of damage even when you are just using the raw DB model.The worst I have ever seen was in an Oracle-based application that was &quot;hand optimized&quot; for every single action. I am not sure what it was optimized for, because it was really hard to read and really bad from the database performance perspective (nested cursors on a tables with many millions of rows, for instance, with no where clause and hidden assumption about the ordering).     Other reasons usually include a hotspot in an unexpected location, or simple a complex piece of work that just takes time by its nature, but those aren&#x27;t what I am talking about here.    The cause is usually oversight, something that is really easy to fix in place (or should be escelated early on) at the time you are writing it. Trying to fix this issue three months later, when you suddenly discover that loading a page results in unacceptable performance... well, that is a whole another story.    My method for this is very simple, actually. Measure and Fail. Set a limit to how many queries a page is allowed to perform to display its content. On the end of the request, check that it has not crossed that limit. If it had, fail. Throw an exception that would stop the developer&#xA0;from doing any more work until they fix this issue.&#xA0; I have shown how this can be done for NHibernate here, and you can see that it is really easy to check for the number of queries per page using this method.     This all ties back to the Early Feedback Principal. It is very easy to see that that call over there is calling the database once per each customer, instead of loading all the data at once, a few minutes after you wrote it. It is a lot harder to look at a perf chart and try to analyze why accessing the contact information page is taking three minutes to load.    I would use this approach on the dev / test&#xA0;machines. This would mean that even if the developer didn&#x27;t hit that limit during development, it is likely that the QA would catch it, and would file a bug: &quot;ContactInformation.aspx is throwing PerformanceViolationException when I do XYZ...&quot;     A few notes about this approach:            When you fail, fail hard. This means throwing an exception, not showing something on the trace. The idea is that the developer would get that yellow screen that would tell them &quot;fix me!&quot;.            When you fail, give exact details about what happened:        Performance Violation - The page ContactInformation.aspx execute 56 database queries, but only 10 are allowed. Reduce the number of queries the the allowed limit, or talk to Oren about why this page should get a special extention.                        Make sure that you have an easy way to shut it off (for production, for instnace).            All the tests on the build server must have this setting on, so they would fail if this was violated.            Provide a simple way to temporarily disable this (to show functionality, to review all steps of a problem, etc).&#xA0;This query string is usually enough: &quot;hack=42&quot;            You also will want a list of exclusions, most probably                        ASP.Net HttpModules are suited very well for this approach, by the way. And it is a really nice way to set up a set of this checks.                Of the top of my head, I can think of the following things that I would measure and fail in this way:            Queries per page            Total page execution time - note that this require that you would take into account if you are in the debugger or not.            Usage of session variables - which I tend to really dislike.                 Total size of a page.            Total size of view state.            Validating XHTML / HTML output.    This is something that you probably would want to do from the start, but I have no compunction about enabling things like this in mid project. In my opinion, this is the simplest (and perhaps the only) way that you can maintain a set of standards in a team.    I found that using this approach for cross cutting changes is the best way of handling those issues. I can usually find the 90% of the places to change, but the last 10% are elusive, and maybe a developer in the future will not remember that we need to do something like this because of this or that. Failing fast means that I get visible issues, not invisible ones.    A good example of that is security. I had to add a column level security on all the grids in the application, after starting out with page level security. I solved this issue by adding the security logic to the grid itself. But the defination about the required operation for each column had to come from the column itself. This means that each and every (actionable) column in the application had to have an operation specified. I didn&#x27;t get all of them when I implemented this approach. But when I try to load a grid with column that doesn&#x27;t have an operation, I get a very nice error message saying that I really should care about security and what about putting an operation on the &quot;Delete User&quot; column?    This way, I ensure that either everything works like it should, or it doesn&#x27;t work at all. There is not half-measures here. This is happening when you code, so the feedback cycle is very short and easy to solve.</p>
        </article>
        <article id="article-8458">
            <a href="https://ayende.com/blog/1863/how-do-you-know-when-youre-being-too-blunt" target="_blank">
                <h2 class="title mb-6" id="article-8458">How do you know when you&#x27;re being too blunt?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 16, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This&#xA0;had me laughing. The answer for me is usually &quot;your mouth is moving&quot;... :-)</p>
        </article>
        <article id="article-8459">
            <a href="https://ardalis.com/webdevhelper-now-has-atlas-support/" target="_blank">
                <h2 class="title mb-6" id="article-8459">WebDevHelper Now Has Atlas Support</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 14, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Nikhil has updated his WebDevHelper utility to include direct support for Atlas. His original WebDevHelper is a nice plug-in for the browser&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-8460">
            <a href="https://ayende.com/blog/1862/i-am-going-to-get-sued-for-temporal-harassment" target="_blank">
                <h2 class="title mb-6" id="article-8460">I am going to get sued for temporal harassment</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 14, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Go read the title again, first. It is not what you think.    I mentioned before that I am working on temporal system. Actually, it didn&#x27;t start as temporal system. It started as you everyday business system. Fairly complex domain, very interesting problems. At the time, I had Evan&#x27;s DDD heavy on my mind, and I had a really nice domain model that I could work with. Just to make a point, the code I am going to show is&#xA0;a very simple piece of code, meant to sort a list of employee&#x27;s contracts by their name.    Using this domain model, I could sort the contracts list like this:            Algorithms.SortInPlace(templates, delegate(ContractTemplate x, ContractTemplate y)                        {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return x.Name.CompareTo(y.Name);                        });        Very simple to grok, using Power Collections to make this even nicer.    Then the Change Request came*. All objects in the system are time bound and may have multiply occurances. What does this mean? It means that I can no longer ask a contract for any of its properties. I need to ask it for its properties at a certain point in time. That was a fairly big change, and I handled it using this approach. This meant that I had to go on all my code and change each property access to use the relevant date. Naturally, I mostly used DateTime.Today. so the above code turned into this:            Algorithms.SortInPlace(templates, delegate(ContractTemplate x, ContractTemplate y)                        {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return x.At(DateTime.Today).Name.CompareTo(y.At(DateTime.Today).Name);                        });        But here is the kicker, in temporal systems, one of the key elements is the time that you are looking at the system vs. the time of the objects. This mean that I can very well look at an object that doesn&#x27;t exist at this point in time.    To make this more obvious, consider the following case. I am currently looking at a list of employees as it was three years ago. Obviously, any new employees do not exists in the list, even though they are on the system. The way I implemented this approach is simply throwing exception when you ask an object for its state at a date where it didn&#x27;t exist.    So, we are happily developing the system and trying to understand our code through 9 levels of different date intervals. But, we show the system to the customer, and the first thing that they do is to create an object in the future and then try to view its state today. If you consider the case, you will see that of course it throws an exception. The problem is how to deal with it. Here is the current code to sort a list of contracts by their names:            Dictionary&lt;Employee, ContractTemplate &gt; employeeAndContracts = ...;                        templates = Algorithms.Sort(employeeAndContracts, delegate(ContractTemplate x, ContractTemplate y)                        {                        &#xA0;&#xA0; DateTime y_maybeValidDateToCheck = employeeAndContracts [y].Employement.Start;                        &#xA0;&#xA0; DateTime x_maybeValidDateToCheck = employeeAndContracts [x]. Employement.Start;                        &#xA0;&#xA0; if (x.Validity.Overlap(x_maybeValidDateToCheck) == false)                        &#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if (y.Validity.Overlap(y_maybeValidDateToCheck) == false)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return 0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; else                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return -1;                        &#xA0;&#xA0; }                        &#xA0;&#xA0; string name_x = x.At(x_maybeValidDateToCheck).Name;                        &#xA0;&#xA0; if (y.Validity.Overlap(y_maybeValidDateToCheck) == false)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return 1;                        &#xA0;&#xA0; string name_y = y.At(y_maybeValidDateToCheck).Name;                        &#xA0;&#xA0; return name _x.CompareTo(name _y);                        });        Yes , I did refactored it out to a method, but the sheer complexity of doing a simple sort is annoying. You can imagine the complexity of working with the model on a day to day basis and why I dislike System.DateTime so much...    * One important thing to mention, because of disclosure issues, I am not talking about the actual system, but a parallel one, which I can talk about safely. This is relevant here because the temporal decision is not an obvious one in this system, while employee&#x27;s contracts is usually the classic place for this type of system.</p>
        </article>
        <div class="button flex justify-between">
            <a href="845.html"><span class="back arrow"></span></a>

            <a href="847.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>