
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 720 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-7191">
            <a href="https://ayende.com/blog/2932/hasty-notes-on-big-refactoring" target="_blank">
                <h2 class="title mb-6" id="article-7191">Hasty notes on Big Refactoring</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 04, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I am going to write a more full featured post about this, but I think that the jotted notes for that are also interesting. Big rafactoring is what I call to a refactoring that touces large swaths of the code base, changing the implementation of a core service is one such example, or changing key archtictual patterns.  Must have tests at first. Change is too big, will affect too much of the system to change in place. Can&#x27;t change the system and the test at the same time Taking as granted that you have source control. Ability to rollback at any time. Tests are hindarance, not a help. Stateful structure with tests.</p>
        </article>
        <article id="article-7192">
            <a href="https://ayende.com/blog/2931/release-it" target="_blank">
                <h2 class="title mb-6" id="article-7192">Release It!</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 04, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Following Ted Neward&#x27;s recommendation, I got Michael Nygard&#x27;s Release It!&#xA0; it was worth it! It is rare to see a live blog from a book, but what the hell. I read this in about 8 hours, and I can&#x27;t recommend it enough. I am currently at chapter 5, but I had to stop and think about all the stability anti patterns that Chapter 4 has. More specifically, I had to think about all the stability anti patterns that I have put in my own code. The only thing that actually happened to me in production was an Unbounded Result Set, which had some nasty affects on performance, but not critically so. But as I am reading the stability anti patterns list, I am seeing more and more things that I am doing wrong. At least, they are wrong if I want to scale in a stable manner. It is another argument for the the simplest way ain&#x27;t the right way approach. There are a few books that I can think of that caused a fundamental change in the way that I am writing and designing software. But even at this point, I think that this is going to be one of them. I love this quote: Hope is not a design method. Data purging is a PITA. I run into issues with it just last week, we needed to remove unrelated data, and we didn&#x27;t take into account how things are handled in the application, basically, we removed rows in an ordered collection, which cause it to fail. I like the idea of a Test Harness, an application that simulate badly behaved network and integration points. Anyone is familiar with an existing one? Evaluating SMS for async messaging platform: message brokers are usually implemented with carbon and have extremely high latency Chapter 6 is interesting, it starts with explaining the &quot;one in a million in next Tuesday&quot; approach for unlikely issues. Astronomically unlikely coincidence happens every day. Something that Michael keeps repeating is that sessions are the bane of stability &amp; capacity, this is interesting. Even more interesting is real world experience of putting big sites out there, and what kind of environment they have to face. Specifically, the description of the unexpected access and the results from that are enlightening. It looks like you need to do some really nasty things in your QA environment, just to get things slightly like what they are for production. Interesting problem. Something that I can&#x27;t really make myself believe is requiring over a thousand database transactions to render the home page. Another good quote: A million dollars will pay for a lot of profiling and optimization in the application stack... Section 9.7 talks about the dangers of bypassing the OR/M layer for direct DB access because they can kill the site capacity, I wholly approve. The SQL that most OR/M tools generate is predictable, so it is very easy to optimize for that.&#xA0;Another important thing is that you need to develop against realistic data set. This usually mean building a data generator to spit some data at the DB.  Connection pooling is another strong theme in the book, which make me wonder. The CLR has both a thread pool and a connection pool, but they are on the background, I have needed to meddle with the thread pool in the past, but not with the connection pool. And I have heard very little about connection pools in .NET, while on the Java side, there seems to be one per project, I wonder why? It is that the default pool does enough to handle most scenarios that it is not necessary to do it? I didn&#x27;t know that Java had object pools, that sounds... weird. Especially if someone used the statement &quot;creating an object is the second most expensive thing you can do&quot; (the first being creating a thread). That is certainly not the case now, and I find it hard to believe that it was true then. &#xA0;Blamestorming &lt;- I love this term. Michael is certainly mentioning Akami quite a bit. On Chapter 14 now, talking about administration. That and transparency are two things that I am very interested to learn more about. He mentions the use of cmdline apps that allows to write admin scripts against the application, as well as startup verification and the ability to interrogate a funked server. Both are interesting. I have been thinking about including a boo interpreter in my project, so I could login to the application and directly &quot;debug&quot; it. I wonder how this can work for real. This would certainly allow me to access everything in the application, live. Configuration, and the importance of separating internal configuration (IoC settings) and application settings (database names), was mentioned, including the necessity to make the configuration understandable to the admin. He mentioned the problem of distributing configuration across multiply hosts, I wonder why not use a well known configuration service for that. There is a really good description about how they were able to get a system working by basically going in and setting properties on live instances. So I guess the idea of an interpreter isn&#x27;t that weird. There even a name for it, Recovery Oriented Computing. Another good quote: Last week is history only in IT and high fashion.  A startling number of business-level issues can be traced back to batch jobs failing invisibly for 33 days straight. Ouch! Ouch! Ouch! Been there, done that, ouch! Log file readability: Yes! Yes! Yes! Especially when the only interface into the system is the log file! Some good points how to make a log file readable, and good message logging. I like the discussion on superstitions as a survival trait. It seems that scriptability of a live application is a big thing in the Java space, with JMX being the standard way to do that. We don&#x27;t have anything like that for .NET, but I think that it should be simple enough to wire something up with Windsor and&#xA0;IRemoteQuackFu :-) Another alternative to Boo would be PowerShell, which admins are supposedly familiar with. On chapter 18, adaptation. I would call it maintainability, but I think it is the same thing. I like the view on integration databases:  Integration databases - don&#x2019;t do it! Seriously! Not even with views. Not even with stored procedures. Take it up a level, and wrap a web servicearound the database. Then make the web service redundant and accessed through a virtual IP. ... That&#x2019;s an enterprise integration technology. Reaching into another system&#x2019;s database is just...icky. I have been saying much the same thing for a long while now. Very icky indeed. The description of zero downtime deployment reminded me of the Erlang talk in JAOO, you have no consistent state, and you must deal with this. Final thought, design for production, not for QA Go and read this book, you really need it.</p>
        </article>
        <article id="article-7193">
            <a href="https://ayende.com/blog/2930/regex-vs-string-indexof" target="_blank">
                <h2 class="title mb-6" id="article-7193">Regex vs. string.IndexOf</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 03, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I send a piece of code to Justin, which dealt with doing some simple text parsing. His comment was:  text.Substring(lastIndex, currentIndex - lastIndex);  Dude, Regex, dude! This code reminds me of when I wrote an XML parser in ASP3 The reason that I used IndexOf there was performance, this piece of code is in the critical path, and I don&#x27;t think that Regex would give me much there. But Justin&#xA0;said that compiled Regex is more efficient than IndexOf, so I decided to check it. Here is my quick perf test: static void Main(string[] args)&#xA;{&#xA;&#x9;string testStr = &quot;select foo, bar, x, y, z, 5 from Items&quot;;&#xA;&#x9;int count = 500000;&#xA;&#x9;DateTime start = DateTime.Now;&#xA;&#x9;for (int i = 0; i &lt; count; i&#x2B;&#x2B;)&#xA;&#x9;{&#xA;&#x9;&#x9;int last = 0, current = 0;&#xA;&#x9;&#x9;while ((current = testStr.IndexOf(&#x27;,&#x27;, current)) != -1)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;string x = testStr.Substring(last, current - last);&#xA;&#x9;&#x9;&#x9;current = last = current &#x2B; 1;&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9;Console.WriteLine(DateTime.Now -start);&#xA;&#x9;start = DateTime.Now;&#xA;&#x9;Regex r = new Regex(&quot;,&quot;, RegexOptions.Compiled);&#xA;&#x9;for (int i = 0; i &lt; count; i&#x2B;&#x2B;)&#xA;&#x9;{&#xA;&#x9;&#x9;int last = 0, current = 0;&#xA;&#x9;&#x9;Match match = r.Match(testStr, current);&#xA;&#x9;&#x9;while (match.Success)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;current = match.Index;&#xA;&#x9;&#x9;&#x9;string y = testStr.Substring(last, current - last);&#xA;&#x9;&#x9;&#x9;current = last = current &#x2B; 1;&#xA;&#x9;&#x9;&#x9;match = r.Match(testStr, current);&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9;Console.WriteLine(DateTime.Now - start);&#xA;}&#xA;The results, on my machine:&#xA;&#xA;String.IndexOf:&#xA0;&#xA0; 00.2343750Compiled Regex: 01.4687500</p>
        </article>
        <article id="article-7194">
            <a href="https://ayende.com/blog/2929/herd-mentality-and-writing-compilers" target="_blank">
                <h2 class="title mb-6" id="article-7194">Herd Mentality and writing Compilers</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 03, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Quotes from a discussion with Justin:  I am using Active Record out of Herd Mentality, you are big enough to be considered a herd. And:  You are writing a compiler, this is just a state machine. Workflow Foundation is a state machine. You should use that to write the compiler.</p>
        </article>
        <article id="article-7195">
            <a href="https://ayende.com/blog/2928/runsharp-reflection-emit-for-mere-mortals" target="_blank">
                <h2 class="title mb-6" id="article-7195">RunSharp: Reflection Emit for Mere Mortals</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 03, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I have been dealing with IL generation using Reflection Emit for about two years. I believe that I have enough experience with it to get a feeling for how it goes, and it usually goes slowly and painfully. There are wrappers around it (Castle Dynamic Proxy has a AST for this), but they are fairly specialized, and anyone somehow I always find myself needing to fix the code that build the AST, mostly because I have users that throws weird curve balls at Rhino Mocks. Nevertheless, IL generation is a powerful technique, just very cumbersome to deal with. RunSharp&#xA0;is a OSS project that aims to solve this issue, it generate code on the fly, using high-level syntax. This means that you can write code like this: g.Assign(x, o.Invoke(&quot;MyMethod&quot;, arg1, arg2));&#xA;g.Assign(y, o.Property(&quot;MyProperty&quot;));&#xA;g.Assign(o.Property(&quot;MyProperty&quot;), z);&#xA;g.Assign(f, o.Field(&quot;myField&quot;));&#xA;And it will generate the appropriate:&#xA;x = o.MyMethod(arg1, arg2);&#xA;y = o.MyProperty;&#xA;o.MyProperty = z;&#xA;f = o.myField;&#xA;I am impressed, if this works, it can mean some very interesting possibilities. I took a very brief glance at the code, and it is using the ILGenerator from the framework, I would be very interested in getting this to work on (a) dynamic methods, (b) cecil.&#xA;The license is GPL, however, which means that it is a problem to use in any scenario. In my opinion, such a thing should be LGPL, which would allow its use in other projects, but that is a subject for another day.&#xA;Thanks Roy, for finding it.</p>
        </article>
        <article id="article-7196">
            <a href="https://ayende.com/blog/2927/retlang-concurrency-library-for-c" target="_blank">
                <h2 class="title mb-6" id="article-7196">Retlang - Concurrency Library for C#</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: November 01, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I have been investigating Retlang&#xA0;as a way to handle concurrency in Rhino ETL. There are quite a few samples there, but no over all explanation, I am going to document what I find as I learn them. Retlang is based on the concept of message passing in C#, a typical pub/sub infrastructure, within a single a process. As such, you always need to know where you are publishing to, and where to reply. The message header serves as a way to decouple the two. So you can build loosely coupled components that talks to each other by message passing. Obviously, my first step when evaluating a library is checking how well it plays with my own semantics, and I have to say that on first glance, Retlang looks really nice. I am starting to explore it, and I am impressed. There is, for me, a sense of very well designed API. In fact, I have encountered several instances of thinking &quot;I would have done it like this&quot;, only to encounter exactly that thing within the code. The minimal example is this one: IProcessContextFactory factory = new ProcessContextFactory();&#xA;factory.Start();&#xA;IProcessContext publisher = factory.CreateAndStart();&#xA;IProcessContext consumer = factory.Create();&#xA;consumer.Subscribe&lt;int&gt;(new TopicEquals(&quot;test&quot;), delegate (IMessageHeader header, int id)&#xA;{&#xA;    Console.WriteLine(id);&#xA;});&#xA;consumer.Start();&#xA;for (int i = 0; i &lt; 50; i&#x2B;&#x2B;)&#xA;{&#xA;    publisher.Publish(&quot;test&quot;, i);&#xA;}&#xA;consumer.Stop();publisher.Stop();consumer.Join();publisher.Join();factory.Stop();&#xA;&#xA;This just publish a list of numbers and print them, but it demonstrate several imprtant factors in Retlang. First of which, we have the publish / subscribe mechanism, but we also have the topic select which we pass to the subscribe method. This implementation is a very good one for extensibility, and it mimics Erlang&#x27;s pattern matching capabilities to a high degree.&#xA;Threading concerns:&#xA;I am not an expert yet, but as far as I can tell, each IProcessContext is running in its own thread, and the IProcessContextFactory has another thread as well, the bus thread. All the contextes screated from a single factory share the same bus space. This means that you probably do not want&#xA0;to&#xA0;have too many&#xA0;Process Contextes around, but you can register as many subscribiers as you want, and they will be routed appropriately. &#xA;Again, those are just my observations on how it works, from an initial survery only, so it is entirely possible (and probable) that I am entirely mistaken.</p>
        </article>
        <article id="article-7197">
            <a href="https://ayende.com/blog/2926/seeking-individuals-and-interactions-over-processes-and-tools" target="_blank">
                <h2 class="title mb-6" id="article-7197">Seeking: Individuals and interactions over processes and tools</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 31, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Over two years ago, I started working at We!. I wanted to work there mainly because during the interview I was very impressed by the amount of knowledge that the interviewer had. Looking back on the last couple of years, it has been a very good decision. I had the chance to work on interesting projects, work with very smart people, and do some crazy things. Mostly, I got to chance to make a lot of mistakes, learn from then and then make another set of mistakes. I also had a lot of fun, and the ability to say that I really enjoy what I was doing. Recently, We!&#xA0;has made a shift in the direction the developer division is headed, and now intends to focus primarily on business solutions. This translate to Share Point and MS CRM solutions. I have no experience in Share Point, so I can&#x27;t comment on that, but I believe that I expressed my opinions on MS CRM elsewhere quite clearly. The company is focusing on bigger projects, based on those platforms. Those are more profitable, but they are also of the assembly line variety, hook this, bridge that, fill in those gaps, etc. My interest lies elsewhere. I am interested in building applications in agile fashion, using TDD, DDD and ADD. From a business perspective, We!&#x27;s decision is probably extremely reasonable and smart, but it is simply not what I would like to do. I have been thinking about this for a while now, and I have finally made up my mind about it in the last couple of days. Unless something drastic changes, I intend to leave We! after we finish our current project (around January 2008, I believe). What does this mean? I want to take this chance and see how things are going elsewhere in the world, this means that I am leaning toward relocating.&#xA0;I have a good&#xA0;idea about what I want to do next, but nothing that is set in stone. I have already rejected a highly technical position, I am not interested in tech for tech&#x27;s sake. I believe that I have enough knowledge and experience to handle most technologies. What I would like to do now is working in an agile environment, in an agile team. I see the following options:  Independent consultant / trainer  Consultancy  Startup  Product team As always, I am interested in your opinions in this matter. Full disclosure note: I don&#x27;t have a degree, which I looks like can cause issues&#xA0;when getting a work visa.</p>
        </article>
        <article id="article-7198">
            <a href="https://ayende.com/blog/2925/the-brain-to-ide-interface" target="_blank">
                <h2 class="title mb-6" id="article-7198">The brain to IDE interface</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 31, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">It was mentioned on the ALT.Net mailing list, so I decided to build it, but the first results are not encouraging...</p>
        </article>
        <article id="article-7199">
            <a href="https://ayende.com/blog/2924/a-question-of-scale" target="_blank">
                <h2 class="title mb-6" id="article-7199">A question of scale</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 31, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I am using a different meaning to the terms &quot;scaling&quot; and &quot;scalable&quot;. I am usually not really worried about performance or scaling out a solution. I am often thinking about how I can take a certain approach and scale it out to the more complex scenarios. Dragging a table to the form as an example, doesn&#x27;t scale. It doesn&#x27;t scale because when you need to handle logic, you need to go into significant complexity just to get it. NHibernate does scale, because so far it handled everything that I threw at her without increasing the complexity of the solution beyond the complexity of the problem.   I think that this graph should explain it better. What we see here are the complexities of solutions vs. the complexity of the problem. The unscalable solution complexity increase more and more as the complexity of the problem grows.  The scalable solution&#x27;s complexity increase as well, but it increase in direct relationship to the problem at hand. If we need to have a problem twice a complex, then the solution will be about twice as complex. It can&#x27;t be less than twice as complex, because you can&#x27;t escape the complexity, but the other solution is nine times as complex, and the difference between the two only grows when the problem gets more complex. And that is how I evaluate most of the things that I use. Do they scale? Will I be able to handle more complex scenarios without tool-induced pain? The solution is allowed to be complex because the problem that we are trying to solve is complex. It must not be complex because the tool that I am using need crutches to handle complex scenarios.</p>
        </article>
        <article id="article-7200">
            <a href="https://ayende.com/blog/2923/embracing-fluent-interfaces" target="_blank">
                <h2 class="title mb-6" id="article-7200">Embracing fluent interfaces</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 31, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Jeff Atwood&#xA0;is talking about languages in languages, and suggest that you would avoid using fluent interfaces to hide a language semantics. I completely disagree. Let us talk about the example. The first one deals with regular expressions: //Regular expression&#xA;Pattern findGamesPattern = new Pattern(@&quot;&lt;div\s*class=&quot;&quot;game&quot;&quot;\s*id=:&quot;(?&lt;gameID&gt;\d&#x2B;)-game&quot;&quot;(?&lt;content&gt;.*?)&#xA;&lt;!--gameStatus\s*=\s*(?&lt;gameState&gt;\d&#x2B;)--&gt;&#xA;&quot;);&#xA;&#xA;// Fluent interface&#xA;Pattern findGamesPattern = Pattern.With.Literal(@&quot;&lt;div&quot;)&#xA;    .WhiteSpace.Repeat.ZeroOrMore&#xA;    .Literal(@&quot;class=&quot;&quot;game&quot;&quot;&quot;).WhiteSpace.Repeat.ZeroOrMore.Literal(@&quot;id=&quot;&quot;&quot;)&#xA;    .NamedGroup(&quot;gameId&quot;, Pattern.With.Digit.Repeat.OneOrMore)&#xA;    .Literal(@&quot;-game&quot;&quot;&quot;)&#xA;    .NamedGroup(&quot;content&quot;, Pattern.With.Anything.Repeat.Lazy.ZeroOrMore)&#xA;    .Literal(@&quot;&lt;!--gameStatus&quot;)&#xA;    .WhiteSpace.Repeat.ZeroOrMore.Literal(&quot;=&quot;).WhiteSpace.Repeat.ZeroOrMore&#xA;    .NamedGroup(&quot;gameState&quot;, Pattern.With.Digit.Repeat.OneOrMore)&#xA;    .Literal(&quot;--&gt;&quot;);&#xA;I can read the fluent interface, but I need to parse the regex pattern. There are tradeoffs there, because as a regex gets more complex, it is getting unreadable. The fluent interface above keep it maintainable even for complex regular expression.&#xA;The second example deal with SQL:&#xA;// Embdded language&#xA;IDataReader rdr = QueryDb(&quot;SELECT * FROM Customer WHERE Country = &#x27;USA&#x27; ORDER BY CompanyName&quot;);&#xA;&#xA;// Fluent interface&#xA;IDataReader rdr = new Query(&quot;Customer&quot;)&#xA;&#x9;.WHERE(Customer.Columns.Country, &quot;USA&quot;)&#xA;&#x9;.OrderByAsc(Customer.Columns.CompanyName)&#xA;&#x9;.ExecuteReader();&#xA;Here it is much easier to read the SQL statement, right? Except that the statements are not equal to one another. Using &quot;select *&quot; is inefficient, you want to explicitly&#xA0;say what columns you want (even if you want them all).&#xA;Nevertheless, the SQL code is much easier to read. It doesn&#x27;t handle parameters, though, so it will probably encourage SQL injection, but I digress.&#xA;So, we have two examples, which mostly go in two different direction, we are inconclusive, right?&#xA;No, because one thing that Jeff didn&#x27;t cover was logic.&#xA;I have a regular expression that need to change based on some sort of logic. Imagine validating a document with several options, validating ID per country, validating phone numbers by area, validating email address that belong to a certain company, etc. Even if we have only three choices in each category, this put us in way too many separate regexes to maintain. We need to construct them dynamically.&#xA;Now, anyone here thinks that regular expressions that are being constructed using string concat are going to be easy to understand? Easy to write? Maintainable?&#xA;What about SQL? Do you think that you can build this search form&#xA0;by simply concating SQL? Do you think it would be maintainable?&#xA;I am sorry, but I don&#x27;t see this approach working when you move beyond the static, one of, stuff. Sure, I write a lot of SQL to look at my data, but it is done in management studio, and it doesn&#x27;t go into my application. I can&#x27;t afford the maintainability issues that this will cause.</p>
        </article>
        <div class="button flex justify-between">
            <a href="719.html"><span class="back arrow"></span></a>

            <a href="721.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>
</body>
</html>