
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 662 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-6611">
            <a href="https://ayende.com/blog/3427/how-did-i-get-started-in-software-development" target="_blank">
                <h2 class="title mb-6" id="article-6611">How did I get started in software development?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 21, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Ryan Lanciaux has tagged me, so I guess I really don&#x27;t have a choice  How old were you when you first started programming?  Depending on how you define programming, I remember playing with Logo and that annoying turtle at 8 or 9, using a machine that was old for the time, and using floppies that where about 30 cm square (never seen them before or after).  How did you get started in programming?  I was bored and programming was a way to do stuff with the computer that didn&#x27;t required being online. At the time, being online cost a fortune, so I really had to limit myself, programming helped. Thinking back, I burned a lot of hours on trying to figure this out.  What was your first language?  Probably BASIC or Pascal, if you want to discount Logo. I remember being very frustrated with programming, because I hit a ceiling in my understanding of programming, and I wasn&#x27;t not able to go over it. Throughout high school, I was simply unable to understand dynamic memory allocation. After high school I took a course at C &amp; C&#x2B;&#x2B;, and then it was: &quot;Oh, of course, it makes a lot of sense&quot;.  What was the first real program you wrote?  Hm, good question. The first that I would define as an Application, rather than just a bunch of code was an online forum, then still called BBS (although it run on http). I had a lot of fun building that, but thinking back, it was scary.  What languages have you used since you started programming?  Another complex question. What is used?  Written applications at: C#, obviously, VB3,4 and 6, C and C&#x2B;&#x2B;, PHP. Perl.  By that standard, I never used VB.Net, but I wouldn&#x27;t say that I don&#x27;t know it.   What was your first professional programming gig?  Writing a website for a printing company. The pay was lousy, but the job was a dream. I was getting paid to play around in the computer, heaven!  If you knew then what you know now, would you have started programming?  Yes, no question about that.  If there is one thing you learned along the way that you would tell new developers, what would it be?  If you didn&#x27;t get it to fail, you haven&#x27;t done anything. The only way to learn is to fail, and after it has failed, fix it.   Oh, and read the bloody error message.  What&#x27;s the most fun you&#x27;ve ever had programming?  Writing Rhino Mocks, I would say. That was a purely intellectual exercise at the time, but it was a lot of fun coming up with the design and making it work. I remember capturing two of my soldiers and having a do a design review. None of them was a programmer, or a technical person by any means, but it was very useful. I was teased about that for years :-)</p>
        </article>
        <article id="article-6612">
            <a href="https://ayende.com/blog/3426/the-small-difference-between-ok-code-and-good-code" target="_blank">
                <h2 class="title mb-6" id="article-6612">The small difference between OK Code and Good Code</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 21, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This is OK code:     def LockItem(itemKey as string):&#xA;&#x9;while true:&#xA;&#x9;&#x9;result = PUT( &quot;lock of &quot;&#x2B;itemKey, &quot;requiredValue&quot; )&#xA;&#x9;&#x9;break if result is SuccessfulUpdate&#xA;&#x9;&#x9;// we don&#x27;t sleep, the remote call take care of spacing the calls in time&#xA;&#xA;&#xA;And this is good code:&#xA;&#xA;&#xA;  def LockItem(itemKey as string):&#xA;&#x9;while true:&#xA;&#x9;&#x9;result = PUT( &quot;lock of &quot;&#x2B;itemKey, clientName )&#xA;&#x9;&#x9;break if result is SuccessfulUpdate&#xA;&#x9;&#x9;// we don&#x27;t sleep, the remote call take care of spacing the calls in time&#xA;&#xA;&#xA;The only difference is with the value we set, and that is never used by the application.&#xA;&#xA;Why is this important?</p>
        </article>
        <article id="article-6613">
            <a href="https://ayende.com/blog/3425/patterns-for-using-distributed-hash-tables-locking" target="_blank">
                <h2 class="title mb-6" id="article-6613">Patterns for using distributed hash tables</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 20, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Here is another post in my series on using Distributed Hash Tables (DHT).  The previous ones are:            Distributed in memory cache / storage              Patterns for using distributed hash tables: Groups      In this post, I would like to handle locking. As I mentioned in the previous post in the series, updating a single item safely can be done using optimistic concurrency techniques. Updating more than a single item is... harder. Let us go over some of the issues that we have while implementing locking on a DHT. Some of them are common to locks everywhere, others are unique to using a distributed solution.     Locks are voluntary    Deadlocks    Orphaned locks    Dead nodes    More (expensive) Remote calls   The first issue that we have to face is the problem that locks are voluntary. There is nothing stopping you from making a modification to an item without taking a lock. This is a matter of being careful how you write the code.  The second is the age old issue of deadlocks. If I take lock A and than wait for B, while you took B and wait for A, we are going to have a problem. Even worse, since the DHT doesn&#x27;t even have the concept of locks, we don&#x27;t get deadlock detection such as we would get with DB transactions, and our facilities to diagnose that are far poorer.  Orphaned locks happen when a client have acquired a lock, but crashed before it could release it. In this case, the DHT has no idea that something happened, but the applicative protocol is broken, and we will soon have dead locked clients all over the place. Even if the client restarts, it will not know that it need to release the lock.  Dead nodes are a particularly interesting problem, this happen when the node that contained the lock in the DHT has crashed. Effectively erasing the lock.   The last problem is that dealing with locks means that we now have to make to make more remote calls. We need to add two more remote calls (acquire the lock and release it) for each item we are dealing with.  Let us start planning our locking strategy and see how we can handle this.  Simple locking  The basic of locking in a DHT is a simple convention. We assume that the existence of &quot;lock of [item key]&quot; means that the item is locked.There for, we can now write the following code to acquire and release the lock.     def LockItem(itemKey as string):&#xA;&#x9;while true:&#xA;&#x9;&#x9;result = PUT( &quot;lock of &quot;&#x2B;itemKey, clientName )&#xA;&#x9;&#x9;break if result is SuccessfulUpdate&#xA;&#x9;&#x9;// we don&#x27;t sleep, the remote call take care of spacing the calls in time&#xA;&#xA;&#xA;And releasing the lock is simply:&#xA;&#xA;&#xA;  def ReleaseLock(itemKey as string):&#xA;&#x9;DEL &quot;lock of &quot;&#x2B;itemKey&#xA;&#xA;&#xA;Note that a version with a timeout is obviously something you would like to have, but I&#x27;ll leave it for the reader to implement. Here we rely on that PUT will fail if the item is already in the cache. We simply retry until we are able to acquire the lock.&#xA;&#xA;Now the code for handling updates of related items is as followed:&#xA;&#xA;&#xA;  def AddNewItem(newItem):&#xA;&#x9;LockItem(&quot;most recent news&quot;)&#xA;&#x9;LockItem(&quot;all news&quot;)&#xA;&#xA;&#x9;mostRecentItems = GET &quot;most recent news&quot;&#xA;&#x9;allNews = GET &quot;all news&quot;&#xA;&#x9;&#xA;&#x9;mostRecentItems.Add(newItem)&#xA;&#x9;allNews.Add(newItem)&#xA;&#xA;&#x9;SET &quot;most recent news&quot;, mostRecentItems&#xA;&#x9;SET &quot;all news&quot;, allNews&#xA;&#xA;&#x9;ReleaseLock(&quot;most recent news&quot;)&#xA;&#x9;ReleaseLock(&quot;all news&quot;)&#xA;&#xA;&#xA;Obviously this ignores the issue of handling failures, but this is good pseudo code. Speaking of failures, what will happen if we are now waiting for &quot;all news&quot; to be locked? We are currently locking &quot;most recent news&quot;, which means that if another client want to update just that, it is likely in a bit of a problem. We need a slightly smarter strategy to handle lock acquisition issues.&#xA;&#xA;Locking acquisition strategy&#xA;&#xA;I&#x27;ll start by saying that this is a topic of deep research, and I am just spouting off, so feel free to head to the nearest academic paper which will tell you how it ought to be done, with all the implications.&#xA;&#xA;Basically, the idea of acquiring&#xA0; each lock one at a time is not a good idea at all. What we want is to be able to batch lock all the items we are interested at. However, we can&#x27;t do that, since they may very well reside on different machines. We can simulate that and get a slightly better approach for locking as well. Note that we are still not handling timeouts, that is still your job to implement.&#xA;&#xA;&#xA;  def AcquireLocks( itemsToLock as (string) ) as IDisposable:&#xA;&#x9;while true:&#xA;&#x9;&#x9;for i in range(len(itemsToLock)):&#xA;&#x9;&#x9;&#x9;result = PUT(&quot;lock of &quot; &#x2B; itemsToLock[i], clientName)&#xA;&#x9;&#x9;&#x9;if result is not SuccessfulUpdate:&#xA;&#x9;&#x9;&#x9;&#x9;for j in range(i):&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;DEL &quot;lock of &quot; &#x2B; itemsToLock[j]&#xA;&#x9;&#x9;return DisposableAction:&#xA;&#x9;&#x9;&#x9;for item in itemsToLock:&#xA;&#x9;&#x9;&#x9;&#x9;DEL &quot;lock of &quot; &#x2B; item&#xA;&#x9;&#x9;&#x9;&#xA;&#xA;&#xA;Note that we have a very simple back off strategy. If we failed to acquire any of the locks that we need, we will release all the locks that we have acquired so far, and try again. This means that we have reduced the chance of a deadlock. (It is actually still possible, if two clients try to acquire two list of items that are inverse to one another and long enough, to still have a deadlock in this situation).&#xA;&#xA;The code for using this is simple:&#xA;&#xA;&#xA;  def AddNewItem(newItem):&#xA;&#x9;using AcquireLock(&quot;most recent news&quot;, &quot;all items&quot;):&#xA;&#xA;&#x9;&#x9;mostRecentItems = GET &quot;most recent news&quot;&#xA;&#x9;&#x9;allNews = GET &quot;all news&quot;&#xA;&#x9;&#x9;&#xA;&#x9;&#x9;mostRecentItems.Add(newItem)&#xA;&#x9;&#x9;allNews.Add(newItem)&#xA;&#x9;&#xA;&#x9;&#x9;SET &quot;most recent news&quot;, mostRecentItems&#xA;&#x9;&#x9;SET &quot;all news&quot;, allNews&#xA;&#xA;&#xA;Note the using statement, when Dispose is call, the code that we have in DispoableAction will be invoked, releasing all our locks.&#xA;&#xA;Now we are safe with regard to failure. Or are we? What happen if we crash after we took the lock but before we could release it?&#xA;&#xA;Timed locks&#xA;&#xA;We can&#x27;t assume that once a client acquired a lock, it will release it. And not amount of code review can guarantee that. If the client crashed, whatever error recovery code that we have there isn&#x27;t going to run. (And to be clear, crashed, in this instance, may simply mean that the client lost connectivity because the admin stepped on the LAN cable. Code review that!)&#xA;&#xA;We need some way to recover from such orphaned locks. But the DHT doesn&#x27;t have the concept of locking. There is no way we can get it to clear our locks for us. Or is there?&#xA;&#xA;One of the properties of most DHT is the ability to expire an item (this is usually the case because DHT are very close to distributed caches). We can modify out lock to include an expiration date. This will mean that we get out of orphaned locks and do not have to worry about them. Our lock code now looks like this:&#xA;&#xA;&#xA;  def LockItem(itemKey as string):&#xA;&#x9;while true:&#xA;&#x9;&#x9;result = PUT( &quot;lock of &quot;&#x2B;itemKey, clientName, TimeSpan.FromMinutes(1) )&#xA;&#x9;&#x9;break if result is SuccessfulUpdate&#xA;&#xA;&#xA;We have defined an expiry, and the worst that can happen is that an orphaned lock will hang around for a short time (actually, 1 minute is a long time, but we have a reason for that) and automatically release itself if not released. The reason for choosing a relatively long time for that is that you really don&#x27;t want to have the lock expire on you (and have someone snick &quot;behind your back&quot; and update items that you thought you owned). There is a balancing act here, we want to keep the lock time short, so an orphaned lock will release itself, but at the same time, if it is too short, if our code takes longer than average, the lock may expire on us. I&#x27;ll let you decide on the appropriate value on your own.&#xA;&#xA;But there is actually another problem with the AcquireLocks method. A pretty big one.&#xA;&#xA;Violating the First Fallacy of Distributed Computing&#xA;&#xA;Violating the Fallacies of Distributed Computing is a Bad Idea. How did we do it in the AcquireLocks method?&#xA;&#xA;&#xA;  return DisposableAction:&#xA;&#x9;for item in itemsToLock:&#xA;&#x9;&#x9;DEL &quot;lock of &quot; &#x2B; item&#xA;&#xA;&#xA;We based our code on the first fallacy, the network is reliable. Here, an error in releasing one of the locks means that we aren&#x27;t releasing any of the others.&#xA;&#xA;Why am I pointing this out? There are a lot of problems with the code above. It is pseudo code, not meant to be real production code, after all. I am pointing this out because it is important to spot and understand these kind of issues. There isn&#x27;t a problem with the pseudo code, but when I looked at it, the issue jumped at me, and it is important enough to point out, in hope it will help you get into the habit of spotting this kind of issues.&#xA;&#xA;Lock ordering&#xA;&#xA;I mentioned in passing that even the lock back off strategy that we have above is vulnerable to dead locks under certain conditions. This is the issue when you have unordered lock acquisition. A very simple solution to the problem would be to order the locks before acquiring them. This ensures that all the items are always locked in the same order, preventing us from getting into a deadlock.&#xA;&#xA;The code is trivial.&#xA;&#xA;&#xA;  def AcquireLocks( itemsToLock as (string) ) as IDisposable:&#xA;&#x9;Array.Sort(itemsToLock)&#xA;&#x9;while true:&#xA;&#x9;&#x9;for i in range(len(itemsToLock)):&#xA;&#x9;&#x9;&#x9;result = PUT(&quot;lock of &quot; &#x2B; itemsToLock[i], clientName)&#xA;&#x9;&#x9;&#x9;if result is not SuccessfulUpdate:&#xA;&#x9;&#x9;&#x9;&#x9;for j in range(i):&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;DEL &quot;lock of &quot; &#x2B; itemsToLock[j]&#xA;&#x9;&#x9;return DisposableAction:&#xA;&#x9;&#x9;&#x9;for item in itemsToLock:&#xA;&#x9;&#x9;&#x9;&#x9;DEL &quot;lock of &quot; &#x2B; item&#xA;&#x9;&#x9;&#x9;&#xA;&#xA;&#xA;We just added a sort. But the affect is profound.&#xA;&#xA;Once we have mastered simple locks, the next thought is usually of consistency. This is a problematic topic, so let us discuss this in depth.&#xA;&#xA;Data Consistency &#xA;&#xA;Using the code above, we don&#x27;t have any assured consistency for the data. What?! I can hear you ask, we are using locks to get the data, obviously we are maintaining consistency. Well, not quite. The issue that we have here is that we lock for writes, but not for reads. Locking for reads would serialize all access to the data, and we really don&#x27;t want to do that.&#xA;&#xA;Let us see what I mean by inconsistent data. Using the AddNewItem code above, it is entirely possible that I will execute the following piece of code and get a failure:&#xA;&#xA;&#xA;  recentItems = GET (&quot;most recent news&quot;)&#xA;allItems = GET(&quot;all items&quot;)&#xA;&#xA;for item in recentItems:&#xA;&#x9;assert item in allItems&#xA;&#xA;&#xA;The reason is that we grab &quot;all items&quot; before it was updated. As I mentioned, we really do not want to lock on each read, the reason for that is simple, we would serialize all access and bring the application to a halt. We need a better approach. We need the reader writer lock.&#xA;&#xA;Reader Writer Locks&#xA;&#xA;The reader writer lock is a simple concept. We can have many readers, single writer for any particular item. We acquire a read lock when we read the item, and a write lock when we want to write to it. This way, we can be safe that we can get the data in a consistent manner. The implementation of that requires two new API calls that I haven&#x27;t talked about so far:&#xA;&#xA;&#xA;  INC key&#xA;    Will increment the value of a numeric item in the DHT by one.&#xA;&#xA;  DEC key&#xA;    Will decrement the value of a numeric item in the DHT by one.&#xA;&#xA;&#xA;These calls aren&#x27;t strict necessary, we can simulate them using UPDATE, but they save a lot of potential remote calls, so they are very valuable. Given them, we now define the following semantics:&#xA;&#xA;&#xA;  &quot;read lock of [item key]&quot; is the read lock, whose value is the number of current readers&#xA;&#xA;  &quot;write lock of [item key]&quot; is the write look, value is ignored, only the existence matter&#xA;&#xA;&#xA;Given that, we can build the API like this:&#xA;&#xA;&#xA;  def AcquireReadLock(itemKey as string):&#xA;&#x9;while true:&#xA;&#x9;&#x9;INC &quot;read lock of &quot; &#x2B; itemKey // state intention to start reading&#xA;&#x9;&#x9;result = GET(&quot;write lock of &quot;&#x2B;itemKey)&#xA;&#x9;&#x9;break if result is null&#xA;&#x9;&#x9;DEC &quot;read lock of &quot; &#x2B; itemKey // release read lock&#xA;&#x9;&#x9;while result is not null: // wait until write lock is not held&#xA;&#x9;&#x9;&#x9;result = GET(&quot;write lock of &quot;&#x2B;itemKey)&#xA;&#xA;def AcquireWriteLock(itemKey as string):&#xA;&#x9;while true://acquire write lock&#xA;&#x9;&#x9;result = PUT(&quot;write lock of &quot; &#x2B;itemKey)&#xA;&#x9;&#x9;break if result is SuccessfulUpdate&#xA;&#x9;while true:// wait until there are no more readers&#xA;&#x9;&#x9;result = GET(&quot;read lock of &quot; &#x2B; itemKey)&#xA;&#x9;&#x9;break if result == 0&#xA;&#x9;&#x9;&#xA;def ReleaseWriteLock(itemKey as string):&#xA;&#x9;DEL &quot;write lock of &quot; &#x2B; itemKey&#xA;&#x9;&#xA;def ReleaseReadLock(itemKey as string):&#xA;&#x9;DEC &quot;read lock of &quot; &#x2B; itemKey&#xA;&#xA;&#xA;Using this approach, we can read and write fairly easily without worrying about consistency.&#xA;&#xA;Yet another violation of the first fallacy!&#xA;&#xA;But wait, we have a big problem here. This code assumes that all parties play well, and we still have this IT admin that likes to trip on the LAN cables. How do we recover from such a thing?&#xA;&#xA;Frankly, using the API most DHT will give us, we can&#x27;t. At least I can&#x27;t think of any way of implementing reader writer lock safely in the face of crashing clients. What we need is this API:&#xA;&#xA;&#xA;  INC key, guid, expriation&#xA;&#xA;  DEC key, guid&#xA;&#xA;&#xA;This API will ensure that DHT will, on incrementing a value, will decrement it when the expiration has passed. However, since we might want to decrement that manually, in which case the expiration no longer apply, we need the guid as well. We pass the same guid to the DHT to tell it that it can cancel the decrement request that we have created when incrementing with an expiry.&#xA;&#xA;As I said, this API doesn&#x27;t exists, but it is trivial to build.&#xA;&#xA;I spoke quite a bit about relying the first fallacy of distributed computing, but I ignored the fact that I am relying on the second one: Latency is zero. &#xA;&#xA;Using locks has significantly increased the amount of remote calls that we need to make. This is a problem. But not an insurmountable one. We can deal with that by giving locks a special treatment.&#xA;&#xA;Lock locality&#xA;&#xA;Lock locality refers to the location of the lock of an item in the DHT. If we treat the lock as just another item, the lock may reside on any node in the DHT. This lead us to the requirement of making several remote calls, to several different nodes, and to the possibility of dead nodes leaving us with abandoned locks.&#xA;&#xA;Both issues can be handled by always putting the lock on the node the item reside on. This was, even if the node is dead, the locks it held are gone together with its items, so we deal with it in the same way we would deal with any dead node, no special treatment required for the case of using a lock.&#xA;&#xA;There is also another advantage here. We can use batched calls to ensure lock &amp; get or put &amp; release in the same remote call. Again, this is not something that your typical DHT will support, but it is something that I consider essential for any out of process calls, including DHT.&#xA;&#xA;Rethink your options&#xA;&#xA;Now, after spending so much time talking about locking strategies for DHT, I&#x27;ll point out that if you are heading this way you need to stop and think about what you are doing. In general, it is tolerable to have momentary inconsistency in the data. I would strongly suggest against applying locking as a general approach to using a DHT.&#xA;&#xA;In particular, I suggest taking a look at Amazon Dynamo to see what the constraints that they are facing.&#xA0; One of the more interesting constraints is that there are no operations that are composed of more than a single item. Their approach for consistency, for that matter, is extremely interesting.</p>
        </article>
        <article id="article-6614">
            <a href="https://ayende.com/blog/3424/the-difference-between-derivation-and-innovation" target="_blank">
                <h2 class="title mb-6" id="article-6614">The difference between derivation and innovation</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 20, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Occasionally people ask me what I think of tech X or tech Y. Usually it is something new that just came out and made a lot of noise in the blogshpere. My response is usually something along the line that: &quot;I seen the promo, but it has the same plot as all others, so I skipped it.&quot;  It tends to surprise people.   Let me try to explain this with a bit more depth. The first problem that we have to deal with is that there is only so much that one can learn. As such, I have made a decision a while ago that I&#x27;ll dedicate time to learn about new innovations, but will skip derivations until I actually need to use them.  There are a lot of new projects that are just another version of something that is out there, and in that case, they are not really interesting to me. If it is something new, it is interesting. If it is another variation, it isn&#x27;t. If &amp; when I need it, I&#x27;ll learn the API and that would be about it. I am already familiar with the concept, so there shouldn&#x27;t be an issue there.  I would have given an example here, but I have a long experience in examples back firing on me. Therefor, let us say that somebody come up with a new distributed queuing infrastructure. And they have Ajax support and it is the best new thing.  For myself, there are several issues with dedicating too much time to something like that. I already understand queues, and how to utilize them in my applications. There isn&#x27;t anything conceptually new here. Therefor, I&#x27;ll read the blurb, maybe read a post or two about the highlights, if they aren&#x27;t copy &amp; paste from the release announcement, and that would be it, until and when I need to use this.  Now, on the other hand, enough derivation is innovation. And small things can make a lot of difference. As a simple example, Binsor isn&#x27;t really interesting in itself, it is yet another way to configure the container. The power that Binsor has gave way to a whole new way of thinking about configuring the container.  So yes, there is a chance to miss something important, but on the whole, I find that it is only after I actually used something for production, I can tell you what the real value is.</p>
        </article>
        <article id="article-6615">
            <a href="https://ayende.com/blog/3423/patterns-for-using-distributed-hash-tables-groups" target="_blank">
                <h2 class="title mb-6" id="article-6615">Patterns for using distributed hash tables</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 20, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Yesterday&#x27;s post called them distributed in memory cache / storage, but I was reminded that the proper term for what I am talking about is distributed hash tables (DHT).  I presented the problem of dealing with DHT in this post, mainly, the fact that we have only key based access and no way to compose several actions into a single transaction. I&#x27;ll let you go read that post for all the gory details, and continue on with some useful patterns for dealing with this issue.  As a reminder, here is the API that we have:     SET key, data, expiration     Set the key value pair in the DHT    PUT key, data, expiration      Will fail if item is already in DHT    GET key      Will return null if item is not in DHT or if expired     DEL key      Delete the key from the DHT     UPDATE key, data, version      Update the item if the version matches    Now, let us explore the some of the more useful patterns we need to deal with. We will start with grouping of items.  One of the more annoying properties of key based access methods is... key based access. We have no way to perform a query (well, this is actually inaccurate, but we will touch it later).  Let us assume that we want to get the recent posts from the cache. How are we going to do that? Using SQL, it is very easy:      SELECT TOP 10 * FROM News ORDER BY PublishedDate DESC&#xA;&#xA;&#xA;We don&#x27;t have anything similar using the API above. What we have instead is key based access, and it turn out we can use that to create groups, which are very useful.&#xA;&#xA;A group is simple a key value pair where the value contains a list of keys. In the case of the query above, we can represent it using:&#xA;&#xA;&#xA;  newsItems = List()&#xA;foreach news_id in GET(&quot;most recent news&quot;):&#xA;&#x9;item = GET(news_id)&#xA;&#x9;continue if item is null // deleted news item&#xA;&#x9;newsItmes.Add(item)&#xA;&#xA;&#xA;The group itself would be:&#xA;&#xA;&#xA;  {&#xA;  &quot;most recent news&quot; :&#xA;&#x9;[&#xA;&#x9;&#x9;&quot;NewsItem#15&quot;,&#xA;&#x9;&#x9;&quot;NewsItem#16&quot;,&#xA;&#x9;&#x9;&quot;NewsItem#17&quot;&#xA;&#x9;]&#xA;}&#xA;&#xA;&#xA;But wait, why do we have to have groups, don&#x27;t we violate a basic law of distributed work? SELECT N&#x2B;1 ? Remember, each GET is a remote call. In this case, we make 4 remote calls, but what if we have 100 items in the recent news?&#xA;&#xA;A better approach for this would be to put the item data in the group directly, like this:&#xA;&#xA;&#xA;  { &#xA;&#x9;&quot;most recent news&quot; : &#xA;&#x9;&#x9;[ &#xA;&#x9;&#x9;&#x9;&quot;astounding occurrences in...&quot;,&#xA;&#x9;&#x9;&#x9;&quot;amazing revelations...&quot;,&#xA;&#x9;&#x9;&#x9;&quot;you are feeling sleepy...&quot;&#xA;&#x9;&#x9;]&#xA;}&#xA;&#xA;&#xA;Here, we have a single remote call, and we get all the data that we need. Much better, isn&#x27;t it?&#xA;&#xA;Well, sort of. The problem that we face now is that now we need to track what we are doing with regards to the most recent news. Let us say that we need to update an article. We most certainly want this update to be reflected in the most recent news as well. But in order to do that, we need to track that we put the article in the most recent news, and extending this sample a bit toward other groups that we may have in our applications, we can see that this quickly becomes an unmanageable problem.&#xA;&#xA;By storing just the keys to other items in the list, we can now handle updates by updating a single key value pair, instead of updating a lot of separate items. In fact, this problem has a name, normalization / de-normalization. The tradeoffs of those are very well understood.&#xA;&#xA;Actually, I wasn&#x27;t as honest with you as I could be. The worst case scenario for this approach is not N &#x2B; 1, it is (N modulus M) &#x2B;1, where N is the number of items in the list, and M is the number of nodes in the DHT. The reason for that is that all DHT support some form of batch GET, so the following piece of pseudo code is a generic way to get a group from a DHT in as performant way as possible.&#xA;&#xA;&#xA;  def GetGroup(groupName as string):&#xA;&#x9;items = GET(groupName)&#xA;&#x9;return EmptyList if items is null&#xA;&#x9;itemsByNode = GroupKeysByNode(items)&#xA;&#x9;futures = List()&#xA;&#x9;for kvp in ItemsByNode:&#xA;&#x9;&#x9;futureGet = GET_ASYNC(kvp.Node, kvp.Items.ToArray())&#xA;&#x9;&#x9;futures.Add(futureGet)&#xA;&#x9;WaitForAll(futures)&#xA;&#x9;results = List()&#xA;&#x9;for futureGet in futures:&#xA;&#x9;&#x9;for item in futureGet.Results:&#xA;&#x9;&#x9;&#x9;results.Add(item) if item is not null&#xA;&#x9;return results&#xA;&#xA;&#xA;There are other optimizations we can make, but this one hits about as many of them as we can hope to without becoming very complex.&#xA;&#xA;Now, remember the problem statement in the first post in this series, we have multiple clients working against the DHT in parallel. Let us assume that we have two clients that want to add an item to the most recent items. We want to preserve data integrity, so this is something that we need to think about. The way this is done is very simple:&#xA;&#xA;&#xA;  while true:&#xA;&#x9;mostRecentItems, mostRecentItemsVersion = GetGroupWithVersion(&quot;most recent items&quot;)&#xA;&#x9;mostRecentItems.Add( GenerateCacheId(newItem) )&#xA;&#x9;result = UPDATE(&quot;most recent items&quot;, mostRecentItems, mostRecentItemsVersion)&#xA;&#x9;break if result is SuccessfulUpdate&#xA;&#xA;&#xA;Basically, we make a compare and exchange call, so if someone else snuck in and update the recent items group while we were doing it, we will simply fetch the list again and retry. A classic case of optimistic concurrency.&#xA;&#xA;The problem occurs when we need to ensure mutual updates to two or more groups (or just two or more items in the DHT). Now, just using optimistic concurrency will not save us, because we don&#x27;t have a way to control updates over two items (which may very well reside on different nodes). This will be the subject of my next post.</p>
        </article>
        <article id="article-6616">
            <a href="https://ayende.com/blog/3422/distributed-in-memory-cache-storage" target="_blank">
                <h2 class="title mb-6" id="article-6616">Distributed in memory cache / storage</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 19, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Let us start by defining the difference between cache and storage. A cache may decide to evict items whenever it feels like, a storage will only do so at well defined points.  As a simple example, this is legal for a cache:     PUT &quot;foo&quot;, &quot;item data&quot;&#xA;result = GET &quot;foo&quot; &#xA;assert result is null&#xA;&#xA;&#xA;The cache contract means that it &quot;might&quot; preserve values, or it might not, it is the cache choice. A storage contract make the above code illegal. It may never happen. Most cache solutions have a way to specify priorities, including the &quot;do not evict&quot; flag, which makes them into good storage solutions. &#xA;&#xA;For now, we will assume the same API for both storage and cache, and assume that we have&#xA0; flag to turn it this way or that. We need to figure out what is the contract we are working with in the first place. Distributed &amp; in memory means that we have no practical memory limit and we do not care much for disk access times. Distributed does mean that we have remote calls penalty, but in general it means that we don&#x27;t have to wait for disk, as we would have to in many DB based solutions.&#xA;&#xA;We will go over the API first. Note that I am using an abstract API (suspiciously similar to the Memcached one, I know), which most cache/storage solution would support.&#xA;&#xA;&#xA;  PUT key, data, expiration&#xA;    Will fail if item is already in cache&#xA;&#xA;  GET key&#xA;    Will return null if item is not in cache or if expired&#xA;&#xA;  DEL key&#xA;    Delete the key from the cache&#xA;&#xA;  UPDATE key, data, version&#xA;    Update the item if the version matches&#xA;&#xA;&#xA;We assume that the storage reside on multiple machines, which means that we have several interesting problems to deal with when we deal with the storage .&#xA;&#xA;&#xA;  We are, by definition, working in a threaded environment.&#xA;&#xA;  The cache offer no way to lock items&#xA;&#xA;  The set of items we need to perform a single operation may reside on different machines.&#xA;&#xA;  As a result, Each operation is distinct from any other operation, there is no way to batch several operations into a distinct operation. In other words, we don&#x27;t have transactions.&#xA;&#xA;&#xA;Think about the implications of this for a moment, will you? &#xA;&#xA;Let us say that I have the following piece of code:&#xA;&#xA;&#xA;  employee, employee_version = GET &quot;employee#&quot;&#x2B;id&#xA;salary, salary_version = GET &quot;salaray#&quot;&#x2B;id&#xA;&#xA;# business logic&#xA;&#xA;UPDATE &quot;employee#&quot;&#x2B;id, employee, employee_version&#xA;UPDATE &quot;salary#&quot;&#x2B;id, salary, salary_version&#xA;&#xA;&#xA;At any point, we might get interleaving from another client, which will lead to data corruption. Even the safe update version that we have is no good, assume that we fail to update the salary. At that point, we have already updated the employee, now we need to roll it back, but another client might have added their changes in the mean time...&#xA;&#xA;To make things worse, the employee and salary might very well reside on different machines. Trying to build transactions around is possible, but extremely expensive in terms of performance.&#xA;&#xA;We need a better solution, one that build on top of the existing API we have and give us a way to handle this properly.&#xA;&#xA;I will touch on that in a future post.</p>
        </article>
        <article id="article-6617">
            <a href="https://ayende.com/blog/3421/googling-is-a-requirement" target="_blank">
                <h2 class="title mb-6" id="article-6617">Googling is a requirement</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 18, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Here is another thing that annoys me. Some people ping with questions that are trivially answerable by a Google search. If you want to ask me something, consider Googling it first, not doing so shows lack of respect for my time.</p>
        </article>
        <article id="article-6618">
            <a href="https://ayende.com/blog/3420/the-purpose-of-rhino-commons" target="_blank">
                <h2 class="title mb-6" id="article-6618">The purpose of Rhino Commons</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 18, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Nathan has posted about utility libraries and he includes Rhino Commons there as well.  I don&#x27;t see Rhino Commons as a utility library. At least not anymore. It certainly started its life as such, but it has grown since then.  Rhino Commons represent my default architecture. This is my base when I am building applications. It has some utility classes, sure, but it contains a lot more foundation and infrastructure components than anything else.</p>
        </article>
        <article id="article-6619">
            <a href="https://ardalis.com/speaking-in-toledo-tonight/" target="_blank">
                <h2 class="title mb-6" id="article-6619">Speaking in Toledo Tonight</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 17, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I&#x2019;ll be presenting at the Northwest Ohio .NET User Group this evening at 6pm. The talk will be a slightly modified version of my Black Belt&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-6620">
            <a href="https://ardalis.com/jungledisk-as-service-on-windows-server-2003/" target="_blank">
                <h2 class="title mb-6" id="article-6620">JungleDisk as Service on Windows Server 2003</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 15, 2008
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I&#x27;m a big fan of JungleDisk, a $20 utility that makes using Amazon&#x27;s S3 storage solution easy and backups cheap. I&#x27;m also a big fan of Red&#x2026;Keep Reading &#x2192;</p>
        </article>
        <div class="button flex justify-between">
            <a href="661.html"><span class="back arrow"></span></a>

            <a href="663.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>
</body>
</html>