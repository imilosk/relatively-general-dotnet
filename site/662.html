
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Home â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<script>
    const lightModePref = window.matchMedia("(prefers-color-scheme: light)");

    function getUserPref() {
        const storedTheme = typeof localStorage !== "undefined" && localStorage.getItem("theme");
        return storedTheme || (lightModePref.matches ? "light" : "dark");
    }

    function setTheme(newTheme) {
        if (newTheme !== "light" && newTheme !== "dark") {
            return console.warn(
                `Invalid theme value '${newTheme}' received. Expected 'light' or 'dark'.`,
            );
        }

        const root = document.documentElement;

        // root already set to newTheme, exit early
        if (newTheme === root.getAttribute("data-theme")) {
            return;
        }

        root.setAttribute("data-theme", newTheme);

        const colorThemeMetaTag = document.querySelector("meta[name='theme-color']");
        const bgColour = getComputedStyle(document.body).getPropertyValue("--theme-bg");
        colorThemeMetaTag.setAttribute("content", `hsl(${bgColour})`);
        if (typeof localStorage !== "undefined") {
            localStorage.setItem("theme", newTheme);
        }
    }

    // initial setup
    setTheme(getUserPref());

    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("theme-toggle").addEventListener("click", () => {
            const theme = localStorage.getItem("theme");

            if (theme === "dark") {
                setTheme("light");
            } else {
                setTheme("dark");
            }
        });

        document.getElementById("toggle-navigation-menu").addEventListener("click", (e) => {
            const button = e.target;
            const ariaExpanded = button.getAttribute("aria-expanded");
            const header = document.getElementById("main-header");

            if (ariaExpanded === "true") {
                button.setAttribute("aria-expanded", "false");
                header.classList.remove("menu-open");
            } else {
                button.setAttribute("aria-expanded", "true");
                header.classList.add("menu-open");
            }
        });
    });
</script>

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <theme-toggle class="ms-auto">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main">
    <section aria-label="Blog post list">
        <a href="https://ayende.com/blog/2310/on-orthogonal-frameworks" target="_blank"><h1 class="title mb-6">On Orthogonal Frameworks</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: April 14, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">One of the interesting aspects of open source projects is that there are quite&#xA0;a bit of directions that the developers and the community would like to go to, all at once. Even in&#xA0;healthy communities, people sometimes would like to do Really Wierd Stuff, for a specific scenario or use case, they would like to do something that goes against the grain of the project. Or is something that really should be outside the scope of the project, etc.     The usual response to this is to allow a user to supply its own implementation of a framework component. NHibernate is a great example of that, where you can almost always override the default NHibernate behavior with your own. This means that in terms of flexibility, it is possible to go in at almost all levels and decide that you would like this behavior to work differently for you. For a tool like NHibernate, it is a very important feature, because people have some very interesting ideas about how a database schema should look like.     Why am I talking to you about this? Because I find, with the exception of WCF, that most commercial frameworks do not give nearly as much leeway, and they have &quot;certain ideas&quot; about what you have to do in order to use them. Right now, I would like to talk about the Entity Framework requirements for a base class / interface implementations.     Again, a base class / optional interfaces are great way to extend the way you are using a given framework, but the heavy weight approach is flawed from the start. It makes a lot of assumptions about the way you use it, and uses tooling to hide ugliness. There shouldn&#x27;t be ugliness in the first place, but I digress.     Let us take change tracking as a simple example, the Entity Framework requires that the object will manage its own changed state. Personally, I feel that this is a violation of the Single Responsability Principal. NHibernate handles this by comparing the old/new values of the object, and decide accordingly if it should save it. This has some performance implications in limited scenarios*. Having the object track its state is preferable, because then you can just do if(entity.Changed) Save(entity).     I decided to spike what it would take to build an orthogonal implementation of this with NHibernate. ~120 lines of code later, I had NHibernate inject change tracking behavior into the object, which would flag it as changed if a set property was called.     Let me repeat that, 120 lines of code, zero change to the model (still Plain Old C# Classes), new behavior. For kicks, I have added support for INotifyPropertyChanged behavior, which was an additional of 10 lines of code.&#xA0;&#xA0;     This is also an approach that is taken by guys that doesn&#x27;t have a designer team just waiting to generate a ton of code just to get things started. This is based on clever code and flexible architecture. The problem with the code gen approach is that it lets you cover holes in the tool you are using, but those holes will come back to bite you when you need to amke something that the author of the tool didn&#x27;t think about.    * Loading large number of objects and updating a few, then persisting. That is partly why Evict() is for.     ** The new behavior is not part of NHibernate, if there is interest, I can post the patch.</p>
        <a href="https://ayende.com/blog/2309/convenient-easy-slow-vs-convenient-hard-fast" target="_blank"><h1 class="title mb-6">Convenient &amp; Easy &amp; Slow vs Convenient &amp; Hard &amp; Fast</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: April 14, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Here is an interesting quote from the guys that build Twitter:Once you hit a certain threshold of traffic, either you need to strip out all the costly neat stuff that Rails does for you...     Disclaimer: I am completely ignorant about Ruby and Rails, should maybe I should just shut up.    One thing that I have noticed is that all those &quot;neat&quot; stuff can be very costly in its default implementation, but it doesn&#x27;t have to be. Let us take a look at dasBlog&#x27;s macros for an instance, shall we? The initial implementation was very easy to use (and probably to implement), but was very slow due to heavy use of uncached reflection.    One way to get over it is to drop the notions of macros entirely, and do it all by hand. That would make it much harder to use them, of course. Another way would be to optimize the macros themselves. Recent version of dasBlog has done just that, by using cached reflection, and the numbers I have seen quotes talks about 100% improvement in performance, with no difference for the user. From experiance, this optimization can be as hard as the actual functionality, but the tradeoffs across the board are more than worth it.    Assuming that we reached the next scaling point, where cached reflection is still too slow, what do we do then? Beyond cache reflection, we have runtime code generation, which is more complex still, but offers the speed of the native platform. Here we get to thinking about tradeoffs, it may be that the complexity would cost more than the convenience is worth, but most often, the complexity is localized to a narrow set of functionality, and it enable quite a bit of cost saving.    Again, I have no idea about Rails and the kind of problems that he is talking about, but if I were facing this issue, I would probably try to see if I can JIT the Ruby code into native code, and run that. There is quite a bit that can be done if the scenario is focused enough that you can make assumption about the way it is used (remove edge cases, basically).</p>
        <a href="https://ayende.com/blog/2308/dynamic-proxy-2-mixins" target="_blank"><h1 class="title mb-6">Dynamic Proxy 2: Mixins</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: April 14, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I needed a rest from dealing with SSIS and data migrations issues, so I decided to put some time in real code. I just finished adding support for Mixins to Dynamic Proxy 2. Here is the first test that passed, the name should tell you quite a bit about what is required to make it work.            [Test]                                public void CanCreateSimpleMixinWithoutGettingExecutionEngineExceptionsOrBadImageExceptions()                                {                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ProxyGenerationOptions proxyGenerationOptions = new ProxyGenerationOptions();                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; proxyGenerationOptions.AddMixinInstance(new SimpleMixin());                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; object proxy = generator.CreateClassProxy(                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; typeof(object), proxyGenerationOptions, new AssertInvocationInterceptor());                                        &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Assert.IsTrue(proxy is ISimpleMixin);                                        &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ((ISimpleMixin)proxy).DoSomething();                                }        The generated proxy looks something like this one:            public class ObjectProxyefb7dccd21fe43b5b2d13c788dce3bdb : ISimpleMixin                        {                                &#xA0;&#xA0;&#xA0; public IInterceptor[] __interceptors;                                &#xA0;&#xA0;&#xA0; public ISimpleMixin __mixin_Castle_DynamicProxy_Test_Mixins_ISimpleMixin;                                &#xA0;&#xA0;&#xA0; public static MethodInfo tokenCache1 = ((MethodInfo) methodof(ISimpleMixin.DoSomething, ISimpleMixin));                                &#xA0;&#xA0;&#xA0; public static Type typeTokenCache = typeof(object);                                        &#xA0;                        &#xA0;&#xA0;&#xA0; public ObjectProxyefb7dccd21fe43b5b2d13c788dce3bdb(ISimpleMixin mixin1, IInterceptor[] interceptorArray1)                                &#xA0;&#xA0;&#xA0; {                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; this.__mixin_Castle_DynamicProxy_Test_Mixins_ISimpleMixin = mixin1;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; this.__interceptors = interceptorArray1;                        &#xA0;&#xA0;&#xA0; }                                        &#xA0;                        &#xA0;&#xA0;&#xA0; public override int DoSomething()                                &#xA0;&#xA0;&#xA0; {                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; object[] objArray = new object[0];                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; InvocationDoSomething_1 g_ = new InvocationDoSomething_1(        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; this.__mixin_Castle_DynamicProxy_Test_Mixins_ISimpleMixin,                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; this.__interceptors, typeTokenCache, tokenCache1, objArray, this);                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; g_.Proceed();                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return (int) g_.ReturnValue;                                &#xA0;&#xA0;&#xA0; }                                        &#xA0;                                                        &#xA0;&#xA0;&#xA0; [Serializable]                                &#xA0;&#xA0;&#xA0; public sealed class InvocationDoSomething_1 : AbstractInvocation                        &#xA0;&#xA0;&#xA0; {                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public ISimpleMixin target;                                        &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public InvocationDoSomething_1(ISimpleMixin mixin1, IInterceptor[] interceptorArray1, Type type1, MethodInfo info1,                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; object[] objArray1, object obj1) : base(mixin1, obj1, interceptorArray1, type1, info1, objArray1)                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; this.target = mixin1;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                        &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public sealed override void InvokeMethodOnTarget()                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; int num = this.target.DoSomething();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; base.ReturnValue = num;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;&#xA0;&#xA0; }                                }                                            &#xA0;                The code is in the repository, if you feel like taking it out for a spin.</p>
        <a href="https://ayende.com/blog/2307/linq-for-nhibernate-functions" target="_blank"><h1 class="title mb-6">Linq for NHibernate</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: April 14, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Bobby Diaz is still producing some amazing stuff. The new addition is native support for SQL functions. Take a look at this code:DateTime date = new DateTime(1960, 1, 1);        var query = ( from e in db.Employees    &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;where db.Methods.Year(e.BirthDate) &gt;= date.Year &amp;&amp; db.Methods.Len(e.FirstName) &gt; 4    &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;select e.FirstName )    &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;.Aggregate(new StringBuilder(), (sb, name) =&gt; sb.Length &gt; 0 ? sb.Append(&quot;, &quot;).Append(name) : sb.Append(name));        Console.WriteLine(&quot;Birthdays after {0}:&quot;, date.ToString(&quot;yyyy&quot;));    Console.WriteLine(query);    Check out Bobby&#x27;s post for the full details. I am going to write a full overview of the current state of Linq for NHibernate soon. The situation so far is looking very nice.</p>
        <a href="https://ardalis.com/outlook-2007-pop3-slowness/" target="_blank"><h1 class="title mb-6">Outlook 2007 POP3 Slowness</h1></a>
        <p class="mb-2">by Ardalis</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: April 13, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Outlook 2007 has a number of issues with performance, one of which relates to downloads taking a very long time with POP3 email accounts&#x2026;Keep Reading &#x2192;</p>
        <a href="https://ayende.com/blog/2306/give-me-the-code" target="_blank"><h1 class="title mb-6">Give me the code!</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: April 13, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Here is an amusing thought.     I am explicitly a code guy (vs. designers guy).             My persistance format is code                My configuration is code                My database is generated from code</p>
        <a href="https://ayende.com/blog/2305/bug-reports-for-dummies" target="_blank"><h1 class="title mb-6">Bug Reports For Dummies</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: April 11, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">No, you won&#x27;t learn how to build a good bug report here. As long as you don&#x27;t send me a screen shot of a screen shot of the application inside a word document, that is fine by me.    You may learn what not to do from this, though. Check out this bug. I just run into a bug in Brail, I didn&#x27;t feel like fixing it right now, so I opened a bug to myself on this. I was annoyed because I fixed a few bugs of similar nature in the past few days. I tried to take the most trunk version of Brail to the project, and it worked. I really should start pay more attention to what I am doing.</p>
        <a href="https://ayende.com/blog/2304/unit-testing-trivalities" target="_blank"><h1 class="title mb-6">Unit Testing Trivalities?</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: April 11, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">The following code is a MonoRail action. It doesn&#x27;t do much, but relies on the framework to do most of its work.            public void ShowCustomerDetails([ARFetch(&quot;id&quot;)] Customer customer)                                {                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if(customer==null)                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RenderSharedView(&quot;common/notfound&quot;);                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PropertyBag[&quot;customer&quot;] = customer;                                }        What are the arguments for/against testing this method directly?</p>
        <a href="https://ayende.com/blog/2303/that-might-take-a-while" target="_blank"><h1 class="title mb-6">That might take a while...</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: April 11, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Yesterday I started a run of a process that should run every 5 minutes, I got annoyed when it took too long and went home. I just got back to see this number:        Maybe I need to rethink the architecture. It is still working on it. The really scary thing is that the select count(*) that I also left running didn&#x27;t finish in ~16 hours or so. And just to clarify, this is an OLTP DB, not a data warehousing one.d</p>
        <a href="https://ayende.com/blog/2302/comments-on-dnr-226-entity-framework" target="_blank"><h1 class="title mb-6">Comments on DNR #226: Entity Framework</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: April 11, 2007
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I have listened with interest to the DNR episode about the entity framework, I am still not convinced on what they are doing. Daniel says that after explaining the grand vision to the code better guys, they agreed that this is what they wanted, but he doesn&#x27;t disclose this grand vision. Update: I went back and listened again, Daniel is talking about Jeffrey Palermo specifically, not the rest of the code better guys. Sorry for the confusion.    A unified logical model for entities is nice in theory, but I already talked about why this is a hard problem to solve. Further more, it looks like they are focusing on the grand vision too much, and leaving aside the real users right now.     There are going to be a lot of users that would buy into the entity framework, lock, stock &amp; barrel. But if is it hard to use for the common scenarios, it is going to generate a lot of ill-will to the framework. As far as I understand, they are nearly at feature-freeze for Orcas, and there seems to be a lot of rough edges all over the place.    That aside, here are a few more comments from the episode:                        The Entity Framekwork is cheating. They are movig the burden of the actual query generation from the ORM layer to the database provider layer. Basically, it is sending the query AST to the database provider. The problem with that is that this would make it much harder to build an EF compatible database provider. You would need to handle not only the wire protocol, but also an optimizing provider for this AST for your database. I am pretty sure that SQL Server will have a good one, and Oracle would have a working one, but that leaves a lot of other databases out of the loop.                                     Something that I haven&#x27;t heard so far is optimizations. There are scenarios where I have to write my own SQL to get the data back, is this something that the EF support?                                     Code generation - I have seen the amount of code that is required to make the EF happy. It is not pretty. You need to implement a lot of interfaces, handling properties changes, etc. This is a lot of code that really shouldn&#x27;t be there.            I just spiked what it would take for NHibernate to handle the INotifyPropertyChanged implementation for the entities, and that one is less than 100 lines of code. And that is for doing it across the board!                                     Automatic assoication wiring. By that I means that if I do customer.Orders.Add(new Order()), the Order&#x27;s customer is set to the customer we just gave it. This is typically a thorny issue with regard to the mismatch between the relational model and the OO model, there are no one way assoications in the relational model, and there are only one way assoication in the OO model. The entity framework supports this with special collections, and lamda expressions. NHibernate had the same about a year ago in NHibernate Generics.            I stopped supporting this functionality a while ago, because I do not believe that this is a good way to handle assoications in the model.&#xA0;There are several reasons for that.                                                                 There are various scenarios where I want a one-way assoication, usually for transient instances that I want to use for business logic calculations.                                                                             There is a business logic assoicated with assoications :-).                    If we will take the customer.Orders example, adding a new order should verify that the customer has the credit to pay for it. Where does this logic exists now?                    The best practice for NHibernate has always been to have an AddOrder(Order o) method, which would handle the business logic and the wiring of the assoications                                                                 Innovation: using both Linq and eSql to get dynamic queries.            This one really annoys me. There is zero innovation is the ability to have several ways to query the same source, using the best way for the scenario. As far as I have seen, the dynamic querying capabilities of the EF are fairly week, relying on either string concat or building the expression tree manually. Neither of which is very conductive to maintainability.                                     Lazy Loading - it is possible that I got it wrong, but it seems like Daniel said that lazy loading is not something that is support in EF. (31:40)                 We never make a query unless you know it is going to happen, very explicit.                 On the surface, this is very good, but what exactly does that mean? If it means that I can not do this:                Customer&#xA0;customer&#xA0;=&#xA0;EntityFramework.GetCustoemer(15);&#xA0;//not&#xA0;the&#xA0;real&#xA0;way&#xA0;of&#xA0;doing&#xA0;it                         foreach(Order&#xA0;order&#xA0;in&#xA0;customer.Orders)            &#xA0;&#xA0;&#xA0;Console.WriteLine(order);                             Then this puts the burden of knowing what to bring in the hand of the developer, and that is a real PITA to handle explicitly. This is not a good place to be in. This is one of the basic features of an OR/M, is it really missing?                                     Daniel also talks about dropping the relational model and storing the entity model directly in SQL Server, this smells a lot like OODB to me, and I wonder if this is a good idea. The major issue with OODB is that the tools to work with them were limited. Just about anything can work with relational data, very little can work against some random entity model. Microsoft certainly has the resources to do this, of course, and Daniel mentions that several teams are working on this, but I don&#x27;t think that we will see this any time soon.</p>
        <div class="button flex justify-between">
            <a href="661.html"><span class="back arrow"></span></a>

            <a href="663.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2024<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
</body>
</html>