
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Home â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<script>
    const lightModePref = window.matchMedia("(prefers-color-scheme: light)");

    function getUserPref() {
        const storedTheme = typeof localStorage !== "undefined" && localStorage.getItem("theme");
        return storedTheme || (lightModePref.matches ? "light" : "dark");
    }

    function setTheme(newTheme) {
        if (newTheme !== "light" && newTheme !== "dark") {
            return console.warn(
                `Invalid theme value '${newTheme}' received. Expected 'light' or 'dark'.`,
            );
        }

        const root = document.documentElement;

        // root already set to newTheme, exit early
        if (newTheme === root.getAttribute("data-theme")) {
            return;
        }

        root.setAttribute("data-theme", newTheme);

        const colorThemeMetaTag = document.querySelector("meta[name='theme-color']");
        const bgColour = getComputedStyle(document.body).getPropertyValue("--theme-bg");
        colorThemeMetaTag.setAttribute("content", `hsl(${bgColour})`);
        if (typeof localStorage !== "undefined") {
            localStorage.setItem("theme", newTheme);
        }
    }

    // initial setup
    setTheme(getUserPref());

    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("theme-toggle").addEventListener("click", () => {
            const theme = localStorage.getItem("theme");

            if (theme === "dark") {
                setTheme("light");
            } else {
                setTheme("dark");
            }
        });

        document.getElementById("toggle-navigation-menu").addEventListener("click", (e) => {
            const button = e.target;
            const ariaExpanded = button.getAttribute("aria-expanded");
            const header = document.getElementById("main-header");

            if (ariaExpanded === "true") {
                button.setAttribute("aria-expanded", "false");
                header.classList.remove("menu-open");
            } else {
                button.setAttribute("aria-expanded", "true");
                header.classList.add("menu-open");
            }
        });
    });
</script>

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <theme-toggle class="ms-auto">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main">
    <section aria-label="Blog post list">
        <a href="https://ayende.com/blog/3627/reading-erlang-couchdb-from-rest-to-disk-in-a-few-function-calls" target="_blank"><h1 class="title mb-6">Reading Erlang</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 04, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">As you can probably figure out from the title, the purpose of this post is to track how CouchDB is saving a document on the disk. We have already tracked how much of CouchDB works, including some fascinating pieces such as btree:lookup and btree:query_modify. Now it is time to dig ourselves from the trenches and have a slightly higher level view of what is going on.&#xA;We start with the recently refactored couch_httpd_db module. The fun starts with handle_request.&#xA;&#xA;It took me a few seconds to realize what is going on here. Again, some of the problem is that I am not used to the function declaration being such an important role in the function behavior. In this case, the function declaration decompose the request into several parameters. The case statement is used to dispatch based on the arguments. If we have a PUT or DELETE requests with just the DB name, we know that we need to create/delete a database. Otherwise, we assume we have some other operation on the database directly, and we send a function for it to execute. The reason for that becomes clear when you check the rest of the code.&#xA;&#xA;&#xA;As we can see, the create_db_req and delete_db_req have different disposal semantics than do_db_req. do_db_req will just open/close the database and then execute the function in the cotext of this database handle.&#xA;This is quite a common pattern in functional programming, and it used frequently in Ruby. I am using it as much as I can in C# as well, since it is a very natural syntax to use with anonymous delegates and lambdas.&#xA;Anyway, what we are interested in today is the actual process of getting data from the request and putting it on the disk, so let us move along and see what is going on here. The next place of interest, of course, is db_req itself, which we pass into do_db_req. This is fairly interesting in its own, since it deals with all the commands that the server can support (from bulk_docs to compactions to purging). That isn&#x27;t really interesting to me at this time, so we will move to the first code sample and look at the last clause.&#xA;This is where we are handling with a request for a specific document. couch_util:dict_find is where we need to look now...&#xA;&#xA;This is simply a way to do a lookup into a dictionary with a default value. So what does this code do?&#xA;&#xA;Well, it lookup in the DbUrlHandlers (which we got passed to the method) and defaults to the db_req if it isn&#x27;t found there. But what is this DbUrlHandlers? I&#x27;ll save you the trouble of finding out on your own and guide us directly to the location that we care about. Here is a section from the couchdb.ini configuration:&#xA;&#xA;  [httpd_global_handlers]&#xA;  / = {couch_httpd_misc_handlers, handle_welcome_req, &lt;&lt;&quot;Welcome&quot;&gt;&gt;}&#xA;  _utils = {couch_httpd_misc_handlers, handle_utils_dir_req, &quot;%localdatadir%/www&quot;}&#xA;  _all_dbs = {couch_httpd_misc_handlers, handle_all_dbs_req}&#xA;  _config = {couch_httpd_misc_handlers, handle_config_req}&#xA;  _replicate = {couch_httpd_misc_handlers, handle_replicate_req}&#xA;  _uuids = {couch_httpd_misc_handlers, handle_uuids_req}&#xA;&#xA;  [httpd_db_handlers]&#xA;  _view = {couch_httpd_view, handle_view_req}&#xA;  _temp_view = {couch_httpd_view, handle_temp_view_req}&#xA;&#xA;If this looks like erlang code, you are almost right. This is actually just an .ini file, but it is format like erlang on purpose, since this is a simple mapping of a url to its handler in the code. This is a new extension mechanism to CouchDB that was added just yesterday.&#xA;This is a really nice way of handling extensibility, but enough beating around the bush, where is the save document code path? It starts with this function clause:&#xA;&#xA;So we need to go to the do_doc_req to see what else is going on here. And in the db_doc_req, we just need to find the PUT handler, which will create a new document. And here it is:&#xA;&#xA;Let us examine this in depth. couch_httpd:json_body(Req) just takes the request body and decode the JSON information there. I&#x27;ll save you the way JSON is parsed using erlang. Suffice to say that I don&#x27;t think it is pretty.&#xA;couch_doc:from_json_doc is interesting, though. First, take a look at this code:&#xA;&#xA;This is the equivalent of this code:&#xA;&#xA;  var allowedSpecialMembers = new[]{ /* see list above */ };&#xA;&#xA;  foreach(var prop in Props)&#xA;  {&#xA;  if( allowedSpecialMembers.Contains(prop)) continue;&#xA;  throw new DocValidationexception(&#x27;Bad special document member &quot; &#x2B; prop);&#xA;&#xA;  }&#xA;&#xA;The method is doing a few extra things that aren&#x27;t really interesting to us at the moment, basically taking the JSON object that we got and turning that into this object:&#xA;&#xA;Going back to db_doc_req, we can see that next we just get the appropriate revisions and then we extract the header revision, whatever that may be...&#xA;&#xA;This is merely dealing with ensuring that if we specified the etag header, it will match the current revision. Not sure why this is important for PUT request, however. This make sense for POST (update) request, however. Taking that as a given, we then call update_doc (which seems to serve double duty as create_doc) and send as JSON response back to the user.&#xA;This means that we finally have a lead, and can move from couch_httpd_db to couch_db :-)&#xA;&#xA;update_doc just forward the call to update_docs (plural). That should be interesting, but it wouldn&#x27;t be today.</p>
        <a href="https://ardalis.com/installing-visualsvn-subversion/" target="_blank"><h1 class="title mb-6">Installing VisualSVN Subversion</h1></a>
        <p class="mb-2">by Ardalis</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 02, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Wrapping up HeadSpring&#x27;s Agile Boot Camp class this week, we&#x27;re installing VisualSVN Server locally. Running the setup is just a matter of&#x2026;Keep Reading &#x2192;</p>
        <a href="https://ayende.com/blog/3626/new-version-of-the-book-is-out" target="_blank"><h1 class="title mb-6">New version of the book is out</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 02, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">You can head to the Book Site and get a new version, because Chapters 1 - 11 (and appendix B) are available.&#xA;The only remaining chapters are #12 (DSL implementation patterns) and #13 Implementing a Real World DSL. Chapter 12 goes really well, so far, and I hope to have it ready by the end of the weekend.</p>
        <a href="https://ayende.com/blog/3625/rambling-2nd-october" target="_blank"><h1 class="title mb-6">Rambling, 2nd October</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 02, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">This is a post that I am going to post just to clear my head. &#xA;&#xA;&#xA;The Mac sucks. There is no good blog client for the Mac. The blog client situation on the Mac is about as bad as the difference between Lotus 1-2-3 circa 1990 and Excel 2007. I am writing this post in MarsEdit, and I have to do HTML by hand. Yuck! &#xA;&#xA;&#xA;I also used Blogo and Ecto, and none of them really come close to what I need. I don&#x27;t think that I am too demanding. I need to ability to write the posts using WYSIWYG, being able to paste images to the post and the ability to post code and have the tool do the highlighting for me.&#xA;&#xA;&#xA;I used to use WBEditor, before WLW caught my eye. Those are real blog clients. I have yet to find anything on the mac that come close. Yes, this is intentionally inflammatory in order to get more responses so I wouldn&#x27;t have to leave the Mac to post to the blog.&#xA;&#xA;&#xA;Next topic, Amazon came out with Windows on EC2, which is amazing. It means a much easier time to anyone who wants to handle cloud computing based on Windows. Yes, there are alternative, but Amazon seems to be the main one.&#xA;&#xA;&#xA;Oh, I was chosen as MVP for 2009 as well, yeah :-)&#xA;&#xA;&#xA;I would have posted the MVP logo here, but I can&#x27;t be bothered to write down the HTML code for that, because this blog client is so annoying.&#xA;&#xA;People actually notice that I am not answering to email for a period of 24 hours or less. Amazing.</p>
        <a href="https://ayende.com/blog/3624/the-common-service-locator-library" target="_blank"><h1 class="title mb-6">The Common Service Locator library</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 02, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Glenn and Chris has already gotten the word out, but that is an important piece of news.&#xA;&#xA;&#xA;The idea is based off a post that Jeremy Miller had about a month ago, having a common, shared interface across several IoC implementation. That would allow library authors to make use of the benefits of a container without taking a dependency on a particular implementation.&#xA;&#xA;&#xA;The alternative for that is to each library to create its own abstraction layer. A good example of that is NServiceBus&#x27; IBuilder interface, or ASP.NET MVC&#x27;s IControllerFactory. That is just annoying, especially if you are integrating more than a single such framework.&#xA;&#xA;&#xA;This project was created with the aid of most of the IoC containers authors on the .NET framework, and we have adapters for Windsor, Unity, Spring.NET already, with adapters for the rest of the containers coming soon.&#xA;&#xA;&#xA;What it is not?&#xA;&#xA;&#xA;It is not meant to be a complete container abstraction. The reason that the interface is so small (and you wouldn&#x27;t believe the amount of time that it took to settle on exactly what is going to be there) is that this is not supposed to be the container that you are using. This is explicitly designed to be a read only interface that allows a library to use the container, not some uber container interface (which doesn&#x27;t really make sense considering the differences between the containers).&#xA;&#xA;&#xA;Why Service Locator vs. Container? Again, the design is focused on enabling integration scenarios, more than anything else.&#xA;&#xA;&#xA;I still recommend to avoid explicit service locator usage whenever possible, and to rely on the container and dependency injection. This is not always possible, which is what this library is supposed to solve.&#xA;&#xA;Who should use this?&#xA;&#xA;If you are releasing a piece of code that is taking a dependency on a container, you should consider that as an option. It is generally considered to be a better idea than to force your choice of containers on the clients. The OAuth library for .NET is going to move to this, for exactly this reason.&#xA;&#xA;I am from Microsoft, can I use this?&#xA;&#xA;The code is released under the MS-PL, and all of the work on the project was done by Microsoft employees. That was quite intentional, since this is allow Microsoft projects to make use of that (this is Microsoft IP). If you are a Microsoft employee, you can make use of that. In fact, according to Chris, the next version of the Enterprise Library is going to use this as the container abstraction, so you&#x27;ll be able to use the Enterprise Library with Windsor and StructureMap and Spring.NET and Ninject and AutoFac and all the rest of the things that I forgot.&#xA;&#xA;I can use only Microsoft products, can I use this?&#xA;&#xA;See previous question.&#xA;&#xA;Where can I find the code&#xA;The codeplex site is here: http://www.codeplex.com/CommonServiceLocator</p>
        <a href="https://ayende.com/blog/3623/my-bio" target="_blank"><h1 class="title mb-6">My Bio</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 01, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Every now and again, I find myself having to cough up a bio. Usually for conferences, talks and the like. Since I tend to dislike talking about myself, I often neglect that. The last time I updated my bio was in 2006. Time for a fresh one.&#xA;&#xA;  Oren Eini is an independent consultant based in Israel. His main focus is on architecture and best practices that promote quality software and zero-friction development.&#xA;&#xA;  Oren is the author of Rhino Mocks, one of the most popular mocking frameworks on the .NET platform, and is also a leading figure in other well known open source projects including the Castle project and NHibernate.&#xA;&#xA;  An internationally known presenter, Oren has spoken at conferences such as DevTeach, JAOO and Oredev, and is the author of the book &quot;Building Domain Specific Languages with Boo&quot;, soon to be published by Manning.&#xA;&#xA;  Oren, using his pseudonym as Ayende Rahien, is a frequent blogger at http://www.ayende.com/Blog/. His hobbies include reading fantasy novels, reviewing code, and writing about himself in the third person.&#xA;&#xA;Update: I honestly forgot.&#xA;&#xA;  Oren is also a Microsoft MVP, a fact that he tends to forget when writing a bio.&#xA;&#xA;Thoughts?&#xA;And thanks to James Avery, Avish, Al Gonzalez, Tobin Harris and IMH for proof reading it.</p>
        <a href="https://ayende.com/blog/3622/speaking-at-net-developer-network" target="_blank"><h1 class="title mb-6">Speaking at .NET Developer Network</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 01, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">When: Monday 13th October 2008, doors open 6:00pm, meeting starts 6:30pm  Where: UWE (University of the West of England), Frenchay, Bristol (see FAQ for directions and a map) - Room 2q50 (in Q block) What: &quot;Producing Production Quality Software&quot; and &quot;Interaction based testing with Rhino Mocks&quot; How do I sign up for this meeting: Send an email to meetings at dotnetdevnet.com and quote your user name and the October Extra meeting.</p>
        <a href="https://ayende.com/blog/3621/building-isolated-components" target="_blank"><h1 class="title mb-6">Building isolated components</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 01, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">In this webcast, I spoke about an architecture where all the different components of the systems are inherently separated and isolated from each other. Here is a good example of this:   The issue is how to implement such a feature. Well, that is actually not the issue. The major issue is how to think about such a feature. For a start, let us discard the notion that we can have a WhizBang solution for all the components in the system. The behavior for a database down vs. a 3rd party service violating is response time SLA are not something that we can capture in some generic manner. Moreover, the behavior for the login component (backed by the Users table) being problematic vs. the catalog component (backed by Categories, Products, etc tables) being problematic is drastically different. The common concept that all of those shared, however, is the idea of violating their Service Level Agreements. We can try to capture that concept in order to do one of the following:  Raise alert for failed/slow component. Provide alternative implementation for failure scenarios:  Capture and queue calls to the components, to be retried at a later date. Reduced functionality in some manner. Allow to manually or automatically restart the component. We can&#x27;t provide a generic implementation that would answer all needs, but we can provide a fairly robust infrastructure that will make the implementation easier. That implies interception, so now we need to think about how we can provide an interception hook to our components. One way of dealing with that is to go with the Erlang model, components are isolated units of execution, which communicate between each other using message passing. We can manage then manage the SLAs using the process itself. The problem with this is that for most of the scenarios, we usually want to have a request/response semantic (imagine a request to get the train schedule from a particular city). Message passing in this case is not an easy solution, mostly because of thread management issues that simple does not exist in Erlang (different VMs). This is still my favorite concept, and I keep trying to think about good ways of combining the notion of message passing and request/response. Most of those idea involve some concept about thread yielding for the target process, but then we run into request handling threads starvation and thread affinity and thread safety issues. In general, if this is complex, it is a good indication that it is a bad idea. Another solution, which fit the way we handle things on the CLR much more is by proxying the component and handling much of that behavior there. The idea that I had was something like this:   The component proxy is responsible for managing the SLA ( timing, errors, etc) and can notify the SLA behaviors when they go out of line. The SLA behavior can decide to move to an alternate implementation or to just shut the component down (obviously raising alerts and such). An additional system will allow us to restore the component to the default implementation, or manually move it to the alternative implementation in preparation of some event that is about to occur. This is the idea of a Circuit Breaker from Release It on a large level. From the point of view of the code, we are talking about something like this: public interface IOrderService&#xA;{&#xA;&#x9;// ...&#xA;}&#xA;&#xA;// backed by a database&#xA;public class DefaultOrderService : IOrderService&#xA;{&#xA;&#x9;// ...&#xA;}&#xA;&#xA;// use a cache populated by the default order service&#xA;// during normal operation&#xA;public class CachingOrderService : IOrderService&#xA;{&#xA;&#x9;// ...&#xA;}&#xA;&#xA;// behavior is all in the base class&#xA;public class OrderServiceSlaBehavior : AlternativeImplementationOf&lt;DefaultOrderService&gt;.Is&lt;CachingOrderService&gt;&#xA;{&#xA;}&#xA;With the appropriate facility, this should be seamless. Thoughts?&#xA;To the nitpickers, yes, I am aware that this looks a lot like SOA.</p>
        <a href="https://ayende.com/blog/3620/meta-tests" target="_blank"><h1 class="title mb-6">Meta tests</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 01, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I found this test fixture hilarious. [TestFixture]&#xA;public class ValidateNamingConventions&#xA;{&#xA;    private System.Type[] types;&#xA;&#xA;    [SetUp]&#xA;    public void Setup()&#xA;    {&#xA;        types = typeof(ISearchFactory).Assembly.GetExportedTypes();            &#xA;    }&#xA;&#xA;    [Test]&#xA;    public void InterfacesStartsWithI()&#xA;    {&#xA;        foreach (System.Type type in types)&#xA;        {&#xA;            if(type.IsInterface==false)&#xA;                continue;&#xA;            Assert.IsTrue(type.Name.StartsWith(&quot;I&quot;),type.Name);&#xA;        }&#xA;    }&#xA;&#xA;    [Test]&#xA;    public void FirstLaterOfMethodIsCapitalized()&#xA;    {&#xA;        foreach (System.Type type in types)&#xA;        {&#xA;            foreach (MethodInfo method in type.GetMethods())&#xA;            {&#xA;                Assert.IsTrue(char.IsUpper(method.Name[0]), type.FullName &#x2B; &quot;.&quot; &#x2B; method.Name);&#xA;            }&#xA;        } &#xA;    }&#xA;&#xA;    [Test]&#xA;    public void AttributesEndWithAttribute()&#xA;    {&#xA;        foreach (System.Type type in types)&#xA;        {&#xA;            if (type.IsAssignableFrom(typeof(Attribute)))&#xA;                continue;&#xA;            Assert.IsTrue(type.Name.EndsWith(&quot;Attribute&quot;), type.Name);&#xA;     &#xA;        }&#xA;    }&#xA;}</p>
        <a href="https://ayende.com/blog/3619/more-code-review-errors" target="_blank"><h1 class="title mb-6">More code review errors</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: September 30, 2008
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Take a look at this method:   Now, let us make this simple, shall we?   Same meaning, and a significant reduction of complexity. Damn, but this is annoying.</p>
        <div class="button flex justify-between">
            <a href="626.html"><span class="back arrow"></span></a>

            <a href="628.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2024<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
</body>
</html>