
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 885 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-8841">
            <a href="https://ayende.com/blog/1516/how-much-code-you-need-to-read-a-file-to-database" target="_blank">
                <h2 class="title mb-6" id="article-8841">How much code you need to read a file to database?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Well, in my case, it looks like I need:            12 classes            5 intrefaces            1 (modified) Inversion Of Control&#xA0;Container            700 Lines of code            80 lines of XML configuration            350 lines of tests            ~8 - 12 hours         But hey, at least it can read big files :-)</p>
        </article>
        <article id="article-8842">
            <a href="https://ayende.com/blog/1515/isolating-tests-from-external-influences" target="_blank">
                <h2 class="title mb-6" id="article-8842">Isolating Tests From External Influences</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: July 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I just posted&#xA0;about semi statics, and now it is finally the post where I explain how I broke the external dependencies in my tests. That was the reason that pushed me to start talking about static in the first place.    I am using NHibernate to handle the data access (naturally), and when I started the project, there was no seperation in the tests from those that needs to touch the database (test that the mapping are working) and those that shouldn&#x27;t (testing business logic).    I started to feel the pain recently, the tests took a long time to run, and the initial setup overhead was decidely not trivial, so even running a single test took too long. I decided that I really needed to make this seperation to integration tests and unit tests.    The problem was that I had code in both the tests and the business logic that assume that it can pull stuff from the database. I had the architecture I outlined in my previous post, where everything is accessible via the context, and everything is an interface. I did wrote a mocking library, so from there it was mainly going over each test and finding out if it is an integration test or a unit test.&#xA0; This effort was not trivial, but it certainly paid off. I got a set of tests that run really fast, and I recently had to add another layer that significantly slows the tests. I was able to mock that in about half an hour (to handle all the premutations) and integrate it successuflly.    The integration tests are now much slower, but I don&#x27;t care that much about their speed at the moment.    The setup for the unit tests is pretty complex right now, since I basically setup the whole environment via Rhino Mocks. All the tests inherits from a common base class that allows me to setup everything once for all the tests.&#xA0; You can see what I do in this diagram. Just to note, the maximum cyclometic complexity here is 2.        By the way, this is the single feature that I absolutely love in Refactor! and CodeRush (where it show you how long a method is).    The whole thing is simply based on code like this:            private void SetupMockObjectInSession(object obj, object key, Type type)                        {                        &#xA0;&#xA0;&#xA0; Validation.NotNull(obj, &quot;obj&quot;);                        &#xA0;&#xA0;&#xA0; SetupResult.For(_session.Load(type, key)).Return(obj);                        &#xA0;&#xA0;&#xA0; SetupResult.For(_session.Get(type, key)).Return(obj);                        }        It gets a little more complex when I need to support complex queries, but it is still easy to grok.    The nice thing about it is that NHibernate is actually a deep infrastructure component in this application, I got a layer or two on top of it, which does all sort of nice things for me (like allowing me to ignore security, or logging, etc), which I am able to test, because I&#x27;m mocking the very bottom of the stack.</p>
        </article>
        <article id="article-8843">
            <a href="https://ayende.com/blog/1514/how-i-start-a-project" target="_blank">
                <h2 class="title mb-6" id="article-8843">How I start a project</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I&#x27;m starting a new project now, and I thought it might be worth while to blog how I&#x27;m starting out.    I started with the initial requirements, and then just let them sit in my head for a day or two. Just thinking about the abstract concepts and trying things out without actually having to put something on paper or keyboard.    Then I created a new project in VS, and started with the class diagram. I just put down a single class and several interfaces, and a few methods. I am using this to focus my thoughts, and there isn&#x27;t any code that I have written there. Then I opened a word document and start putting down the assumptions.    Those can be high level stuff like &quot;The service will have its own dedicate database&quot; to low level things like &quot;A task will not hold a thread for an extended periods of time&quot;. I don&#x27;t write why those are important, it is not important now. What is important is to figure out the constraints that I am going to work with, and what I assumptions I decide will drive the architecture.    Then I usualy either walk and mutter to myself, or blog about it ( :-) ) about something, and let things fall into shape.&#xA0;I find that putting things to words, either via texts or speaking them out loud helps me organize my thoughts into coherent structures. This is part of the reason that I blog. It keeps me organize.    I usually consider what tools I need to do the work, and what tools I can bend to make my job easier. Active Record is an awesome rule processor, if you know look at it just right. And Windsor&#xA0;is the ultimate configuration manager that you can want.    The next step is to create a test project, and write the first test. This can take a while. I&#x27;m futzing with ideas, and I am never sure what direction I will take the project. This is usually one of the hardest part for the project, because there are too many possiblities. I can spend quite a bit of time trying things out, either in code or in diagrams.    At that point I then start coupling my design, so it would actually be usable. This means that I go from things like ICommand to IFileCommand, because that needs the file it works on, etc. Once I reach this point, I have no more reasons to procrascinate and I need to start writing the actual application :-)</p>
        </article>
        <article id="article-8844">
            <a href="https://ayende.com/blog/1513/dont-run-websites-in-iis-from-subst-drives" target="_blank">
                <h2 class="title mb-6" id="article-8844">Don&#x27;t run websites in IIS from SUBST drives</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">It looks like this causes an issue. I have a folder that I SUBSTed to another drive, and when I tried to set it up as a virtual directory, IIS just laughed at me, saying that I have no permissions to do that. When I tried it using the real path, it worked like a charm.&#xA0;The permissions were the same in both cases, of course.</p>
        </article>
        <article id="article-8845">
            <a href="https://ayende.com/blog/1512/multi-tasking-and-real-estate" target="_blank">
                <h2 class="title mb-6" id="article-8845">Multi tasking and real estate</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I arrived to work one day, and I meet this guy just as I&#xA;setup my laptop for the morning. He noticed that I have the task bar set to&#xA;three lines height, and he couldn&#x2019;t understand why I was doing this. I am&#xA;also the only developer I know personally who uses dual monitors &#xA0;regularly.&#xA;&#xA;Both the height of the taskbar and the dual monitors are not&#xA;indulgences, I need them to actually work effectively. Take a look at my task&#xA;bar at the moment: &#xA;&#xA;&#xA0;&#xA;&#xA;&#xA;&#xA;&#xA0;&#xA;&#xA;And that is not uncommon. Add a couple of debug sessions, a&#xA;few emails that I am in the middle of answering to, a couple more notepad windows,&#xA;and I would completely lose track of what I am doing.&#xA;&#xA;How does your taskbar looks like at the moment?</p>
        </article>
        <article id="article-8846">
            <a href="https://ayende.com/blog/1511/what-web-design-is-really-like" target="_blank">
                <h2 class="title mb-6" id="article-8846">What web design is REALLY like...</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Check out this picture. A truer tell was never told.                I am still laughing.</p>
        </article>
        <article id="article-8847">
            <a href="https://ayende.com/blog/1510/on-naming" target="_blank">
                <h2 class="title mb-6" id="article-8847">On Naming...</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">After reading Oren&#x27;s post&#xA0;about naming interfaces, I started to notice how I name my interfaces.     My own contribution to the &quot;interface names that give me a chuckle&quot; is&#xA0;IHaveNameAndId and IDecideWhenToStartTask, which I just created. I am probably going to rename that one, though.    And, as long as we are dealing with naming. I got an outstanding bug that read like this: &quot;Rename Fetch class to something that actually have a meaning.&quot; This class has a single method (well, one mehtod, several overloads) that looks like this:comboBox.DataBind&#xA0;=&#xA0;Fetch.IdAndDescription(&#xA0;...&#xA0;)&#xA0;;    Together with the method name, it actually makes sense, but I am not sure if this is a good practice. Then again, I can&#x27;t really think of a good name for that one.</p>
        </article>
        <article id="article-8848">
            <a href="https://ayende.com/blog/1509/what-should-a-new-programmer-learn" target="_blank">
                <h2 class="title mb-6" id="article-8848">What should a new programmer learn?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Leon&#xA0;is talking about what a new programmer should learn first, and I can&#x27;t agree more.    Learn what fails, and how, and why. Don&#x27;t call someone more experiance unless you already spent some time on this already.</p>
        </article>
        <article id="article-8849">
            <a href="https://ayende.com/blog/1508/semi-statics" target="_blank">
                <h2 class="title mb-6" id="article-8849">Semi Statics</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I talked about Static pros&#xA;and cons&#xA;before. I also promised that I would post my solution to that. To sumrise for&#xA;those who don&#x27;t want to read the previous posts: &#xA;&#xA;&#xA; Statics make it easy&#xA;     to access functionality from anywhere in the application. &#xA; They allow cross&#xA;     cutting concerns to be handled easily by infrastructure code. &#xA; It is hard to make them&#xA;     safe for multi threading. &#xA; It is usually hard to&#xA;     test code that uses singletons. &#xA;&#xA;&#xA;My solution for that is to use a piece from Rhino Commons,&#xA;the Local.Data hash table. This allow me to put objects that are assured to be&#xA;local to my current execution, regardless of whatever I am running in a windows&#xA;or web scenario. &#xA;&#xA;Once I have that, I can create this class: &#xA;&#xA;&#xA;&#xA;As you can see, this is a static class* with. The implementation is trivial:&#xA;&#xA;&#xA; &#xA;  &#xA;  public static class Context&#xA;  {&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; const string&#xA;  DbConnectionKey = &quot;Db.Connection.Key&quot;;&#xA;  &#xA0;&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public static IDbConnection DbConnection&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; get&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; IDbConnection connection = Local.Data[DbConnectionKey]&#xA;  as IDbConnection;&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if (connection == null)&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; throw new InvalidOperationException(&quot;Context&#xA;  was not initialized properly&quot;);&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return connection;&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }&#xA;  &#xA0;&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public static IDisposable Initialize(IDbConnection&#xA;  connection)&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LocalData.Data[DbConnectionKey]&#xA;  = connection;&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return new DisposableAction(delegate&#xA;  { Dispose()); }) ;&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }&#xA;  &#xA0;&#xA0;. . . &#xA;  }&#xA;  &#xA; &#xA;&#xA;&#xA;The usage is also simple, let us say that I want to do some operation that&#xA;require the database.&#xA0; I have some infrastructure code that handles the&#xA;basic interactions. On the web, I usually use an Http Module that takes care of&#xA;initializing and disposing the context. On Win Forms, I use the controller in&#xA;MVC to take care of this (if the application is complex enough to demand this).&#xA;The simplest scenario is a Windows Service. There I have some sort of coordinator&#xA;that dispatch work, and it takes care of it, like this:&#xA;&#xA;&#xA; &#xA;  &#xA;  public void DispatchWork()&#xA;  {&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; IDbConnection connection =&#xA;  GetConnectionFromSomewhere();&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; using (Context.Initialize(connection))&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; //Do work within this context&#xA;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }&#xA;  }&#xA;  &#xA; &#xA;&#xA;&#xA;I initialize the connection, and then I can do the rest of my work (usually&#xA;by calling other classes who pre-condition is that the context is initialized).&#xA;&#xA0;I found that this approach combines both thread safety and the convenience&#xA;of using static. Because there is only a single thread of execution (even if it&#xA;is a logical one), there will not be surprises because of this. In the first&#xA;post about statics, I gave an example of the IDbConnection blowing up because&#xA;two threads access it in the same time. Using this approach, there is only a&#xA;single thread, and it is consistent. If it will blow up, it will always&#xA;blow up. &#xA;&#xA;I may be in the middle of process an IDataReader, and call another method&#xA;that tries to read from the database, this will fail immediately, since the&#xA;second method will try to read and that is (generally) not allowed when a data&#xA;reader is already opened. There are no surprises there, and that is very&#xA;important thing. &#xA;&#xA;To talk in patterns, it is a Service Locator. Personally, I find that the&#xA;Context class becomes the speed dial into the rest of the application. I try to&#xA;keep my context as lightweight as possible, but I put common methods there as&#xA;well (see the IsAllowed() above for example of that). One thing that I insist&#xA;on is that everything that the context allow access to will be mockable. Usually&#xA;this mean returning an interface. When I need to test the code, I simply&#xA;replace the implementation (either using the initializer or by going directly&#xA;to Local.Data[] and modifying that entry).&#xA;&#xA;But what about the Is Allowed method? It is a static method, and that can&#x2019;t&#xA;be mocked. The Is Allowed method just make a call to the security service in&#xA;the Context (not shown here), and that can be mocked. In this case, it&#xA;is just a short cut to make it easier to follow the Law of Demeter and to save repeating&#xA;code.&#xA;&#xA;There are some disadvantages, you lose the ability to look at a class&#x2019;&#xA;interface and tell what the dependencies are. It may pull stuff from the&#xA;context to do its work, and you will need to look at the code to understand how&#xA;/ where / what it does with it.&#xA;&#xA;Another approach to this is the use of dependency injection. Castle&#x2019;s Windsor has some&#xA;very nice integration facilities for doing this, but without the need for the Context.&#xA;In this project, it was not applicable because of customer&#x2019;s demand.&#xA;&#xA;* Just to note, in my own implementation I actually use a normal class, and&#xA;extend the Context in several ways. It is all static, of course, but it is nice&#xA;to know that each part of the application uses the same context consistently</p>
        </article>
        <article id="article-8850">
            <a href="https://ayende.com/blog/1507/rhino-commons" target="_blank">
                <h2 class="title mb-6" id="article-8850">Rhino Commons</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: June 30, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I made some updates to my&#xA0;commons library. It is just a set of utility classes that I find useful. At the moment it contains:            Static Reflection                Bulk Deleter                Collection Actions - Find, Select All, Select All&#xA0;Not, etc            Date Range with operations - For Each Day, For Each Week, For Each Month, etc.            Disposable Action                EventArgs &lt;T&gt; - Which should have been in the BCL.            Property Indexers                Validation - mostly trivial stuff            Abortable Thread Pool - slightly modified from the MSDN version.            WaitForConsumersEvent                Local Data - See below    The thing that I use more than anything, though, is local data handling. I am pretty sure that I blog about this before, but I can&#x27;t find it now.&#xA0; The idea is to give you a simple hashtable of values that you can rely throughout your code. If you are working in Web context, it is using the Context.Items hash, and if you are working in a non-web context, you use a thread static hashtable.    This allows me to ignore where I am, and put stuff there that I know are private to my current logical thread of excutions.    You can find the bits here</p>
        </article>
        <div class="button flex justify-between">
            <a href="884.html"><span class="back arrow"></span></a>

            <a href="886.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>
</body>
</html>