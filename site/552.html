
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Home â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main">
    <section aria-label="Blog post list">
        <a href="https://ayende.com/blog/4252/nhibernate-shards-progress-report" target="_blank"><h1 class="title mb-6">NHibernate Shards: Progress Report</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 18, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Since my last post about it, there has been a lot of changes to NHibernate Shards.      Update: I can&#x2019;t believe I forgot, I was so caught up in how cool this was that I did give the proper credits. Thanks to Dario Quintana and all the other contributors to NHibernate Shards.   The demo actually works :-) You can look at the latest code here: http://nhcontrib.svn.sourceforge.net/svnroot/nhcontrib/trunk/src/NHibernate.Shards/  You can read the documentation for the Java version (most of which is applicable for the .NET version) here: http://docs.jboss.org/hibernate/stable/shards/reference/en/html/  Let us go through how it works, okay?  We have the following class, which we want to shard.    The class mapping is almost standard:     As you can see, the only new thing is the primary key generator. Because entities are sharded based&#xA0; on their primary key, we have to encode the appropriate shard in the shard. The easiest way of doing that is using the SharedUUIDGenerator. This generator generates keys that looks like this:     00010000602647468c2ef2f10ded039a    000200006ba74626a564d147dc89f9ad    00030000eb934532b828601979036e3c   The first four characters are reserved for the shard id.   Next, we need to specify the configurations for each shard, we can do this normally, but we have to specify the shard id in the configuration.          cfg.SetProperty(ShardedEnvironment.ShardIdProperty, 1);&#xA;  &#xA;&#xA;&#xA;The shard id is an integer that is used to select the appropriate shard. It is also used to allow you to add new shards without breaking the ids of already existing shards.&#xA;&#xA;Next, you need to implement a shard strategy factory:&#xA;&#xA; &#xA;&#xA;This allows you to configure the shard strategy based on your needs. This is often where you would add custom behaviors. A shard strategy is composed of several components:&#xA;&#xA; &#xA;&#xA;The Shard Selection Strategy is used solely to select the appropriate shard for new entities. If you shard your entities based on the user name, this is where you&#x2019;ll implement that, by providing a shard selection strategy that is aware of this. On of the nice things about NH Shards is that it is aware of the graph as a whole, and if you have an association to a sharded entity, it knows that it needs to place you in the appropriate shard, without giving the burden to you.&#xA;&#xA;For new objects, assuming that you haven&#x2019;t provided your own shard selection strategy, NHibernate Shards will try to spread them evenly between the shards. The most common implementation is the Round Robin Load Balancer, which will give you a new shard for each new item that you save.&#xA;&#xA;The Shard Resolution Strategy is quite simple, given an entity and the entity id, in which shard should we look for them?&#xA;&#xA; &#xA;&#xA; &#xA;&#xA;If you are using a sharded id, such as the one that WeatherReport is using, NH Shards will know which shard to talk to automatically. But if you are using a non sharded id, you have to tell NHibernate how to figure out which shards to look at. By default, if you have non sharded id, it will look at all shards until it finds it.&#xA;&#xA;The shard access strategy specifies how NHibernate Shards talks to the shards when it needs to talk to more than a single shard. NHibernate Shards can do it either sequentially or in parallel. Using parallel access strategy means that NHibernate will hit all your databases at the same time, potentially saving quite a bit of time for you.&#xA;&#xA;The access strategy is also responsible for handling post processing the queries result, merging them and ordering them as needed.&#xA;&#xA;Let us look at the code, okay? As you can see, this is a pretty standard usage of NHibernate. &#xA;&#xA;&#xA;  using(ISession session = sessionFactory.OpenSession())using(session.BeginTransaction()){    session.Save(new WeatherReport                     {                         Continent = &quot;North America&quot;,                         Latitude = 25,                         Longitude = 30,                        ReportTime = DateTime.Now,                         Temperature = 44                     });    session.Save(new WeatherReport                 {                     Continent = &quot;Africa&quot;,                     Latitude = 44,                     Longitude = 99,                     ReportTime = DateTime.Now,                     Temperature = 31                 });    session.Save(new WeatherReport                 {                     Continent = &quot;Asia&quot;,                     Latitude = 13,                     Longitude = 12,                    ReportTime = DateTime.Now,                     Temperature = 104                 });    session.Transaction.Commit();}&#xA;&#xA;&#xA;Since we are using the defaults, each of those entities is going to go to a different shard. Here is the result:&#xA;&#xA;&#xA;   &#xA;&#xA;Our data was saved into three different databases. And obviously we could have saved them to three different servers as well.&#xA;&#xA;But saving the data is only part of things, what about querying? Well, let us look at the following query:&#xA;&#xA;&#xA;  &#xA;    session.CreateCriteria(typeof(WeatherReport), &quot;weather&quot;).List()&#xA;  &#xA;&#xA;&#xA;This query will give us:&#xA;&#xA; &#xA;&#xA;Note that we have three different sessions here, each for its own database, each executing a single query. What is really interesting is that NHibernate will take all of those results and merge them together. It can even handle proper ordering across different databases.&#xA;&#xA;Let us see the code:&#xA;&#xA;&#xA;  &#xA;    var reports =    session.CreateCriteria(typeof(WeatherReport), &quot;weather&quot;)        .Add(Restrictions.Gt(&quot;Temperature&quot;, 33))        .AddOrder(Order.Asc(&quot;Continent&quot;))        .List();foreach (WeatherReport report in reports){    Console.WriteLine(report.Continent);}&#xA;  &#xA;&#xA;&#xA;Which results in:&#xA;&#xA; &#xA;&#xA;And in the following printed to the console:&#xA;&#xA;&#xA;  Asia&#xA;    North America&#xA;&#xA;&#xA;We got the proper ordering, as we specified in the query, but note that we aren&#x2019;t handling ordering in the database. Because we are hitting multiple sources, it is actually cheaper to do the ordering in memory, rather than get partially ordered data and they trying to sort it.&#xA;&#xA;Well, that is about it from the point of view of the capabilities. &#xA;&#xA;One of the things that is holding NH Shards back right now is that only core code paths has been implemented. A lot of the connivance methods are currently not implemented.&#xA0; &#xA;&#xA; &#xA;&#xA;They are relatively low hanging fruits, and can be implemented without any deep knowledge of NHibernate or NHibernate Shards. Beyond that, the sharded HQL implementation is still not handling order properly, so if you care about ordering you can only query using ICriteria (at the moment). &#xA;&#xA;&#xA;&#xA;It isn&#x2019;t there yet, but it is much closer. You can get a working demo, and probably start working with this and implement things on the fly as you run into things. I strongly urge you to contribute the missing parts, at least the convenience methods, which should be pretty easy.&#xA;&#xA;Please submit patches to our JIRA and discuss the topic at: http://groups.google.com/group/nhcdevs</p>
        <a href="https://ayende.com/blog/4251/what-am-i-missing-msmq-perf-issue" target="_blank"><h1 class="title mb-6">What am I missing? MSMQ Perf Issue</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 18, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I am getting some strange perf numbers from MSMQ, and I can&#x2019;t quite figure out what is going on here.  The scenario is simple, I have a process reading from queue 1 and writing to queue 2. But performance isn&#x2019;t anywhere near where I think it should be.  In my test scenario, I have queue 1 filled with 10,000 messages, each about 1.5 Kb in size. My test code does a no op move between the queues. Both queues are transactional.  Here is the code:          private static void CopyData(){    var q1 = new MessageQueue(@&quot;.\private$\test_queue1&quot;);    var q2 = new MessageQueue(@&quot;.\private$\test_queue2&quot;);    q2.Purge();    var sp = Stopwatch.StartNew();    while (true)    {        using (var msmqTx = new MessageQueueTransaction())        {            msmqTx.Begin();            Message message;            try            {                message = q1.Receive(TimeSpan.FromMilliseconds(0), msmqTx);            }            catch (MessageQueueException e)            {                Console.WriteLine(e);                break;            }            q2.Send(message, msmqTx);            msmqTx.Commit();        }    }    Console.WriteLine(&quot;{0:#,#}&quot;, sp.ElapsedMilliseconds);}&#xA;  &#xA;&#xA;&#xA;Using this code, it takes 236.8 seconds to move 10,000 messages. If I use System.Transactions, instead of MSMQ&#x2019;s internal transactions, I get comparable speeds.&#xA;&#xA;Just to give you an idea, this is about 40 messages a second, this number is ridiculously low.&#xA;&#xA;Changing the code so each operation is a separate transaction, like this:&#xA;&#xA;&#xA;  &#xA;    private static void CopyData(){    var q1 = new MessageQueue(@&quot;.\private$\test_queue1&quot;);    var q2 = new MessageQueue(@&quot;.\private$\test_queue2&quot;);    q2.Purge();    var sp = Stopwatch.StartNew();    while (true)    {        Message message;        try        {            message = q1.Receive(TimeSpan.FromMilliseconds(0), MessageQueueTransactionType.Single);        }        catch (MessageQueueException e)        {            Console.WriteLine(e);            break;        }        q2.Send(message, MessageQueueTransactionType.Single);    }    Console.WriteLine(&quot;{0:#,#}&quot;, sp.ElapsedMilliseconds);}&#xA;  &#xA;&#xA;&#xA;Means that it takes 16.3 seconds, or about 600 messages per second, which is far closer to what I would expect.&#xA;&#xA;This is on a quad core machine 8 GB RAM (4 GB free), so I don&#x2019;t think that it is the machine that is causing the problem. I can see similar results on other machines as well.&#xA;&#xA;Am I missing something? Is there something in my code that is wrong?</p>
        <a href="https://ayende.com/blog/4250/challenge-write-the-check-in-comment" target="_blank"><h1 class="title mb-6">Challenge</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 17, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">In my code base, I have the following commit, which doesn&#x2019;t have a checkin comment. This is the before:          private Entry GetEntryForSlug(string slug){    var entry = session.CreateCriteria(typeof(Entry))        .Add(Restrictions.Like(&quot;Slug&quot;, slug))        .UniqueResult&lt;Entry&gt;();    if(entry != null)        return entry;        //try load default document    return session.CreateCriteria(typeof (Entry))        .Add(Restrictions.Like(&quot;Slug&quot;, slug &#x2B; &quot;/default&quot;))        .UniqueResult&lt;Entry&gt;();}&#xA;  &#xA;&#xA;&#xA;And this is the after:&#xA;&#xA;&#xA;  &#xA;    private Entry GetEntryForSlug(string slug){    var entries = session.CreateCriteria(typeof(Entry))        .Add(            Restrictions.Like(&quot;Slug&quot;, slug) ||            Restrictions.Like(&quot;Slug&quot;, slug &#x2B; &quot;/default&quot;)            )        .SetMaxResults(2)        .List&lt;Entry&gt;();    return entries        .OrderBy(x =&gt; x.Slug.Length)        .FirstOrDefault();}&#xA;  &#xA;&#xA;&#xA;What was the silent committer thinking about when he made the change? Can you write the check in comment?</p>
        <a href="https://ayende.com/blog/4249/life-altering-decisions" target="_blank"><h1 class="title mb-6">Life altering decisions</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 16, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I recently had the chance to reminisce, and I run into this post, this is me in 2004, talking about my logo:    People frequently ask my, &#x201C;Why Rhinos?&#x201D;, here is the answer, from way back ago:     I thought about using some sort of a symbol to create the logo, I toyed for a while with the Windings font, but found that lacking for my purposes, then I thought about using an animal&#x27;s shadow as the watermark. I thought about using some sort of dragon or a wolf, but those are really banal. I spent some time thinking about it until I finally decided to use a Rhino, I just thought about it and I think that it&#x27;s cool. Beside, I don&#x27;t know anyone else that uses Rhinos.   The logo and the general orange theme of the blog, were decisions that I just made, there was no deep thinking involved. My living room has a lot of orange in it right now, and I have a Rhino tattoo.  It is funny how such small a decision can have such a significant impact.  Can you imagine Wolf.Mocks?</p>
        <a href="https://ayende.com/blog/4248/git-commits-as-code-review" target="_blank"><h1 class="title mb-6">Git commits as code review?</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 15, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I just had to go through a code base where I had a bunch of of comments.   Instead of going with the usual route of just noting the changes that I think should be done, I decided to do something else. I fixed each individual change, and commit them individually.   This is how it looks like, each commit is usually less than a single screen of changes (diff mode).     I wonder if it is something that I can apply more generally.</p>
        <a href="https://ayende.com/blog/4247/ui-mockups" target="_blank"><h1 class="title mb-6">UI Mockups</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 14, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I spoke in the past about the importance of UI mockups. I consider them an essential part of software design. It is often much easier to gather requirements when you are talking in concrete terms about how the software looks like.  It is important to note that I do not care about the look and feel of the mockup, in fact, I don&#x2019;t want it to look good, it should have a drafty look that would make it clear that this is just a mockup. It is a communication tool as much as anything else. It just allow me to talk about things in concrete terms.  A while ago I found Balsamiq, and I was happy. Balsamiq does just about everything that I want from a UI mockup tool.  Except, it doesn&#x2019;t do Hebrew :-(.  That prompt me to start looking at several other UI mockup tools, to see if there are any that do support Hebrew and that I can tolerate them.  I tried a few others, and got varying support for Hebrew. The best ones from Hebrew support perspective where Mockup Screens and Blend&#x2019;s SketchFlow.   My test scenario was this UI (in Hebrew):     This is Balsamiq mock, which took about 3 minutes to build, the first time I used Balsamiq.  I could get it in Mockup Screens after about ten minutes of playing with the options to get it working. Mockup Screens is nice, but it is giving me too many knobs to turn. I felt it especially when I tried to do the table. I had to specify columns &amp; rows, and specifying the data was done in a separate dialog.  It works, but it is awkward.  The next one I tried is Blend&#x2019;s SketchFlow. I heard a lot of excitement about it, so I tried to give it a spin. A Silverlight 3 SketchFlow project simply does not support Hebrew. A WPF SketchFlow does, and that exposed me to a very nasty surprise. I was expected a way to easily build sketches of the screens that I was interested in.  Basically, something similar to what Balsamiq gives me. What it turns out is that there are a few simple controls (check box, drop down, etc) and everything else that you want you need to actually sketch. That is, sit down and draw it.  The problem is that this take inordinate amount of time. Especially if you are actually trying to do something like the screen above. I just wan&#x2019;t a stupid table with some data, but this was way too hard to do in SketchFlow. If I am reduced to literally drawing on the screen, I might as well draw it on paper. It is about as easy to manipulate, at that stage.  In the end, I think that what I&#x2019;ll end up doing is using Excel or Word as the mockup tool. They both have good Hebrew support, and they can do things like tables, drop downs and checkbox easily, which is pretty much all I need. It also make it perfectly clear that this isn&#x2019;t something executable.  And if you don&#x2019;t care for Hebrew support, go and use Balsamiq, it is awesome.   Update:  Matt Kellogg has informed me that you can use Balsamiq with Hebrew support, all you need to do is set Use System Fonts:     And once that is done, it took only a few moments to handle this:     Now, it does suffer from all the usual RTL problems, but it is working, and it is still by far the best one out there.</p>
        <a href="https://ayende.com/blog/4246/what-is-up-with-the-entity-framework-vnext" target="_blank"><h1 class="title mb-6">What is up with the Entity Framework vNext?</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 14, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Every now and then I do a quick check on the EF blog, just to see what there status is. My latest peek had caused me to gulp. I am not sure where the EF is going with things, I just know that I don&#x2019;t really like it.  For a start, take a look at the follow sample from their Code Only mapping (basically Fluent NHibernate):          .Case&lt;Employee&gt;(    e =&gt; new {      manager = e.Manager.Id      thisIsADiscriminator = &#x201C;E&#x201D;    }) &#xA;  &#xA;&#xA;&#xA;There are several things wrong here: &#x201C;manager&#x201D; and &#x201C;thisIsADiscriminator&#x201D; are strings for all intent and purposes. The compiler isn&#x2019;t going to check them, they aren&#x2019;t there to do something, they are just there to avoid being a literal string. But they are strings.&#xA;&#xA;Worse, &#x201C;thisIsADiscriminator&#x201D; is a magic string. &#xA;&#xA;Second, and far more troubling, I am looking at this class definition and I cringe:&#xA;&#xA;&#xA;  &#xA;    public class Category{   public int ID {get;set;}   public string Name {get;set;}   public List&lt;Product&gt; Products {get;set;}}&#xA;  &#xA;&#xA;&#xA;The problem is quite simple, this class has no hooks for lazy loading. You have to load everything here in one go. Worse, you probably need to load the entire graph in one go. That is scaring me on many levels.&#xA;&#xA;I am not sure how the EF is going to handle it, but short of IL Rewrite techniques, which I don&#x2019;t think the EF is currently using, this is a performance nightmare waiting to happen.</p>
        <a href="https://ardalis.com/how-to-install-windows-7-from-usb-drive/" target="_blank"><h1 class="title mb-6">How to Install Windows 7 from USB Drive</h1></a>
        <p class="mb-2">by Ardalis</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 13, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I decided to reinstall Win7 on one of my laptops because it was acting up &#x2013; turns out that&#x2019;s not helping and I think at this point it&#x2019;s a&#x2026;Keep Reading &#x2192;</p>
        <a href="https://ayende.com/blog/4245/disposable-servers" target="_blank"><h1 class="title mb-6">Disposable servers</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 13, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I have been using Amazon EC2 and GoGrid recently, and I found myself spinning out a server to do a specific task (converting Subversion repository to git repository, copying a database, trying out VS 2010, etc).  Usually I do it because the cloud machines has a lot more bandwidth than I have locally, and I can also choose a specific OS &#x2B; services that match what I care for. I am not used to thinking about servers in this fashion, but I find myself doing it fairy often recently.  Interesting shift.</p>
        <a href="https://ayende.com/blog/4244/review-gogrid-vs-amazon-ec2" target="_blank"><h1 class="title mb-6">Review</h1></a>
        <p class="mb-2">by Oren Eini</p>
        <p class="mb-6 flex gap-1.5">
                    <span>
                                    <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                                         xmlns="http://www.w3.org/2000/svg"><path
                                            xmlns="http://www.w3.org/2000/svg"
                                            d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
            posted on: October 12, 2009
        </p>
        <p class="max-w-full w-full line-clamp-5 text-justify mb-20">For the last year or so, I have been running my servers on GoGrid. The main reason for wanting to do that is because I wanted to run on a Windows 2008 server, and there was no good UI for managing EC2 at the time. I have been playing around with EC2, trying to see if this fit my needs better. Well, in reality, I was trying to see if locating a server instance in Europe would give me better latency when I need to administer the servers (it does).     Nitpicker corner: The following is a review of both providers for my scenario. I know that you&#x2019;ll ignore that, but do try paying attention to the fact that I am talking about my scenario, and not yours.    After playing around with EC2 for several days, I came with the following conclusions. GoGrid &amp; EC2 only looks similar. They are actually two different offering targeting different types of scenarios.  EC2 is to handle clouds, period. Server instances are meaningless, except maybe by their role. They come &amp; go as they please and they are utterly disposable. That makes it great if what you want to do is have a cloud. It is very hard if what you want is just running server instances.  For my purposes, I don&#x2019;t want to have a cloud of indistinguishable machines, I want to be able to run a lot of different sites on different machines. Maybe I want to have a set of machines for a single site, but I still want to be able to clearly and easily separate the machines that run nhprof.com and the ones that run ayende.com.  That made working with EC2 really uncomfortable, to tell you the truth. They don&#x2019;t support anything like naming an instance, which make sense, from their point of view. You should not get attached to an instance, you should get attached to an image of that instance.   That doesn&#x2019;t work quite that well for my case, however. I was willing to accept this limitation, but I run into a few others that were deal breakers for me.     Amazon EC2 doesn&#x2019;t support Windows 2008. This is really annoying, both because there are some features that I could have used and because Windows 2003 (their only Windows offering) is not supporting RDP saved passwords, and doesn&#x2019;t support copy/paste in the login screen. Both of which make it horrible login experience with the crazy passwords Amazon assign.     No good way to recover an instance. I setup an instance, told it to install security updates, and rebooted it. It didn&#x2019;t come up. I am not sure what I am supposed to do in this case. You have to enter a support contract to recover this, as far as I could tell (and I wasn&#x2019;t willing to do so just for the trial). It seems that the response would have been: &#x2018;just recreate the instance&#x2019;.     Long instance provisioning time. Spinning up a new instance in EC2 seems to take about 15 &#x2013; 30 minutes, which is annoyingly long. Yes, I know about reserved instances, not applicable for my scenario. (GoGrid feels faster, but I don&#x2019;t have any data to say if it is faster).   GoGrid, on the other hand, takes a drastically different approach.    Basically, they give you a server farm, you can create instances of machines, name them and manage them as individuals. They do support Windows 2008, and their support is phenomenal.   I have been running nhprof.com there for a long while, and overall, I love what they are doing, their support level and the experience.  Their main disadvantage compared to EC2 was that they didn&#x2019;t support cloning an image, they fixed that a while ago, which makes me very happy.   This subtle difference, from focusing on set of instances to focusing on an instance, is a huge benefit for my scenario, because it allows me to manage the different parts of my infrastructure directly, instead of indirectly or via brute force.  One thing to note about both of them. They both consider instances to be disposable. If you have problems with a server, you are probably better off just creating a new instance and setting that up.  GoGrid is better than EC2 here, because they will try to salvage a dead instance, but you should have a backup and the means to restore it on a new machine ready, in the end, it is much easier than the alternative.  I am using a backup service (Mozy, if you care) for all my servers, and that takes care of that.   Note that my scenario is that I care about running my existing applications on a server in the cloud, not running in the cloud. That is why I didn&#x2019;t even consider something like Azure of AppEngine. They don&#x2019;t matter for this scenario.   If I was building a new application that required scaling, it would probably be a different sort of decision matrix, with potentially a different result.  From pricing perspective, they seems comparable. GoGrid says that they are cheaper, but they would :-)</p>
        <div class="button flex justify-between">
            <a href="551.html"><span class="back arrow"></span></a>

            <a href="553.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2024<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js"></script>
<script src="pagefind/pagefind-ui.js"></script>
</body>
</html>