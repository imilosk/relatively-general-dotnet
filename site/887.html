
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 887 &#x2022; Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="/pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline underline"
               href="index.html"> Home </a><a
                aria-current="" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline " href="about.html">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>


<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-8861">
            <a href="https://ayende.com/blog/1701/nhibernate-1-2-beta1-released" target="_blank">
                <h2 class="title mb-6" id="article-8861">NHibernate 1.2 Beta1 Released!</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: September 25, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Yesterday the beta for NHibernate 1.2 was released, the new features that interests me are:            Native generics (you no longer have to use the NHibernate.Generics compatability library).            Batching support (SQL Server only) - huge perforamance increase in some scenarios.            Support for using Stored Procedures.            Support for named connection strings.            SQL Server 2005 and SQL Server 2005 Everywhere dialects                Parametrized types and User Collection Types - for the really advanced scenarios :-)                Support for projections in criteria queries - This one looks especially interesting                                     IL-based reflection optimizer - another big performance boost.                         You can get the new beta release here, and the full release notes are here.</p>
        </article>
        <article id="article-8862">
            <a href="https://ayende.com/blog/1700/book-review-old-mans-war" target="_blank">
                <h2 class="title mb-6" id="article-8862">Book Review</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: September 25, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Old Man&#x27;s War    Only occasionally I get to read a book that make go &quot;Wow!&quot;, merely because the strength of the plot and the charm of the charaters. Scalzi creates a full fledge world (universe, actually) very quick, very easily and very convincingly.    The story reminded me strongly of Hienlien&#x27;s Starship Troopers&#xA0;(although the only common plot idea is war among the stars). As someone who grew up on Hienlien&#x27;s books, that is a high praise.    There are two other books in the same universe, and I&#x27;m looking forward to reading them...</p>
        </article>
        <article id="article-8863">
            <a href="https://ayende.com/blog/1699/hanselminutes-33-hibernation" target="_blank">
                <h2 class="title mb-6" id="article-8863">Hanselminutes 33 &amp; Hibernation</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: September 23, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I am currently listenining to Hansleminutes #33 and found out that Mac users has an advantage over Windows users in the laptop department. Apperantly Mac user can simply shut the lid, put it in the bag and go on.    I&#x27;ve been doing the exact that with my laptop, whose uptime at the exceeded the 40 days mark before the @#$% Windows Update decided that it is a good time to force a shutdown, with nary a problem.</p>
        </article>
        <article id="article-8864">
            <a href="https://ayende.com/blog/1698/binsor-on-track-and-trunk" target="_blank">
                <h2 class="title mb-6" id="article-8864">Binsor on track (and trunk)</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: September 23, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">IoC 29 - Required to make Binsor work, has moved (with changes from Hammett), to the trunk. I&#x27;ve update Rhino Commons with the new changes, and now you can use it with the Windsor from Castle&#x27;s trunk.    Have fun...</p>
        </article>
        <article id="article-8865">
            <a href="https://ayende.com/blog/1697/girls-wtf" target="_blank">
                <h2 class="title mb-6" id="article-8865">Girls - WTF?!</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: September 23, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I just had a converstion with a friend of mine, that started like this:    Her: (accusing) &quot;Why didn&#x27;t you call to say happy new year*?&quot;    Me: &quot;I don&#x27;t call anyone to say that.&quot;    Her: &quot;It is good that you didn&#x27;t call, I hate when people do that.&quot;    Damned if I do, and damned if I don&#x27;t. God help me if I could ever understand women.    * It is the Jewish new year.</p>
        </article>
        <article id="article-8866">
            <a href="https://ayende.com/blog/1696/upgraded-to-dasblog-1-9" target="_blank">
                <h2 class="title mb-6" id="article-8866">Upgraded to dasBlog 1.9</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: September 23, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">The blog was down for about half an hour while I updated to dasBlog 1.9. You should be able to notice a major speedup.    The nice feature that I really want is the tag cloud support, but I can&#x27;t figure out how to make it work, I added it to the theme, but it isn&#x27;t outputting anything. You should notice the nice category view, though.</p>
        </article>
        <article id="article-8867">
            <a href="https://ayende.com/blog/1695/brail-breaking-change-removing-the-code-markers" target="_blank">
                <h2 class="title mb-6" id="article-8867">Brail Breaking Change: Removing the &lt;? ?&gt; code markers</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: September 20, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Just read this post, talking about a problem with generating valid XML for IE using Brail. The issue is that Brail considers &lt;? ?&gt; as code blocks markers, thus completely disabling support for xml processing instructions.     This is a breaking change in Brail, but I feel that the reason for removing them is strong enough to do so. If you have got Brail code that uses &lt;? ?&gt;, you need to replace it to either &lt;% %&gt; (not recommended) or &lt;?brail ?&gt; (recommended, valid XML). If this is a really big issue for you, please inform me, and I&#x27;ll create a compatability mode.    And Ken, I couldn&#x27;t post any comments to your blog for some reason.</p>
        </article>
        <article id="article-8868">
            <a href="https://ayende.com/blog/1694/what-kind-on-an-idiot" target="_blank">
                <h2 class="title mb-6" id="article-8868">What kind on an idiot?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: September 19, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I just good a Happy New Year email from a company I bought&#xA0;some nonsense&#xA0;from about three years ago. Leaving aside the fact that I contains no memory of why I was in their distribution list, I have posted below all the emails that were in the To field. This is at 40% resolution, and it was enough to fill up a whole page in word.        Way to go.</p>
        </article>
        <article id="article-8869">
            <a href="https://ayende.com/blog/1693/side-benefits-of-testablity" target="_blank">
                <h2 class="title mb-6" id="article-8869">Side benefits of testablity</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: September 19, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">A while ago I needed to test the output of a class that wrote data to a file. I didn&#x27;t want to start reading/ writing files in my tests, so I created the following interface:            public&#xA0;interface&#xA0;IOutputFactory        {        &#xA0;&#xA0;TextWriter&#xA0;Create(string&#xA0;name);        }        This was easy to mock, and I could get the output back very easily. I didn&#x27;t gave it much thought afterward, except to cuckle a bit at this interface&#x27;s purpose. The implementation was simple:return&#xA0;File.CreateText(name);    Then, I got a new requirement from the customer: When I finish writing to a file, I should rename it using a pre-defined pattern. I really have no idea how I would have found all the file I/O operations in this application, but using the approach above, I created a RenamingTextWriter, which would rename the output file when it is closed. That change was a matter of minutes, as was the change to add application wide enconding to the file.    In Working With Legacy Code, Michael talks quite a bit about the seams of the system, where you can insert your mocks and start testing. What I have found is that those seams are very useful for adding functionality, the above case is fairly simple, but I&#x27;m using the same approach quite a bit all over the place.</p>
        </article>
        <article id="article-8870">
            <a href="https://ayende.com/blog/1692/using-nhibernate-with-stored-procedures" target="_blank">
                <h2 class="title mb-6" id="article-8870">Using NHibernate With Stored Procedures</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: September 18, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">No, really for real this time. I opened my mailbox today to find a very interesting message from the NHibernate commit logs:            NH-258 - Custom SQL support (including stored procedures)        It may look fairly innocent comment, but it has quite an impact on several nay-sayers that will clutch stored procedures until you pry them out of their cold dead hands. Also, sometimes Stored Procedures (or raw SQL) are useful :-).    So, armed with nothing but a toothpick and some shoes&#x27; polish, I turned to the task of finding out how to use this wonderous new feature. I started on the Hibernate documentation in the subject    The table model is very simple:        I then create a simple set of stored procedures, all of which were fairly standard, like this one:            ALTER PROCEDURE [dbo].[EmployeesInsert](                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; @Name nvarchar(50), @Surname nvarchar(50),                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; @Email nvarchar(50), @Type int, @Id int                        )                        AS                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INSERT INTO [Employees]                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; (                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [Id], [Name], [Surname], [Email], [Type]                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; )                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VALUES                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; (                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; @Id, @Name, @Surname, @Email, @Type                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; )                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RETURN @@Error        I have created those procedures via code generations, but I think that you&#x27;ll agree that most existing stored procedures will have a similar look. I have the following SPs:    &#xB7;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; EmployeesInsert        &#xB7;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; EmployeesUpdate        &#xB7;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; EmployeesDelete        &#xB7;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SalariesInsert        &#xB7;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SalariesUpdate    &#xA0;&#xB7;&#xA0;&#xA0;&#xA0;&#xA0; SalariesDelete    The only slightly strange thing about these procedures is the position of the ID parameter. While in most SP it is the first parameter, it seems that NHibernate requires it to be the last parameter on the stored procedure. Also note that specifying SET NOCOUNT ON will cause NHibernate to think that it didn&#x27;t manage to save the row, and throw. The SP must return a count of 1.    So, given those, how am I going to proceed?    First thing that I should do it to update the XSD schemas, this is so I could get intellisense inside VS.Net when I edit the mapping files. Then, let us create our entites:        This is a fairly simple model to grasp, but hard to implement. I&#x27;ll not show you everything, but I&#x27;ll at least put you on the right path. Let us start with mapping the Employee class:            &lt;class name=&quot;Employee&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0; table=&quot;Employees&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0; discriminator-value=&quot;1&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0; lazy=&quot;true&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;id name=&quot;Id&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; unsaved-value=&quot;0&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;generator class=&quot;assigned&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/id&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;discriminator column=&quot;Type&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;property name=&quot;Name&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;property name=&quot;Surname&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;property name=&quot;Email&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;set name=&quot;Salaries&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;generic=&quot;true&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;key column=&quot;EmployeeId&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;one-to-many class=&quot;Salary&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;loader query-ref=&quot;allSalariesForEmployee&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/set&gt;                                            &#xA0;                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;subclass name=&quot;Manager&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0; discriminator-value=&quot;2&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;sql-insert&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; exec EmployeesInsert ?,?,?,2,?                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/sql-insert&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/subclass&gt;                                            &#xA0;                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;sql-insert&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; exec EmployeesInsert ?,?,?,1,?                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/sql-insert&gt;                        &lt;/class&gt;        This is mostly standard NHibernate mapping, with some interesting additions, notice the generic=&quot;true&quot; in the set defination? That means that you can use ISet&lt;T&gt; without using NHibernate.Generics.    Now, for now, let us ignore the &lt;loader&gt; in the set element, and look at the bottom of the code, where we find a &lt;sql-insert&gt; statement, which directs NHibernate to use the text inside when it is inserting an entity to the database. A couple of points about the question marks before we continue:            The identifier of this entity is always the last one.            The rest of the fields appear in the order that they were defined in the XML.            The last two statements are&#xA0;both wrong,&#xA0;in order to know, you need to check the generated SQL that NHibernate generates, and only then you will know. The issue here is that it gets quite complex with inheritance hierarcies, multi column fields, etc.    NHibernate transforms this call to:             exec     EmployeesInsert @p0,@p1,@p2,1,@p3        As I have no real control on the order of the parameters, my SP needs to be changed approprirately (above it appears after the changes). Now, about managers, you noticed that I specified a different statement there? That allows me to pass the different discriminator value (or maybe call ManagersInsert), etc.    Before we get to the set mystery, let us take a look at how I mapped Salary:            &lt;class name=&quot;Salary&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0; discriminator-value=&quot;-1&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;id name=&quot;Id&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;generator class=&quot;assigned&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/id&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;discriminator column=&quot;Type&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;property name=&quot;Remark&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;many-to-one name=&quot;Employee&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;class=&quot;Employee&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;column=&quot;EmployeeId&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;subclass name=&quot;HourlySalary&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0; discriminator-value=&quot;1&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;property name=&quot;HourlyRate&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0; column=&quot;ParameterOne&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;sql-insert&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; exec SalariesInsert ?,?,?,1,?                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/sql-insert&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/subclass&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;subclass name=&quot;GlobalSalary&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0; discriminator-value=&quot;2&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;property name=&quot;TotalSalary&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0; column=&quot;ParameterOne&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;sql-insert&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; exec SalariesInsert ?,?,?,2,?                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/sql-insert&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/subclass&gt;                                            &#xA0;                                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;sql-insert&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; raiserror (&#x27;Salary is an abstract type, can&#x27;&#x27;t insert it!&#x27;,10,1)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/sql-insert&gt;                        &lt;/class&gt;        This is not very different, isn&#x27;t it?&#xA0;Notice that because salary is an abstract type, I raise an error if an attempt is made to save it (not really neccecary, since this is not possible, but whatever). Then, each subclass defined each own insert statement.    One thing to notice here is the parameter orderring. It appears that in this case the orderring is in the order defined in the mapping, in reverse hierarchal depth. Which means that the members of the subclass appear first, and then the members of the parent class, and last (but not least) the id.    For reference, here is the SalariesInsert procedure:            ALTER PROCEDURE [dbo].[SalariesInsert]                        (                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; @ParameterOne int, @Remark nvarchar(50),                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; @EmployeeId int, @Type int, @Id int                        )                        AS                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INSERT INTO [Salaries]                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; (                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [Id], [Type], [ParameterOne], [Remark], [EmployeeId]                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; )                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VALUES                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; (                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; @Id, @Type, @ParameterOne, @Remark, @EmployeeId                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; )                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RETURN @@Error        Now, let us check that facinating association between employees and salaries:&lt;loader query-ref=&quot;allSalariesForEmployee&quot;/&gt;        This means that when NHibernate wants to load the employees&#x27; salaries, it needs to execute the query (not SP) that is specified. In this case, here is the query:            &lt;sql-query name=&quot;allSalariesForEmployee&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;load-collection alias=&quot;salaries&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;role =&quot;Employee.Salaries&quot;/&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; exec [SalariesByEmployeeId] ?                        &lt;/sql-query&gt;        Note that we need to specify which collection this query resolves. The SalariesByEmployeeId is simply:            ALTER PROCEDURE [dbo].[SalariesByEmployeeId]                        (                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; @EmployeeId int                        )                        AS                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SELECT                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [Id], [Type], [ParameterOne], [Remark], [EmployeeId]                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FROM [Salaries]                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [EmployeeId] = @EmployeeId        So, that is all that I have to say so far, you can check Hibernate&#x27;s documentation&#xA0;for all of the details, and check out the latest NHibernate code to play with it.    This is probably not going to help you map directly to pre-existing stored procedures, but it make it that much easier to work in those envrionment where you just can&#x27;t get the data from the tables (for various reasons, not the least of which is the 160 columns table), or where Stored Procedures are mandated.    I&#x27;m very excited by this because I know that there are several places where this can be very helpful. I love PIVOT, and it was annoying not to be able to use it from NHibernate.    The disadvantages - You take away from NHibernate the ability to comprehend the structure of the tables, this mean that it can&#x27;t do joins, eager fetching, etc. This is extremely important capability that just vanished. Likewise for queries, NHibernate&#x27;s abilities to query your objects is being severly limited using this method of operation.</p>
        </article>
        <div class="button flex justify-between">
            <a href="886.html"><span class="back arrow"></span></a>

            <a href="888.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>

<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="about.html"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="/pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>
