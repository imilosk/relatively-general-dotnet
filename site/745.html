
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 745 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-7441">
            <a href="https://ayende.com/blog/2850/creating-readable-content" target="_blank">
                <h2 class="title mb-6" id="article-7441">Creating readable content</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 09, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Okay, let us see if I can get this post readable. If I am successful, you are supposed to see two images, one to the left and one to the right. Those images represent two blog posts, they are blurred on purpose, I don&#x27;t want to talk about the content, I want to talk about the presentation here. The main difference between those two posts is the amount of text that goes into one paragraph. This has a direct correlation to the way that I read content. The post on the left is painful to read, it has massive amount of text that I need to parse and read. I actually stopped reading it when I figure out that I was merely scanning it to avoid actually reading the content. By reducing the amount of text per paragraph, you are making it easier to read the content, you let the eye skip to the next one naturally, instead of having to parse it. Books can get away with it somewhat, because they have much higher resolution, but on the web, you cannot. You have to pay attention to the way you are writing. Short paragraphs make it more pleasant to read the content. Dense content is painful to read, and it gives the feeling that it is dry, even if it is the most fascinating subject on the world.  And that was a whole post that could be surmised as &quot;just hit enter more often, dude&quot;, sorry.</p>
        </article>
        <article id="article-7442">
            <a href="https://ayende.com/blog/2849/zero-friction-configurations" target="_blank">
                <h2 class="title mb-6" id="article-7442">Zero Friction Configurations</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 08, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Today I broke down and added this to my windsor.boo config: serviceAssemblies = ( Assembly.Load(&quot;MyApp&quot;), )&#xA;for asm in serviceAssemblies:&#xA;  for type in asm.GetTypes():&#xA;    continue unless type.NameSpace == &quot;MyApp.Services&quot;&#xA;    continue if type.IsInterface or type.IsAbstract or type.GetInterfaces().Length == 0&#xA;    Component(type.FullName, type.GetInterfaces()[0], type)&#xA;I was staring at the task of adding two lines to a config file that is less than a 100 lines (including imports &amp; spacing), but that would have been an extra step that I needed to take, and I had intended to create three or five services in the next hour or so. At that point, I couldn&#x27;t live with having to go into that extra step of adding a line per service.&#xA;It is not the line itself that is bothering me, it is the need to remember adding it. Stuff should just happen the way I want it to. I really like that Binsor give me the&#xA0;ability to just go and change the convention of the configuration at will, and that would do for now.</p>
        </article>
        <article id="article-7443">
            <a href="https://ayende.com/blog/2848/multiple-parents-in-cascading-drop-downs-in-monorail" target="_blank">
                <h2 class="title mb-6" id="article-7443">Multiple parents in Cascading Drop Downs in MonoRail</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 08, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Apparently I am suffering from the Bug Duplication Syndrom. Shortly after posting about cascading drop downs in MonoRail, I realized that I have actually duplicated a bug that I have run into while using the cascading drop down extender in the ASP.Net Ajax toolkit. That is not a fixable bug, btw, and has to do with what happens when you have more than a single parent. You can see my post about this scenario&#xA0;here, but be aware that the solution in that post is vulnerable to race conditions, and I have finally declared that unpracticle to use. At any rate, I have duplicate the inability to have multiply parents in my previous solution using MonoRail. And I decided that instead of fixing it in place, I&#x27;ll show the steps neccesary to fix the problem. Basically, we want to update both the secondaries select and the tertiaries select, which means that our GetSecondaryProfressionsByPrimary.brailjs will now contains:   page.Replace( &#x27;secondaries&#x27;, &#xA0;&#xA0;&#xA0; Form.Select(&#x27;secondaries&#x27;,SecondaryProfessions, &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {@value: @Id, @text: @Name, @firstoption: res.Select})&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; )page.Replace( &#x27;tertiaries&#x27;, &#xA0;&#xA0;&#xA0; Form.Select(&#x27;tertiaries&#x27;,TertiaryProfessions, &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {@value: @Id, @text: @Name, @firstoption: res.Select})&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; )page.Call( @hookSecondariesChangeEvent ); And that the GetSecondaryProfressionsByPrimary action is now: public void GetSecondaryProfressionsByPrimary(Guid id)&#xA;{&#xA;&#x9;PropertyBag[&quot;SecondaryProfessions&quot;] =&#xA;&#x9;&#x9;professionRepository.FindSecondariesByPrimaryIdOrAll(id);&#xA;&#x9;PropertyBag[&quot;TertiaryProfessions&quot;] =&#xA;&#x9;&#x9;professionRepository.FindTertiariesByPrimaryIdOrAll(id);&#xA;}&#xA;&#xA;Oh, and that was it.</p>
        </article>
        <article id="article-7444">
            <a href="https://ayende.com/blog/2847/cascading-drop-downs-in-monorail" target="_blank">
                <h2 class="title mb-6" id="article-7444">Cascading Drop Downs in MonoRail</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 08, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I just had this need, and I decided to explore what I could do without referring to what other people has already done. There are probably better ways, but this one has tickled my fancy. Anyway, the idea here is to display three levels of hierarchy in a profression. Here is the HTML: &lt;table&gt;&#xA;&#x9;&lt;tr&gt;&#xA;&#x9;&#x9;&lt;td&gt;&#xA;&#x9;&#x9;&#x9;${res.PrimaryProfession}&#xA;&#x9;&#x9;&lt;/td&gt;&#xA;&#x9;&#x9;&lt;td&gt;&#xA;&#x9;&#x9;&#x9;${Form.Select(&quot;primaries&quot;,PrimaryProfessions,                                 {@value: @Id, @text: @Name, @firstoption: res.Select}) }&#xA;&#x9;&#x9;&lt;/td&gt;&#xA;&#x9;&#x9;&lt;td&gt;&#xA;&#x9;&#x9;&#x9;${res.SecondaryProfession}&#xA;&#x9;&#x9;&lt;/td&gt;&#xA;&#x9;&#x9;&lt;td&gt;&#xA;&#x9;&#x9;&#x9;${Form.Select(&quot;secondaries&quot;,SecondaryProfessions,                                  {@value: @Id, @text: @Name, @firstoption: res.Select}) }&#xA;&#x9;&#x9;&lt;/td&gt;&#xA;&#x9;&#x9;&lt;td&gt;&#xA;&#x9;&#x9;&#x9;${res.TertiaryProfession}&#xA;&#x9;&#x9;&lt;/td&gt;&#xA;&#x9;&#x9;&lt;td&gt;&#xA;&#x9;&#x9;&#x9;${Form.Select(&quot;tertiaries&quot;,TertiaryProfessions,                                  {@value: @Id, @text: @Name, @firstoption: res.Select}) }&#xA;&#x9;&#x9;&lt;/td&gt;&#xA;&#x9;&lt;/tr&gt;&#xA;&lt;/table&gt;&#xA;&#xA;This is not very fancy, and the CSS guys would be all over me for using a table, but let us leave that aside. Basically, we render three select elements. Now, let us see the server side, shall we?&#xA;public void Index()&#xA;{&#xA;&#x9;PropertyBag[&quot;PrimaryProfessions&quot;] =&#xA;&#x9;&#x9;professionRepository.FindAllPrimaries();&#xA;&#xA;&#x9;PropertyBag[&quot;SecondaryProfessions&quot;] =&#xA;&#x9;&#x9;professionRepository.FindAllSecondaries();&#xA;&#xA;&#x9;PropertyBag[&quot;TertiaryProfessions&quot;] =&#xA;&#x9;&#x9;professionRepository.FindAllTertiaries();&#xA;}&#xA;&#xA;The ProfressionRepository uses Repository&lt;T&gt; internally, I want to avoid using Repository&lt;T&gt; directly in my controllers. Now, we need to actually respond to change events on the client side:&#xA;$j(document).ready(function()&#xA;{&#xA;&#x9;$j(&#x27;#primaries&#x27;).change(function()&#xA;&#x9;{&#xA;&#x9;&#x9;$j.ajax({ &#xA;&#x9;&#x9;&#x9;url:&#x27;GetSecondaryProfressionsByPrimary.ashx&#x27;,&#xA;&#x9;&#x9;&#x9;data: { id: $j(&#x27;#primaries&#x27;).val() },&#xA;&#x9;&#x9;&#x9;dataType: &#x27;script&#x27;&#xA;&#x9;&#x9;});&#xA;&#x9;});&#xA;&#x9;hookSecondariesChangeEvent();&#xA;});&#xA;&#xA;function hookSecondariesChangeEvent()&#xA;{&#xA;&#x9;$j(&#x27;#secondaries&#x27;).change(function()&#xA;&#x9;{&#xA;&#x9;&#x9;$j.ajax({ &#xA;&#x9;&#x9;&#x9;url:&#x27;GetTertiaryProfressionsBySecondary.ashx&#x27;,&#xA;&#x9;&#x9;&#x9;data: { id: $j(&#x27;#secondaries&#x27;).val() },&#xA;&#x9;&#x9;&#x9;dataType: &#x27;script&#x27;&#xA;&#x9;&#x9;});&#xA;&#x9;});&#xA;}&#xA;&#xA;&#xA;This is done using jQuery, to hook the events and issue Ajax requests to the server when they are done. Note that I am registering the seconderies change event in a separate function, it will be soon clear why.&#xA;Now, how does the server handles this?&#xA;public void GetSecondaryProfressionsByPrimary(Guid id)&#xA;{&#xA;&#x9;PropertyBag[&quot;SecondaryProfessions&quot;] =&#xA;&#x9;&#x9;professionRepository.FindSecondariesByPrimaryIdOrAll(id);&#xA;}&#xA;&#xA;public void GetTertiaryProfressionsBySecondary(Guid id)&#xA;{&#xA;&#x9;PropertyBag[&quot;TertiaryProfessions&quot;] =&#xA;&#x9;&#x9;professionRepository.FindTertiariesBySecondaryIdOrAll(id);&#xA;}&#xA;&#xA;So we just pass the parameters to the repository, which does all the work for us, in this case, getting the children if the id is valid, or all if it isn&#x27;t. Now let us move to the relevant views, shall we? We are using BrailJS here, so here is GetSecondaryProfressionsByPrimary.brailjs:&#xA;page.Replace( &#x27;secondaries&#x27;, &#xA;&#x9;Form.Select(&#x27;secondaries&#x27;,SecondaryProfessions, &#xA;&#x9;&#x9;{@value: @Id, @text: @Name, @firstoption: res.Select})&#x9;&#x9;&#x9;&#xA;)&#xA;page.Call( @hookSecondariesChangeEvent );&#xA;As you can see, I ask the page to replace the element secondaries with the newly rendered select element. I then acll the hookSecondariesChangeEvent function, since I actually replace the entire element, and not just its content. I am doing this because I don&#x27;t feel like extracting the part that renders just the options from the Form.Select() method, but I will probably will the next time I need it.&#xA;The GetTertiaryProfressionsBySecondary.brailjs is actually simpler:&#xA;page.Replace( &#x27;tertiaries&#x27;, &#xA;&#x9;Form.Select(&#x27;tertiaries&#x27;,TertiaryProfessions, &#xA;&#x9;&#x9;{@value: @Id, @text: @Name, @firstoption: res.Select})&#x9;&#x9;&#x9;&#xA;)&#xA;Again, there are probably betters way, but this is the one I just came up with.</p>
        </article>
        <article id="article-7445">
            <a href="https://ayende.com/blog/2846/a-friendly-community" target="_blank">
                <h2 class="title mb-6" id="article-7445">A friendly community</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 08, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Colin Ramsay&#xA0;has a post titled Abandon ALT.NET&#xA0;which I want to respond to. Here is the first interesting quote:  Just as I find it pointless that you&#x2019;d go to a conference to discuss the stuff that everyone there already knows. DDD, BDD, MVC - these aren&#x2019;t things that will be unknown to people attending the ALT.NET conference.   ALT.NETter A: so&#x2026; heard of that new BDD business?ALT.NETter B: Yep.ALT.NETter A: Oh, well there&#x2019;s this great new idea called DDD!ALT.NETter B: Yeah, right into that too.ALT.NETter A: Oh. And so on. But wouldn&#x2019;t that conversation have been a whole lot more interesting if the second developer hadn&#x2019;t heard of those ideas? I am eating myself up because I wasn&#x27;t able to go. Because those are the kind of discussions that I would really like to have. Not to be in a comforting echo chamber where all my ideas are confirmed, but because then I can continue the discussion forward, and say:  ALT.NETer B: So, we are using DDD in this scenario, and we have run into conflicts between...ALT.NETer A: Hm, I think that I have an idea, do you have a laptop so we can discuss this over code? When you are on a level plain field, then you can start advancing. That is important, and a reason enough for the conference as it is. But while that compromise a significant percentage of the people that were in the conference, it is by no mean all of them. And that certainly wasn&#x27;t the main topic of discussion.   And in order to address that imbalance, the ALT.NET mob organise an enormous desert circle-jerk, and I call bullshit. If they really wanted to change things then they should be writing about their techniques in detail, coming up with introductory guides to DDD, TDD, mocking, creating screencasts, or giving talks at mainstream conferences, or producing tools to make the level of entry to these technologies lower than it is. Um, I thought we were doing that? From Jeremy Miller&#x27;s WinForm Design Patterns to your own screen casts to Scott Bellware talking in DevTeach about BDD to building efficient tools. I don&#x27;t think that this is a fair statement to say, frankly.</p>
        </article>
        <article id="article-7446">
            <a href="https://ayende.com/blog/2845/quotes-of-the-weeks" target="_blank">
                <h2 class="title mb-6" id="article-7446">Quotes of the weeks</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 07, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Those are courtesy of Jdn&#x27;s post.  If you don&#x27;t, you are stupid, a Mort, or, god forbid, an architect.&#xA0; Oh my, I am not sure if this was intended to be amusing, but I certainly find it so.  Similarly, it is okay to use a Visual Studio designer.&#xA0; It is even okay to use drag and drop.&#xA0; There, I said it.&#xA0; Let me say it again, with feeling: IT IS OKAY TO USE DRAG AND DROP.&#xA0; This comes at a very appropriate time, since I just spent a few hours wresting with a drag &amp; drop code-gen solution. I got it to work, even. But the end result is not what I want or need, so I am going to rewrite it by hand tomorrow. So there, it is perfectly OK to use Drag &amp; Drop, and I would probably never do anything in WinForms without the designer. And just a note about the Alt.NET Agilistas, I am afraid that this term is reserved for Wendy and Oxana.</p>
        </article>
        <article id="article-7447">
            <a href="https://ayende.com/blog/2844/the-crm-horror" target="_blank">
                <h2 class="title mb-6" id="article-7447">The CRM Horror</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 07, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">It is rare that I get to the foint where I am just flat out speechless from seeing something. Today I went beyond that, I was flat out speechless and aghast.  The image that you see here is a small part of the FilteredAccount view in Micorosft CRM. Yes, you got that right, a small part. I got to this from experimenting with the DB model, trying to figure out how things work. I was strongly adviced not to make any use of any sort of view that started with Filtered. &quot;It would make you cry&quot;, they said, &quot;don&#x27;t say we didn&#x27;t warn you&quot;. I took a peek inside, to see what all the fuss was about. I disagree with Microsoft of quite a few subjects, but they usually manage to hit the target, even if that target is on a completely wrong continent as far as I am concerned. Some background, before we continue. Filtered Views in MS CRM are used to show the user just the data that they are supposed to see, according to role based permissions. Using the connected usernmae as the way to filter the view.  As a result of that, all the members of the organization has connect access to the CRM DB, and can just open&#xA0;query analyzer and start executing queries against the DB. An immediate result of that is that you need to start managing security at the DB level, since those views will not be very good if you can just query the underlying tables. I gues it would not suprise anyone that I have serious issues with this model, but let us put this aside for a moment. I have issues with this model, but they are manageable ones. Anyway, using the filtered views is the only supported way of handling accessing the database directly, mostly meant for reports. I think that you can guess how efficent it is going to query&#xA0;a filtered view, right? I counted, the FilteredAccount view has:  5&#xA0;row level functions 40 outer joins 2 subqueries At this point, I am considering creating the DETD - Developers for Etichal Treatment of Databases. Surely this is cruel and unusal behavior to put this burden on an unsuspecting database. And I am pretty sure that it is a violation of the Geneva Convention to inflict such a thing on your unsuspecting users. Left forever wonderring when that query will ever return...</p>
        </article>
        <article id="article-7448">
            <a href="https://ayende.com/blog/2843/handling-javascript-localization-in-mono-rail" target="_blank">
                <h2 class="title mb-6" id="article-7448">Handling javascript localization in Mono Rail</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 07, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I run into the issue of having to alert the user of some error, and it brought home the fact that English &amp; Hebrew are not easy to mix. In fact, code such as this is consider a very bad sign, usually code that you don&#x27;t really want to touch, see or believe in:   So, we need some sort of a way to externalize those strings, even if the only language that this application is going to use is Hebrew, simply because of the pain of mixing the two together. After thinking about it for a while, I decided to create this view (JavascriptResources/index.brail): &lt;%&#xA;for de in controller.Resources:&#xA;&#x9;resourceName = de.Key&#xA;%&gt;&#xA;&#x9;var ${resourceName} = {&#xA;&#x9;&lt;% for item in GetParameter(resourceName): %&gt;&#xA;&#x9;&#x9;${item.Key}: &#x27;${item.Value.Replace(&quot;&#x27;&quot;,&quot;\\&#x27;&quot;) }&#x27;,&#xA;&#x9;&lt;% end %&gt;&#xA;&#x9;&#x9;Empty: &#x27;&#x27;&#xA;&#x9;};&#xA;&lt;%&#xA;end&#xA;%&gt;&#xA;And here is the definition of the controller:&#xA;[Resource(&quot;Processes&quot;, &quot;MyApp.Resources.Javascript.Processes&quot;)]&#xA;[Resource(&quot;Errors&quot;, &quot;MyApp.Resources.Javascript.Errors&quot;)]&#xA;[Resource(&quot;Messages&quot;, &quot;MyApp.Resources.Javascript.Messages&quot;)]&#xA;public class JavascriptResourcesController : Controller&#xA;{&#xA;&#x9;public void Index()&#xA;&#x9;{&#xA;&#x9;&#x9;&#xA;&#x9;}&#xA;}&#xA;&#xA;But what the hell does this do, anyway? Not much, actually, but it will iterate over all the registered resources for the controller, and output something that looks like this for each of those resources:&#xA;var Processes = {&#xA; &#x9;EmploymentType: &#x27;Employment Type&#x27;,&#xA;&#x9;Details: &#x27;Details&#x27;,&#xA;&#x9;Dates: &#x27;The dates&#x27;,&#xA;&#x9;Empty: &#x27;&#x27;&#xA;};&#xA;The nice thing is that I can now write: alert(Errors.RecursiveError);*. As a side affect (as I said, the application is just in Hebrew so I don&#x27;t care about that much), I also get the usual benefits of localization.&#xA;* You have to read Hebrew to get the joke, I am afraid.</p>
        </article>
        <article id="article-7449">
            <a href="https://ayende.com/blog/2842/alt-net-is-a-divisive-thing" target="_blank">
                <h2 class="title mb-6" id="article-7449">ALT.NET is a divisive thing</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 07, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Note, this is a partial (and the final) response to Sam Gentile post about ALT.NET. Now to the part that actually talks about ATL.NET:  ALT.NET is a divisive thing. No matter what they tell you, they are full of negative energy, they sneer at others that don&#x27;t buy into their view and sneer at the &quot;enterprisey&quot; folks. ALT.NET is divisive, of course. Like any idea, it divide people into those who agree and those who don&#x27;t. The ALT.NET doesn&#x27;t include a value statement about those who don&#x27;t agree, I am feeling forced to point out. And I am not sure that I know how to sneer, as a matter of fact. Perhaps I need to start taking lessons. I believe that I stated before that I believe in the option of respectfully disagreeing with someone. Me &amp; Roy often end up there, so I know that this is possible. Viewing ALT.NET as a movement about rejection is a mistake, it is about accepting more options, about keeping your mind open. The underlying issue is that like all people, I am lazy, and as such, I would really like to be able to just use the off the shelf, standard stuff. Unfortunately, I have found that fairly often, that doesn&#x27;t do what I want, and to make it do what I want would be more costly than doing it from scratch. As you can imagine, that came as a shock. At first I dealt with it with denial, there is no way this can be, that is what everyone is using, no way that it has this problem, obviously I am missing something. I went and did my research, and discovered that indeed, everyone who tried to do what I wanted run into the same problem, and had to solve it using the same wahonie shaped solution. That was the reluctant compliance stage, a lot of people stay there. Finally I accepted that this is indeed a problem, and I set out to find other means to achieve my goals. They were not standards when I started, but they certainly moving in that direction for a while now. ALT.NET, in my view, is about accepting that there are better ways to do things, and you should go and find them if your current way is painful. Don&#x27;t miss the last part, it is important. I hope that I am practical, and good enough solution is just that. If the current way you are doing things is not painful, there is no reason to change anything. If it is painful, then accept the fact that there are other ways and find them.</p>
        </article>
        <article id="article-7450">
            <a href="https://ayende.com/blog/2841/architects-alt-net" target="_blank">
                <h2 class="title mb-6" id="article-7450">Architects &amp; ALT.NET</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 07, 2007
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Note, this is a partial response to Sam Gentile post about ALT.NET.&#xA;&#xA;One of the things that Sam said that I fully agree on is this one:&#xA;&#xA;...walking into a Fortune 50 bank with 200 systems, using 20 different technologies, totally non-integrated, and listening to the business needs and using solution technologies like BizTalk, Neuron, WCF, MOSS, Sharepoint and such putting together a solution that requires me to have intimate knowledge of the business as well as single sign on, multi-domain security trust domains, asynschronous message brokering and lots more&#xA;&#xA;Solving this kind of problems is non trivial and requires understand both tech and business issues. There aren&#x27;t a lot of problems like this, however. In fact, most of the problems that I am dealing with aren&#x27;t at all similar. Which leads me to the parts that I don&#x27;t agree with:&#xA;&#xA;It comes from that community&#x27;s&#xA0;[ALT.NET]&#xA0;inability to see beyond the code level, something I refer to being constantly in &quot;the weeds.&quot; They refuse to work on back-end systems as beneath them, everything &quot;enterprisey&quot; is beneath them. Being in the weeds means you only look at everything as code and can only see code.&#xA;&#xA;No, actually, it does not. If I can solve something easier using capabilities of BizTalk out of the box, I will use that. Hell, I am using BizTalk in my current project, precisely because of that, it makes talking to non reliable sources fairly easy, so I don&#x27;t have to write this code. BizTalk is not enterprisey, but a lot of the solutions that utilize it are.&#xA;There is a reason that I don&#x27;t like to hear about web services, ESB, etc. I understand and even approve the basic ideas, I don&#x27;t like what happens when those ideas are turn into buzz-wards. The problem then is that you start the process of understanding the problem with &quot;Assume that we have an ESB...&quot;, simply because this is the thing to do right now.&#xA;Sam calls my approach &quot;being in the weeds&quot; (I don&#x27;t agree, but let us get to this in a minute), the other side for that is the Architect in the White Shiny Tower, handing Architecture to the masses.&#xA;Now, let us get to the &quot;being in the weeds&quot; and &quot;refuse to work on back-end systems as beneath them&quot;. My statement to this is simply:&#xA;&#xA;I will refuse to work on a back end system if using it will make my life harder than using another system/library or rolling your own, period.&#xA;&#xA;SSIS comes to mind very clearly in this regard. It is not a blind refusal, it is an educated one, based on (painful) experience. Yes, I do have a prejudice against big back end systems, that came from seeing all the enterprisey solutions that where built on that. After seeing so much time going down the drain making a back end system behave the way you want (which I would have think was the natural way to handle), and comparing it to the amount of effort that it would take to just do it on my own...&#xA;I believe that I have a good basis to my prejudice. That doesn&#x27;t mean that I will roll such systems completely, but that I will evaluate each case independently. &#xA;What Sam calls being in the weeds I call confidence. I am confident that I know what I am doing, that I understand both the business requirements and the technical ones, and I am capable of solving the problem without taking a preconceived dependency on a back-end system.&#xA;The problem with the approach that Sam depends is that it is too often so high you never sees any of the details, ending in an enterprisey result. One too complex for the job required, and costing more than it should. I never worked with Sam, so I have no idea about how he actually work, so keep in mind, this is not about Sam. It is about seeing and hearing about quite a few designs that are totally wahonie shaped, just to fit a preconceived notion of how Things Ought To Be.&#xA;And that is the approach that I would reject.</p>
        </article>
        <div class="button flex justify-between">
            <a href="744.html"><span class="back arrow"></span></a>

            <a href="746.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>