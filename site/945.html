
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 945 &#x2022; Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="/pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">
<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline underline"
               href="index.html"> Home </a><a
                aria-current="" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline " href="about.html">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>


<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-9441">
            <a href="https://ayende.com/blog/1096/updating-site-possible-downtime" target="_blank">
                <h2 class="title mb-6" id="article-9441">Updating site, Possible Downtime</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 01, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I&#x27;m going to update my Cuyahoga installation to the 1.0 version, so there may be some downtime while I do this.</p>
        </article>
        <article id="article-9442">
            <a href="https://ayende.com/blog/1095/castle-demo-app-complex-interactions" target="_blank">
                <h2 class="title mb-6" id="article-9442">Castle Demo App</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Castle Demo App: Complex Interactions    We have CRUD operations for users and projects. The next step is to add a&#xA0;way to assign / remove users from a project. We can do it both for users and projects, but this is just overly complex. We&#x27;re going to allow a project edit page to add or remove users, and that is all.     I&#x27;ll be the first to admit that I&#x27;m not very good with JavaScript, and I&#x27;ve practically no knowledge in the Ajax capabilities of MonoRail (which are based on Prototype&#xA0;library). I&#x27;m just going to stubmle around in this post, and see if I can make something work. Do ignore any screaming that you may hear in the background, this is just me hating browsers :-)     The reason that I&#x27;m so late with this post is that I run into a couple of problem with Ajax that weren&#x27;t easy to solve (or even find). Just to put things in perspective, I wrote the code for this post in an hour and a half, and that included looking at MonoRail source, finding a bug and fixing it. In contrast, it took me much longer to write / debug&#xA0;/ fix the problems in the java script parts. I think that this is mostly my fault, though, for not knowing the DOM and the environment well enough. Anyway, enough chit-chat, we&#x27;ve an application to write!     We start by adding this snipper to the head of Views\Layout\Admin.boo:             &lt;head&gt;                        ${AjaxHelper.GetJavascriptFunctions()}                        &lt;title&gt;Administrator Section&lt;/title&gt;                        &lt;/head&gt;         This simply add the correct javascript refeferences (&lt;script&gt; tag) so we could use the ProtoType functions. What I&#x27;m going to do next involve a bit of Ajax and some understanding of the tools that MonoRail gives me. I&#x27;ll explain everything in a couple of minutes, but for now, here is the new EditProject method:             &#xA0;&#xA0;&#xA0; public void EditProject([ARFetch(&quot;id&quot;)]Project project)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; AddAllUsersToPropertyBag();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ValidateObjectToSendToView(&quot;project&quot;, &quot;Projects&quot;, project);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; User[] allUsers = User.FindAll();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PropertyBag[&quot;assignedUsers&quot;] = new User[0];                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PropertyBag[&quot;unassignedUsers&quot;] = allUsers;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if (project == null)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ICollection&lt;User&gt; assignedUsers = project.Users;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; User[] unassignedUsers = Array.FindAll(allUsers, delegate(User user)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return assignedUsers.Contains(user) == false;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; });                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PropertyBag[&quot;assignedUsers&quot;] = assignedUsers;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PropertyBag[&quot;unassignedUsers&quot;] = unassignedUsers;                        &#xA0;&#xA0;&#xA0; }         This requires some explanation, I believe. The first two lines are the same as before, but the rest of it is all new. The idea is to pull all the users from the database, and then filter them based on those not already assigned to the project. We then pass the assigned and unassigned users to the view. The two lines just after User.FindAll() are there because we need to give the view something to display if this is a brand new project.     Now, let&#x27;s see what we need to do to the view in order to make it support our brand new interface, here we have quite a bit of word, as a matter of fact. Because I made so many changes, I&#x27;m going to show each part of the page and then provide explanation on what it does. It&#x27;s a lot of code, but it is not complicated one:             &lt;?brail                        def outputUsersList(usersList, addEnabled, removeEnabled):                        &#xA0;&#xA0;&#xA0;&#xA0; index = 0                        &#xA0;&#xA0;&#xA0;&#xA0; addStyle = &quot;&quot;                        &#xA0;&#xA0;&#xA0;&#xA0; removeStyle =&quot;&quot;                        &#xA0;&#xA0;&#xA0;&#xA0; addStyle = &#x27;display:none;&#x27; if addEnabled == false                        &#xA0;&#xA0;&#xA0;&#xA0; removeStyle = &#x27;display:none;&#x27; if removeEnabled == false                        &#xA0;&#xA0;&#xA0;&#xA0;                                 &#xA0;&#xA0;&#xA0;&#xA0; for user in usersList:                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; userClient = &quot;user_id[${user.Id}]&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; moveToAssigned = &quot;addToProject($(&#x27;${userClient}&#x27;))&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; moveToUnassigned = &quot;removeFromProject($(&#x27;${userClient}&#x27;))&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; output &quot;&lt;tr id=${userClient} userId=&#x27;${user.Id}&#x27;&gt;&lt;td&gt;&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; output AjaxHelper.LinkToFunction(&#x27;&amp;lt;&amp;lt;&#x27;, moveToAssigned, {&#x27;id&#x27;:userClient&#x2B;&#x27;.addToProject&#x27;, &#x27;style&#x27;:addStyle})                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; output &quot;&lt;/td&gt;&lt;td&gt;${user.Name}&lt;/td&gt;&lt;td&gt;&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; output AjaxHelper.LinkToFunction(&#x27;&amp;gt;&amp;gt;&#x27;, moveToUnassigned, {&#x27;id&#x27;: userClient&#x2B;&#x27;.removeFromProject&#x27;, &#x27;style&#x27;:removeStyle})                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; output &quot;&lt;/td&gt;&lt;/tr&gt;&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; index&#x2B;&#x2B;                        &#xA0;&#xA0;&#xA0;&#xA0; end                                 end                                &#xA0;                        name = &quot;&quot;                        defaultAssigneeId = -1                        id = &quot;0&quot;                        if ?project:                        &#xA0;&#xA0; name = project.Name                        &#xA0;&#xA0; defaultAssigneeId = project.DefaultAssignee.Id                        &#xA0;&#xA0; id = project.Id.ToString()                        end                                &#xA0;                        ?&gt;         Notice the outputUsersList() method, this one is one of the reasons I love Brail, it allows me to do Extract Method refactoring for HTML. What this method does is very simple, it gets a list of users, and two flags telling it whatever to show or hide the add / remove functionality. You can see a couple of things here, we are taking advantage of the fact that Boo (which is the base langauge for Brail) has strong inference capabilties, so we don&#x27;t bother with specifying types, in fact, this method declaration looks very much like the declaration we will see in a moment, in the java script code. (Although I find Boo much easier to work with than Javascript, of course.)     We output some HTML to the client, which isn&#x27;t very interesting (and vaguely resembles CGI code), but we have a call there to AjaxHelper, which I&#x27;m going to assume that you&#x27;re interested at. The method we use is LinkToFunction(), which just means that MonoRail generates a link for us, and will call a (local) java script function when the link is clicked. The first parameter is the text of the link, the second is the function to call (including its parameters), the third is used to pass a dictionary of attributes for the link (and one of them is display=none, which is used to hide the link if it&#x27;s not needed.     One thing to notice here is the way I&#x27;m using the javascript. First, &quot;$()&quot; is a function call that I get from Prototype, it&#x27;ll get me the element that I need without needing to do stuff like document.getElementById(), etc. Second, I&#x27;m passing this function the id for whole &lt;tr&gt; element. We&#x27;ll see how it makes our life easier in a couple of minutes, since it means that I can just move stuff around without worrying how it looks. Third, notice that I&#x27;m naming all the links the same way, the container id plus &quot;addToProject&quot; or &quot;removeFromProject&quot;, this will allow me to get the correct link easily, without traversing the DOM to find the right one. Because I know the user id is unique, I know that both the &lt;tr&gt; id and the links ids will be unique in the page. One other thing that I am doing here is to add a userId attribute to the &lt;tr&gt; element, I&#x27;ll be using this attribute in the Ajax code, to get the user I&#x27;m working on.     I think that the parts after the method require no explanation, we&#x27;ve already seen them before. Before I will show the Javascript, we need to take a look at the page, and see how it&#x27;s laid out, otherwise you wouldn&#x27;t be able to make head or tails from the scripts, so here it is:             ${HtmlHelper.Form(&#x27;SaveProject.rails&#x27;)}                        ${HtmlHelper.FieldSet(&#x27;Project Details:&#x27;)}                        ${HtmlHelper.InputHidden(&#x27;project.id&#x27;, id)}                        &lt;table&gt;                        &#xA0;&#xA0;&#xA0;&#xA0; &lt;tr&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;td&gt;                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.LabelFor(&#x27;project.Name&#x27;,&#x27;Project name:&#x27;)}                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.InputText(&#x27;project.Name&#x27;,name, 50, 50)}                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0; &lt;tr&gt;                        &#xA0;&#xA0;&#xA0;&#xA0; &lt;tr&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.LabelFor(&#x27;project.DefaultAssignee.Id&#x27;,&#x27;Default Assignee:&#x27;)}                        &#xA0;&#xA0;&#xA0; &lt;/td&gt;                        &#xA0;&#xA0;&#xA0; &lt;td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.Select(&#x27;project.DefaultAssignee.Id&#x27;)}                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.CreateOptions(allUsers, &#x27;Name&#x27;,&#x27;Id&#x27;, defaultAssigneeId)}}                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.EndSelect()}                        &#xA0;&#xA0;&#xA0; &lt;/td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0; &lt;/tr&gt;                        &lt;/table&gt;                        &lt;p&gt;Users Assignments:&lt;/p&gt;                        &lt;div&#xA0; id=&#x27;assignedUsersInputs&#x27;&gt;                        &lt;?brail for user in assignedUsers: ?&gt;                        &#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.InputHidden(&#x27;project.Users&#x27;, user.Id)}                                 &lt;?brail end&#xA0;&#xA0;&#xA0;&#xA0; ?&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;                                 &#xA0;&lt;/div&gt;                        &lt;table&gt;                        &#xA0; &lt;tr&gt;                        &#xA0;&#xA0;&#xA0; &lt;th style=&quot;BORDER-BOTTOM: #f96 1px dashed; BORDER-RIGHT: #f96 1px dashed&quot;&gt;Users assigned to this project:&lt;/th&gt;                        &#xA0;&#xA0;&#xA0; &lt;th style=&quot;BORDER-BOTTOM: #f56 1px dashed; BORDER-LEFT: #f56 1px dashed&quot;&gt;Users not assigned to this project:&lt;/th&gt;                        &#xA0; &lt;/tr&gt;                        &#xA0; &lt;tr&gt;                        &#xA0;&#xA0;&#xA0; &lt;td style=&quot;BORDER: #f96 1px dotted&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;table id=&quot;assignedUsersTable&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;tbody&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;?brail                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; outputUsersList(assignedUsers, false, true)                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ?&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/tbody&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/table&gt;                        &#xA0;&#xA0;&#xA0; &lt;/td&gt;                        &#xA0;&#xA0;&#xA0; &lt;td style=&quot;BORDER: #f56 1px dotted&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;table id=&quot;unassignedUsersTable&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;tbody&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;?brail                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; outputUsersList(unassignedUsers, true,&#xA0; false)                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ?&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/tbody&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/table&gt;                        &#xA0;&#xA0;&#xA0; &lt;/td&gt;                        &#xA0; &lt;/tr&gt;                        &lt;/table&gt;                        &lt;p&gt;                        ${HtmlHelper.SubmitButton(&#x27;Save&#x27;)}                        &lt;/p&gt;                        ${HtmlHelper.EndFieldSet()}                        ${HtmlHelper.EndForm()}         The first part isn&#x27;t interesting, since we already seen it before, what we will look at is everything below the &quot;Users Assignments&quot;&#xA0; paragraph. We have the assignedUsersDiv, where we put all the users assigned to this project in hidden inputs. Notice that all those hidden input fields are named the same: &quot;project.Users&quot;, this will become important when we&#x27;ll save the project.     We then define a table, and use the method outputUsersList() to output the correct list to the page. If we would run the page now, we&#x27;ll see something like this:          I am not a designer, and the HTML above has some hardocded values instead of using CSS, but I&#x27;m not doing this series to show you how to build pretty sites. :-) Do you see the &gt;&gt; and &lt;&lt; signs near the users? This will allow us to simply move a user to or from the project.     Assume for a moment that this page was written in ASP.Net, and that a post-back is required to move a user on/off the project. I now want to add three users and take one away, how much time will this take me? About a minute or two, assuming that the connection and server are fast. And that is for doing no processing whatsoever excpet move a text box from one spot to the other.     The way we are doing this is much more user friendly (at the cost of being much less developer friendly, but that is the usual balance). Okay, we&#x27;ve seen the HTML code and the way it looks like, now&#xA0;let&#x27;s move on to everyone&#x27;s favoriate buzzward, Ajax:             &lt;script lang=&quot;javascript&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0; function addToProject(userTag)                        &#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Element.remove(userTag);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; $(&#x27;assignedUsersTable&#x27;).tBodies[0].appendChild(userTag);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; toggleLinks(userTag);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; var i =0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; var hidden = document.createElement(&#x27;input&#x27;)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; hidden.type=&#x27;hidden&#x27;;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; hidden.value = userTag.getAttribute(&#x27;userId&#x27;);                      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; hidden.id = hidden.name = &#x27;project.Users&#x27;;        &#xA0;&#xA0;                      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; $(&#x27;assignedUsersInputs&#x27;).appendChild(hidden);                        &#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0;&#xA0; function removeFromProject(userTag)                        &#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Element.remove(userTag);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; $(&#x27;unassignedUsersTable&#x27;).tBodies[0].appendChild(userTag);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; toggleLinks(userTag);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; for(var node = $(&#x27;assignedUsersInputs&#x27;).firstChild;node !=null; node = node.nextSibling)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if(node.nodeType != 1) //input                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; continue;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if(node.value == userTag.getAttribute(&#x27;userId&#x27;))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Element.remove(node);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; break;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0;&#xA0; function toggleLinks(userTag)                        &#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Element.toggle($(userTag.id &#x2B;&#x27;.addToProject&#x27;),                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; $(userTag.id &#x2B;&#x27;.removeFromProject&#x27;));                        &#xA0;&#xA0;&#xA0;&#xA0; }                        &lt;/script&gt;         We&#x27;ll start with the simplest function, toggleLinks(), it takes a single element, and using its id, it find the related addToProject and removeFromProject links, and toggle their visibility. The Element class is part of Prototype, and provides many useful methods.     The addToProject() function will remove the element it gets from the page and add it to the assignedUsersTable and switch the links state. Then it creates a hidden input field and stores it in the originally named assignedUsersInputs &lt;div&gt;. This &lt;div&gt; is used merely as a place holder in the DOM for all the hidden fields. One super important thing to remember. An input field you create with javascript must have a name, otherwise it won&#x27;t be sent to the server! I lost more than a little bit of time over this. (Thanks, Jeff!)     We&#x27;re setting all the input fields to use the same name and id. The id I don&#x27;t care much about, but it&#x27;s important that they&#x27;ll all have the same name, since we&#x27;ll use that in our controller code.     The removeFromProject() function does pretty much the same thing, physically move the element from one container to another, toggle the links and then search through the children of assignedUsersInputs&#xA0;for the hidden field that match the user, so it can remove it.     Okay. This is it. We&#x27;re done with all the client code! I&#x27;m thinking about throwing a party just for that...     Now to the SaveProject() method, which should now handle saving the assigned users for this project. How hard do you think this will be? Let&#x27;s find out:             &#xA0;&#xA0;&#xA0; public void SaveProject(        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[ARDataBind(&quot;project&quot;, AutoLoadUnlessKeyIs = 0)]Project project,                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [ARFetch(&quot;project.DefaultAssignee.Id&quot;,                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Create = false, Required = true)] User defaultAssigneee,                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [ARFetch(&quot;project.Users&quot;)]User[] assignedUsers)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RenderMessage(&quot;Back to Projects&quot;, &quot;Projects&quot;);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; try                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if (project.DefaultAssignee == null)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; project.DefaultAssignee = defaultAssigneee;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;//Remove all assigned users from the project, since the autority                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; //on who is assigned to the project is now the assigned users in the page.                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; project.Users.Clear();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Array.ForEach(assignedUsers,                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; delegate(User users) { project.Users.Add(users); });                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; project.Save();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flash[&quot;good&quot;] = string.Format(&quot;Project {0} was saved successfully.&quot;, project.Name);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; catch (Exception e)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flash[&quot;DataBindErrors&quot;] = project.ValidationErrorMessages;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flash[&quot;bad&quot;] = e.Message;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flash[&quot;Debug&quot;] = e.ToString();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0; }         That is a lot of attributes, I head you say, and I agree. But it&#x27;s better than saying, that is a lot of code...&#xA0; Those attirbutes saves quite a bit of time, and if you don&#x27;t like them, you can access their functionality without losing anything. Personally, I like this ability, but I know that opinions about this are divergent.     What do we have here, then? We have the project and defaultAssignee parameters, which we had before, and a new one, an array of assignedUsers. I talked about ARFetch in previous posts, it take an id and gives you the matching object. It also works on arrays, so I don&#x27;t need to do anything to get the list of users the admin assigned to this project. ARFetch knows to do this because all those ids were named project.Users, so it can just grab all the parameters with this name and load them by their ids.     One thing that I have to do manually, however, is to add the assigned users to the project. MonoRail will not do this for me, and that is a Good Thing. MonoRail doesn&#x27;t know about the semantics of the operation, in this case, I want to remove all the users already assigned, and add the ones the admin assigned now, but what happens when I want something else? MonoRail can&#x27;t tell, so it&#x27;s giving us the live objects, and leave the last step for the business logic to handle.     As you can see, it&#x27;s not much of a burden, we clear the Users collection, then add all the users the admin specified to the project and save the project. That is nearly it. We need to pass the assignedUsers and unassignedUsers to the view from the CreateProject action as well. Since I&#x27;m going to be duplicating code here, I&#x27;m going to refactor it out and put it in AddAllUsersToPropertyBag(), since this is the common dominator between EditProject() and CreateProject().     Okay, that was a long post. Just a couple of things before I wrap things up, just think of how much work we did in this page. We&#x27;ve an Ajax interface, we load and save complex data to the database, including managing many to many relationships. I may be a partial observer, but I think that we did all that with a minimum of fuss, and not much complexity.     Next, we will talk about some latent bugs and adding some more validation to the application. Then, it&#x27;ll be time for the Big Security Review. I got another post coming soon, so I&#x27;ll update the binaries on the site when I post that one, and not for this.My Projects | BrailOpen Source | CastleProgrammingWebsite</p>
        </article>
        <article id="article-9443">
            <a href="https://ayende.com/blog/1094/typing-static-explicit-implicit-and-dynamic" target="_blank">
                <h2 class="title mb-6" id="article-9443">Typing: Static, Explicit, Implicit And Dynamic</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Another note about typing. In my opinion, people are often confused about the meaning of static typing vs. dynamic typing and explicit typing vs. implicit typing. The two are not neccearily connected. In general, a programming langague will fall into one of this categories:            Staticly typed, explicit typing - Java, C&#x2B;&#x2B;, C#, VB.Net, etc            Staticly typed, implicit typing - Boo, C# 3.0, VB.Net 9.0 etc            Dynamically typed, implicit typing - Javascript, Ruby, Smalltalk, Brail :-), etc            Dynamically typed, explicit typing - Can&#x27;t think of a single language with this, nor a single reason to want this.    Boo, C# 3.0, VB.Net 9.0 are smart enough to infer what the type of a variable is, without the developer having to tell the compiler (over and over again) what the type of the variable is.    Staticaly typed languages are very good, in my opinion, but explicit typing is a chore, nothing more. After I saw how easy it is to work with Boo, I just can&#x27;t believe how hard I have to work in other languages just to make the compiler work.    Dynamic langauges are cool (Boo has some of the features that they can offer, and they are simply amazing), but you the ability to check the program for syntax validity. This is not a trivial matter. Yes, syntax violations are easy to fix, but if I write a bunch of code, and I need to fix the errors there one after the other, instead of one bunch, it&#x27;s annoying and wasting my time. I&#x27;m not talking about unit testing here, I&#x27;m talking before I get to the point where my program even run.     In short, I think that the sweat spot for me is Boo. Staticly typed, implicit typing (but can be explicit if you want), with dynamic features avialable if you want them. I see the point in dynamic languages, and I enjoy doing work with Javascript (the only dynamic langauge I work with on regular basis), doing things that I could never do in C#.    But the point is that 90% of what you can do in a dynamic langauge you can do in a static one if the compiler is smart enough. The best is if the compiler allows you to say &quot;yes, I know what I&#x27;m doing, let&#x27;s do this bit on runtime&quot;.</p>
        </article>
        <article id="article-9444">
            <a href="https://ayende.com/blog/1093/quick-note-on-static-vs-dynamic-typing" target="_blank">
                <h2 class="title mb-6" id="article-9444">Quick note on static vs. dynamic typing</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I&#x27;m reading James Robertson&#x27;s&#xA0;blog, mainly for the rants. I mostly agree with what he says, if not with the tone, but today I read something of his in the comments&#xA0;that really annoyed me.Detection of a missing method is utterly irrelevant. Why? Because such a flaw would turn up in initial testing.    I just did a bunch of javascript, which is a dynamic language with just this kind of behavior. Sorry, this isn&#x27;t even close to satisfying. I had about.. oh... maybe 50 lines of code, and I kept running into problems with method not found, etc.    If I don&#x27;t have an IDE when I program (and I do significant work from Notepad2), I like to compile and see what went wrong. I usually don&#x27;t get those method names correctly. I misspell, or mis capitalize, or forget to put a closing bracket or something.    A compile gives me all those errors in a format that I can see and fix immediately. Runtime errors means that I have to fix those erorrs one by one. This isn&#x27;t fun.</p>
        </article>
        <article id="article-9445">
            <a href="https://ayende.com/blog/1092/rhino-mocks-2-6-3-bug-fix-for-regression-with-generic-types" target="_blank">
                <h2 class="title mb-6" id="article-9445">Rhino Mocks 2.6.3: Bug Fix for regression with generic types.</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Okay, now you know why I try to avoid releases of Rhino Mocks, every time I make a release, I usually have a week of sudden activity, with new features / fixes coming in.    This time it&#x27;s a regression that happened with regard to generic types. The issue is that you can&#x27;t mock any generic type more than once. I had tests for mocking generic types, but I didn&#x27;t have any tests for trying the same type multiply times.    Well, now I do, and it&#x27;s fixed. So you can go ang get sources and binaries from this page.</p>
        </article>
        <article id="article-9446">
            <a href="https://ayende.com/blog/1091/what-is-wrong-with-javascript" target="_blank">
                <h2 class="title mb-6" id="article-9446">What is wrong with JavaScript?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 27, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Stefan asks What Is Wrong With Javascript, I think that I&#x27;ve at least a partial answer to that. Here are my reasons:            Until very recently, Javascript was just too slow by far to consider writing applications with it.                 Lack of a rich class library.            Until recently, lack of good debugging tools.            The browser is a really sucky place to develop in.                 The impression of being a Toy Languague.            Lack of strong typing, this bytes me so often that I feel like screaming. I missed a semi column, or misspelled a varaible... go figure when/where this is going to blow (usually silently).            The browser is not a nice place to work with.            Easily modificable by the users.            Easily disabled by the users.            While the langauge is mostly standartize, there were (and are) problems with the environments that you work with, which makes life painful.            No typing is annoying to me.            Did I mention that the browser is not an application platform?    Maybe I&#x27;m bitter, but I&#x27;m butting my head against the wall in a relatively simple JavaScript problem for a couple of days now, and this is not a new feeling. Everytime that I need to do something with Javascript I approach it with disdain, not because the langauge is bad, I actually enjoy a lot of the things that I can do with Javascript. I don&#x27;t like it because I know that I&#x27;m going to spend quite a few hours chasing stupid stuff all over the place.    For instance, take the most recent puzzle, creating input controls dynamically and sending them to the server:                                            &lt;script language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt;                        function addUser()                        {                        &#xA0;&#xA0;&#xA0; var users = document.getElementById(&#x27;users&#x27;);                        &#xA0;&#xA0;&#xA0; var hidden = document.createElement(&#x27;input&#x27;);                        &#xA0;&#xA0;&#xA0; hidden.value = &#x27;foo&#x27;;                        &#xA0;&#xA0;&#xA0; users.appendChild(hidden);                        &#xA0;&#xA0;&#xA0; var i =0;                        &#xA0;&#xA0;&#xA0; for(var node = users.firstChild;node !=null; node = node.nextSibling)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if(node.nodeType != 1) //input                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; continue;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; node.id = &#x27;project.Users[&#x27;&#x2B;i&#x2B;&#x27;].Id&#x27;;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; i&#x2B;&#x2B;;                        &#xA0;&#xA0;&#xA0; }                        }                                 &lt;/script&gt;        And the HTML:            &lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;                        &#xA0;&#xA0;&#xA0; &lt;div id=&quot;users&quot;&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;input id=&quot;Button1&quot; type=&quot;button&quot; value=&quot;Add User&quot; onclick=&quot;javascript:addUser();&quot; /&gt;                        &#xA0;&#xA0;&#xA0; &lt;/div&gt;                        &#xA0;&#xA0;&#xA0; &lt;asp:TextBox ID=&quot;PostBackValues&quot; runat=&quot;server&quot; Height=&quot;225px&quot; TextMode=&quot;MultiLine&quot; Width=&quot;596px&quot;&gt;&lt;/asp:TextBox&gt;&lt;br /&gt;                        &#xA0;&#xA0;&#xA0; &lt;asp:Button ID=&quot;submit&quot; runat=&quot;server&quot; Text=&quot;submit&quot; OnClick=&quot;submit_Click&quot; /&gt;&lt;br /&gt;                        &lt;/form&gt;                        Now, pressing the add users cause a nice text input to be added to the page, I then hit sumbit, and watch the result from this code-behind:            protected void submit_Click(object sender, EventArgs e)                        {                        &#xA0;&#xA0;&#xA0; foreach (string key in Request.Params.AllKeys)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PostBackValues.Text &#x2B;= string.Format(&quot; {0}: {1}\r\n&quot;, key, Request.Params[key]);                        &#xA0;&#xA0;&#xA0; }                        }                        I don&#x27;t see the values I just put in. Even more important, I can&#x27;t see them in the request stream when I&#x27;m using Fiddler to check this. What happened to them, I don&#x27;t know, and all my debugging turned out blank. I know that there is a two line fix for this, and probably a reasonable explanation, but getting to this point wasn&#x27;t a fun process, and hitting a wall like that isn&#x27;t uncommon for me when using Javascript. I had similar problems doing some smart UI with tables &amp; colors in Javascript, especially since I wanted to do this on both IE and Firefox.</p>
        </article>
        <article id="article-9447">
            <a href="https://ayende.com/blog/1090/rhino-mocks-2-6-2-memory-requirements-improvements" target="_blank">
                <h2 class="title mb-6" id="article-9447">Rhino Mocks 2.6.2: Memory Requirements Improvements</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 27, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Okay, this release should be a major improvement memory wise, I changed the implementation so instead of generating dynamic assemblies per MockRepository, all the Mock Repositories will generate to the same assembly.    This should prove to be a dramatic reduction in the amount of space that Rhino Mocks consumes.&#xA0; Sources and binaries are avialable here.</p>
        </article>
        <article id="article-9448">
            <a href="https://ayende.com/blog/1089/freaking-un-believable" target="_blank">
                <h2 class="title mb-6" id="article-9448">FREAKING UN-Believable!</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 26, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I just watched DNR TV #5, and I must say that it was one of the most amazing videos that I have ever seen. This is especially true when you consider that the feature being implemented on the show was one I wished that I had nearly a year ago.This video features Mark Miller doing on-the-fly implementation of source code organizing (sort by visibility, then by member type, then alphebatically, etc).Beside being a cool demonstration, and one of the few videos that managed to make me stop everything and watch them, the features of Code Rush that were shown were simply amazing. I&#x27;ve already downloaded the trail version, and I&#x27;m using it right now. Simply awesome show, and awesome technology.The ease of developing with the DXCore is amazing, as well.</p>
        </article>
        <article id="article-9449">
            <a href="https://ayende.com/blog/1088/sqlclr-outperforms-t-sql-7-times-faster" target="_blank">
                <h2 class="title mb-6" id="article-9449">SqlClr outperforms T-SQL (7 times faster!)</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 26, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Okay, a couple of months ago I posted about Finding Use for SqlClr for date processing, since it was much easier to do it in .Net than in SQL. Since then I retracted my statement&#xA0;about it.&#xA;If you read my blog for a while, you probably noticed that I&#x27;m doing quite a bit of performance tuning lately. After making the switch from SqlClr to T-Sql, I noticed a sudden drop in performance. Some investigation lead me to the change from SqlClr&#xA0;function to T-Sql functon.&#xA;Here is the source code for the .Net function (yes, I occasionally do VB.Net):&#xA;&lt;SqlFunction()&gt; _Public Shared Function FirstDayOfMonth(ByVal year As Integer, ByVal month As Integer) As DateTime&#xA0;&#xA0;&#xA0; Return New DateTime(year, month, 1)End Function&#xA;And here is the T-Sql function:&#xA;CREATE FUNCTION FirstDayOfMonth(@year int, @month int)RETURNS DATETIME WITH SCHEMABINDING AS BEGIN&#xA0;&#xA0;&#xA0; RETURN DATEADD(MONTH,@month-1,DATEADD(YEAR,@year-1900,0))END&#xA;As you can see, none of them do anything terribly complicated. I then run the following query on a table with 40 million records:&#xA;SELECT 1 FROM BigTableWHERE SqlClr.FirstDayOfMonth(YEAR(Date),MONTH(Date)) = &#x27;20010101&#x27;&#xA;This query has no meaning whatsoever, it just make sure that the function is running for a long time. This query run for 34 seconds, before returning (an empty result set).&#xA;SELECT 1 FROM BigTableWHERE [T-Sql].FirstDayOfMonth(YEAR(Date),MONTH(Date)) = &#x27;20010101&#x27;&#xA;This query run for 3 minutes and 29 seconds, 7 times slower than SqlClr! I&#x27;m not sure how to take this news, since I was completely convinced that it would be the other side that would win the race. Anyone got an explanation?</p>
        </article>
        <article id="article-9450">
            <a href="https://ayende.com/blog/1087/castle-demo-app-crud-operations-on-projects" target="_blank">
                <h2 class="title mb-6" id="article-9450">Castle Demo App</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: February 25, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I thought about leaving the CRUD for Projects for the readers, but when I started to&#xA0;implement it myself, I realized that there were several things here that I hand&#x27;t explained. As a quick note, I made some modifications to the code, to structure it better, there shouldn&#x27;t be any changes to functionality, but I added a few utility functions and made some of the views more generalized.     In general, those changes are from having NoSuchUser and&#xA0;NoSuchProject views to having a single NoSuchObject view, nothing more. Okay, let&#x27;s talk about projects. A project is a little bit more complicated than a user, since it actually contains a reference to a user. This means that we can&#x27;t just use exact same techniques as we used for the CRUD operations on the User class. The changes are fairly minors, but they deserve their own post, so here it is, Views\Admin\EditProject.boo:             &lt;?brail                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; name = &quot;&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; defaultAssigneeId = -1                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; id = &quot;0&quot;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if ?project:                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0; name = project.Name                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0; defaultAssigneeId = project.DefaultAssignee.Id                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0; id = project.Id.ToString()                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;                                 ?&gt;                        ${HtmlHelper.Form(&#x27;SaveProject.rails&#x27;)}                        ${HtmlHelper.FieldSet(&#x27;Project Details:&#x27;)}                        ${HtmlHelper.InputHidden(&#x27;project.id&#x27;, id)}                        &lt;table&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;tr&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;td&gt;&#xA0;                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.LabelFor(&#x27;project.Name&#x27;,&#x27;Project name:&#x27;)}                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.InputText(&#x27;project.Name&#x27;,name, 50, 50)}                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;tr&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;tr&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.LabelFor(&#x27;project.DefaultAssignee.Id&#x27;,&#x27;Default Assignee:&#x27;)}                        &#xA0;&#xA0;&#xA0; &lt;/td&gt;                        &#xA0;&#xA0;&#xA0; &lt;td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.Select(&#x27;project.DefaultAssignee.Id&#x27;)}                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.CreateOptions(allUsers, &#x27;Name&#x27;,&#x27;Id&#x27;, defaultAssigneeId)}}                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ${HtmlHelper.EndSelect()}                        &#xA0;&#xA0;&#xA0; &lt;/td&gt;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &lt;/tr&gt;                        &lt;/table&gt;                        ${HtmlHelper.SubmitButton(&#x27;Save&#x27;)}                        ${HtmlHelper.EndFieldSet()}                        ${HtmlHelper.EndForm()}         Most of what you see here we have already seen. The only new thing is the Select in the end, which would display the list of all the users that who can be the default assignee to this project. A couple of words on the CreateOptions() method. The first parameter is the collection of items to use, the second is the display text, the third is the value text. The forth is the id of the selected object. As always, this view is going to be used for both editing a project and adding a new one.     Another thing to note is the bolded line at the start of the view, where we use the &#x27;?&#x27; prefix to denote an optional variable. Where before we have to use IsDefined(), we can now just use the &#x27;?&#x27; prefix to get a null result when the value has not been defined for the view.     Now we can turn to write the SaveProject() method, which is a bit more complicated:             &#xA0;&#xA0;&#xA0; public void SaveProject([ARDataBind(&quot;project&quot;, AutoLoadUnlessKeyIs = 0)]Project project,                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [ARFetch(&quot;project.DefaultAssignee.Id&quot;, Create=false, Required=true)] User defaultAssigneee)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RenderMessage( &quot;Back to Projects&quot;, &quot;Projects&quot;);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; try                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if (project.DefaultAssignee == null)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; project.DefaultAssignee = defaultAssigneee;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; project.Save();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flash[&quot;good&quot;] = string.Format(                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &quot;Project {0} was saved successfully.&quot;, project.Name);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; catch (Exception e)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flash[&quot;DataBindErrors&quot;] = project.ValidationErrorMessages;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flash[&quot;bad&quot;] = e.Message;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flash[&quot;Debug&quot;] = e.ToString();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0; }         As you can see, I&#x27;m using the ARDataBind for the project again, but now I combine it with ARFetch for the defaultAssignee. The reason for that is that while ARDataBind is smart enough to give me the correctly configured object when the object already exists in the database, it&#x27;s not smart enough to figure out the correct connections by itself, hence, the ARFetch attribute. It simply gives me back the object with the same id as the one that was passed, if I see that the Default Assignee property on the project is null (which will only happen when we create a new project), I set the defaultAssignee manually. ARFetch will simply load a value from the database based on its primary key, so it&#x27;s not as smart as ARDataBind, but as you can see, it certainly has it uses.     Here is the EditProject() and CreateProject() methods:             &#xA0;&#xA0;&#xA0; public void CreateProject()                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; AddAllUsersToPropertyBag();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RenderView(&quot;EditProject&quot;);                        &#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0; public void EditProject([ARFetch(&quot;id&quot;)]Project project)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; AddAllUsersToPropertyBag();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ValidateObjectToSendToView(&quot;project&quot;, &quot;Projects&quot;, project);                        &#xA0;&#xA0;&#xA0; }         There isn&#x27;t much going with them, CreateProject simply push all the users for the view to use, and render the EditProject view. EditProject uses ARFetch to get the correct project and make it (and all the users) available for the view to use. Here are the confirmProjectDelete and DeleteProject methods:             &#xA0;&#xA0;&#xA0; public void ConfirmDeleteProject([ARFetch(&quot;id&quot;)]Project project)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if (project == null)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RenderNoSuchObject(&quot;project&quot;);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RenderDelete(&quot;deleteProject&quot;, &quot;Projects&quot;, project);                        &#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0; public void DeleteProject([ARFetch(&quot;id&quot;)]Project project)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if (project == null)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RenderNoSuchObject(&quot;project&quot;);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; project.Delete();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; RedirectToAction(&quot;Projects&quot;);                        &#xA0;&#xA0;&#xA0; }         You can probably guess that I&#x27;m very much in love with the ARFetch attribute :-) I trust that there isn&#x27;t much need to explain what the code does, it&#x27;s pretty straight forward.&#xA0; Another change that I&#x27;ve made was with the Global.asax, where the code moved to a code behind file. I also added a session per request support, which will be helpful when we&#x27;ll start dealing with lazy collections:             public class MythicalBugTrackerApplication : HttpApplication                        {                        &#xA0;&#xA0;&#xA0; const string SessionScope = &quot;Active.Record.SessionScope&quot;;                                &#xA0;                        &#xA0;&#xA0;&#xA0; public override void Init()                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; base.Init();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; log4net.Config.DOMConfigurator.Configure();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Castle.ActiveRecord.Framework.IConfigurationSource source =                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; System.Configuration.ConfigurationManager.GetSection(&quot;activerecord&quot;) as Castle.ActiveRecord.Framework.IConfigurationSource;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Castle.ActiveRecord.ActiveRecordStarter.Initialize(typeof(MythicalBugTracker.Model.User).Assembly, source);                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; this.BeginRequest &#x2B;= new EventHandler(MythicalBugTrackerApplication_BeginRequest);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; this.EndRequest &#x2B;= new EventHandler(MythicalBugTrackerApplication_EndRequest);                        &#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0; void MythicalBugTrackerApplication_EndRequest(object sender, EventArgs e)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ISessionScope scope = Context.Items[SessionScope] as ISessionScope;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if (scope != null)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; scope.Dispose();                        &#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0; void MythicalBugTrackerApplication_BeginRequest(object sender, EventArgs e)                        &#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Context.Items.Add(SessionScope, new SessionScope());                        &#xA0;&#xA0;&#xA0; }                        }         The utility methods I added are:             ValidateObjectToSendToView - make sure that the object is not null (if yes, redirect to the NoSuchObject page) and push it to the view                 RenderNoSuchObject - display a generic error about missing object                 RenderDelete - render the cofirm delete page                 AddAllUsersToPropertyBag - make all the users avialable to the view                 RenderMessage - render the generic message (good, bad, debug, databind violations)         Note: You can now get the source for the Mythical Bug Tracker here, In order to run this code you need:            New build of castle, revision 1700 and onward at least (just get the latest from Subversion, that should be enough).            .Net 2.0            SQL Server or SQL Express    Enjoy,</p>
        </article>
        <div class="button flex justify-between">
            <a href="944.html"><span class="back arrow"></span></a>

            <a href="946.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>

<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;🚀&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="about.html"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="/pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>
