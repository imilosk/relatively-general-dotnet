
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 861 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-8601">
            <a href="https://ayende.com/blog/1822/bug-tracking-round-ii" target="_blank">
                <h2 class="title mb-6" id="article-8601">Bug Tracking, Round II</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I got a ton of suggestion to my Bug Tracking?&#xA0;question. As I mentioned, I don&#x27;t want to use BugZilla, and JIRA is out of the immediate price range that I have in mind - I really want it to be free :-) And although anything without per-user cost is good, JIRA is expensive, although it certainly worth the price.    I tried Gemini, but I managed to hit two seperate bugs in the space of an hour, one of them a show stopper, and it didn&#x27;t have an integration with Active Directory, which means that I need to handle more passowrd (bad thing in general). Leaving that aside for now, because I really liked the UI and it uses NHibernate.    I then started trying Trac, which was a bit hard to install on Windows, but I managed. The UI is really nice, and I love the SVN integration. It took me a couple of minutes to set it up with mod_python and Active Directory integration, so I don&#x27;t need to remember yet another password. I&#x27;m not crazy about the command line interface to admin the project, but it has a reasonable CLI UI, so it is not that bad. I tried the web admin plugin, but it didn&#x27;t work that well (kept erasing all the settings). One thing that bugs me :-) is that I can&#x27;t seem to figure out how to set a default component / ticket type / version.    Thanks for everyone who gave a suggestion to the previous post. I think that we will try that out for a while and see how it goes.</p>
        </article>
        <article id="article-8602">
            <a href="https://ayende.com/blog/1821/amusing-error" target="_blank">
                <h2 class="title mb-6" id="article-8602">Amusing error</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I got this error trying to build the mod_python extention:error: The .NET Framework SDK needs to be installed before building extensions for Python.    I am not sure what to say about this...</p>
        </article>
        <article id="article-8603">
            <a href="https://ayende.com/blog/1820/great-interview-question" target="_blank">
                <h2 class="title mb-6" id="article-8603">Great Interview Question</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I&#x27;m constantly on the look up for good questions to ask in interviews, mainly because &quot;describe the page life-cycle&quot; gets boring and I would like to get away from the page lifecycle myself. The problem with finding good questions is that it has to expose as much knowledge from the candidate, while keeping the answer short and possible to answer within the time limits of an interview.     Here is one that I just thought of: Given an Employee class, create a collection that accepts employees but doesn&#x27;t allow duplicate employees to be entered. You are free to use any of the classes in the .Net framework.     Basically, build&#xA0;a set class. This is a good question in my opinion because it tests a wide range of knowledge, in a short question, which can be implemented in about 10 minutes. The question test the following:             Basic data structure / efficencies knowledge - if they decide to use ArrayList and compare each time, that would cost in both time to develop and performance                 Thinking toward reuse - if they implement this from scratch (starting from building growable arrays and moving forward), that means that they either have a problem with knowing the building blocks of the framework or&#xA0;they suffer from NIH.                 Understanding basic idioms of the framework - implementing IEnumerable will make the collection usable for foreach(), for instnace.                 Understanding how low level stuff works - can they explain what reference equality vs. value equality is, can the explain how the Dictionary works?         It then leads to another question: In certain circumstances, I wasnt to be able to able to allow no employees with duplicate names, how would you extend the collection to support this?    And this question tests how they can extend an existing class, and whatever they can come up with something that fits into the .Net idioms cleanly. Adding a boolean to check for an employee name is not a good way to do this.    Here is what I would consider an excellent implementation (not great, because it doesn&#x27;t implement ICollection&lt;T&gt;):             public class EmployeesSet : IEnumerable&lt;Employee&gt;                        {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Dictionary&lt;Employee, object&gt; internalDic;                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public EmployeesSet()                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; internalDic = new Dictionary&lt;Employee, object&gt;();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public EmployeesSet(IEqualityComparer&lt;Employee&gt; comparer)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; internalDic=new Dictionary&lt;Employee, object&gt;(comparer);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public void Add(Employee item)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if(!Contains(item))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; internalDic.Add(item,null);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public bool Contains(Employee item)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return internalDic.ContainsKey(item);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public bool Remove(Employee item)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return internalDic.Remove(item);                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public int Count                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; get { return internalDic.Count; }                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; public IEnumerator&lt;Employee&gt; GetEnumerator()                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return internalDic.Keys.GetEnumerator();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                                &#xA0;                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; IEnumerator IEnumerable.GetEnumerator()                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; {                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; return internalDic.Keys.GetEnumerator();                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; }                        }</p>
        </article>
        <article id="article-8604">
            <a href="https://ayende.com/blog/1819/war-stories-check-the-stupid-stuff-too" target="_blank">
                <h2 class="title mb-6" id="article-8604">War Stories: Check the stupid stuff, too</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Mission Critical application, running quitely in production, suddenly stopped working. No warning, not errors. The application is still up, still running, but for all intent and purposes, it is not operational. I get a call that basically says: &quot;Fix it!&quot;    The main interface to this application (windows service) is a huge amount of logs that is being outputed. The target for the logs is&#xA0;the same&#xA0;SQL Server database that the application is using. Any error in this application should be logged and some errors should go directly to the administrators (and me).    But, the application is not doing its job, and worse, it doesn&#x27;t write anything to the logs. This is a heavily multi-threaded application, so the first thing that I thought of was a deadlock, but restarting the application didn&#x27;t help. I am on the phone with the sys-admin, going over the application configuration, trying to figure why it doesn&#x27;t even log its startup event (which is singled threaded, so no chance for deadlocks).    I give up and drive there. Restarting the service doesn&#x27;t help, and no logs are written, even thought the cofniguration seems just fine. The first thing that I do is taking a look at the logs table. But it currently has about 500,000 records, so queries take longer than instantenous. I get annoyed and try to add an index for the main search criterias. It errors. I double-check my syntax and tries again. It errors.    This time I read the error. It says that it doesn&#x27;t have enough space to create the index. I didn&#x27;t think that it is that large an index, but now I operate on a hunch. I tries to insert a row to the database (row size: 40bytes or so). The database refuses, says that it doesn&#x27;t have enough space.    They had a rigorous backup procedure that kept backups on the same disks as the database files and never purged them. Once I cleared some of the old backups, the application immediately resume normal processing.    Total time trying to fix the issue: ~3 hours.    Total time fixing the issues since arrival: ~10 minutes.</p>
        </article>
        <article id="article-8605">
            <a href="https://ayende.com/blog/1818/querying-collections-in-nhibernate" target="_blank">
                <h2 class="title mb-6" id="article-8605">Querying collections in NHibernate</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I got some interesting replies to my post about what not to do with ORM. I got several comments back, and the major one was how to do a query about an entity collections with using string concantation, which I said was a code smell.    Specifically, the most interesting challange was presented by Josh Robb, and it goes like this:    Blog    &#xA0;&#xA0;&#xA0; m:n Author    &#xA0;&#xA0;&#xA0; 1:m Posts    &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;n:m Categories    &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;1:m Comments    Find all Posts where: Blog.Author = &#x27;josh&#x27; and Categories includes &#x27;Nhibernate&#x27;&#xA0; and a Comment.Author = &#x27;ayende&#x27;.     This being a part of a search screen where you can searc h by mulitply criteria, which are change dynamically.&#xA0;This is interesting because is spans just about any interesting assoication type that exists. So I set up to figure out how to do this.    My first step was to try to understand what I want NHibernate to do, so I started by writing the SQL for the above query:            SELECT                        &#xA0;&#xA0;&#xA0; [post].[post_id],                        &#xA0;&#xA0;&#xA0; [post].[post_blogid]                        FROM                        &#xA0;&#xA0;&#xA0; [dbo].[Posts] post                                 INNER JOIN [dbo].[Blogs] blog                        &#xA0;&#xA0;&#xA0; ON post.post_blogid = blog.blog_id                                 INNER JOIN [dbo].[UsersBlogs] user2blog                        &#xA0;&#xA0;&#xA0; ON blog.blog_id = user2blog.blog_id                                 INNER JOIN [dbo].[Users] author                        &#xA0;&#xA0;&#xA0; ON author.user_id = user2blog.user_id                        WHERE                        &#xA0;&#xA0;&#xA0; author.user_name = &#x27;josh&#x27; AND                        &#xA0;&#xA0;&#xA0; EXISTS ( SELECT&#xA0;1        &#xA0;FROM                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [dbo].[Categories] category                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INNER JOIN [dbo].[PostsCategories] post2category                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ON post2category.category_id = category.category_id                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; category.name = &#x27;NHibernate&#x27; AND                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; post2category.post_id = post.post_id ) AND                        &#xA0;&#xA0;&#xA0; EXISTS ( SELECT         1         FROM                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [dbo].[Comments] comment                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INNER JOIN [dbo].[Users] commenter                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ON comment.user_id = commenter.user_id                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; comment.comment_postid = post.post_id AND                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; commenter.user_name = &#x27;Ayende&#x27; )a        Complex, isn&#x27;t it? There may be better ways to do this, but that is the most straight forward way I could think of.&#xA0; Here is the query in HQL:            select&#xA0;post from Post post, User user                        where&#xA0; user.UserName = &#x27;Josh&#x27;                                 and&#xA0;&#xA0;&#xA0; user in elements(post.Blog.Users)                                 and&#xA0;&#xA0;&#xA0;&#xA0;exists (from&#xA0;&#xA0;Category category                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; where post in elements(category.Posts)                                 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; and&#xA0;&#xA0;&#xA0;category.Name = &#x27;NHibernate&#x27;)                        and&#xA0;&#xA0;&#xA0;&#xA0;exists (from&#xA0;&#xA0;Comment comment                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;where comment.Post = post                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;and&#xA0;&#xA0;&#xA0;comment.Commenter.UserName = &#x27;Ayende&#x27;)        It generate nearly the same SQL that I wrote by hand, but uses tetha joins instead of ansi joins (I am not sure why, but the end result is the same).    Just a reminder, this isn&#x27;t just a single query, this is something that that needs to be built dynamically, and we wish to handle this without using string concantation.&#xA0;In general, this means using the Criteria API. The first problem is that NHibernate&#x27;s Criteria API doesn&#x27;t allow you to query collections. This is very bad when you consider that this query is all about collections.    Strings are bad, I said so myself, so I put decided to add this to NHibernate (add is too strong a word, I went to Hibernate&#x27;s source, found the relevant piece of code, and ported that). Now NHibernate can execute queries like section 15.8 in this page. All fine and dandy, until you get to the point where you need to query many-to-many assoications. You can&#x27;t do that using the Criteria API in NHibernate (nor in Hibernate, as far as I can tell).    Many to many assoications are a funny beast, since you need to join through a second table to get the real value. I played a bit trying to implement support for that, but I wasn&#x27;t successfull in the time frame that I could dedicate to it.    But, as the politician said, &quot;This is a great question, but let me answer this one instead.&quot;, let us see what happens when we don&#x27;t have many to many collections, shall we? The model is this, I change the assoication from Blogs to users to be a many to one, so a blog can now belong to a single author and remove categories.    Blog    &#xA0;&#xA0;&#xA0; m:1 Author    &#xA0;&#xA0;&#xA0; 1:m Posts    &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;1:m Comments    The query then becomes get all posts where:Blog.Author = &#x27;josh&#x27; and Post Title includes &#x27;Nhibernate&#x27;&#xA0; and a Comment.Author = &#x27;ayende&#x27;.     That being the case, we can use the following code the create the query (again, SVN trunk only, I am afraid):            DetachedCriteria theComment = DetachedCriteria.For(typeof(Comment))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .SetProjection(Projections.Property(&quot;id&quot;))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .Add(Expression.Property.ForName(&quot;Post.id&quot;).EqProperty(&quot;post.id&quot;))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .CreateCriteria(&quot;User&quot;)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .Add(Expression.Expression.Eq(&quot;Name&quot;, &quot;Ayende&quot;));                                &#xA0;                        IList list = s.CreateCriteria(typeof(Post), &quot;post&quot;)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .Add(Expression.Expression.Like(&quot;PostTitle&quot;, &quot;NHibernate&quot;,MatchMode.Anywhere))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .CreateCriteria(&quot;Blog.User&quot;)                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .Add(Expression.Expression.Eq(&quot;Name&quot;, &quot;Josh&quot;))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .Add(Subqueries.Exists(theComment))                        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; .List();        To conclude, at the moment NHibernate doesn&#x27;t support queries over memebers of many to many collections using the criteria API (at the moment). But it does offer a good way to handle queries over memebers of collections in nearly all other cases.    So, allow me to retract my words a bit, if you have dynamic queries and you need to handle many-to-many assoication, HQL is your only choice. Nevertheless, I would strongly suggest to encapsulate this in an OO layer that would generate HQL under the cover, rather than build the HQL dynamically in the UI layer.</p>
        </article>
        <article id="article-8606">
            <a href="https://ardalis.com/excel-pivot-tables-and-officewriter/" target="_blank">
                <h2 class="title mb-6" id="article-8606">Excel, Pivot Tables, and OfficeWriter</h2>
            </a>
            <p class="mb-2">by Ardalis</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 27, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I&#x2019;ve been playing around with trying to analyze some performance data that spans numerous periods over time as well as multiple channels&#x2026;Keep Reading &#x2192;</p>
        </article>
        <article id="article-8607">
            <a href="https://ayende.com/blog/1817/how-to-get-started-with-nhibernate" target="_blank">
                <h2 class="title mb-6" id="article-8607">How to get started with NHibernate?</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 27, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">A lot of my posts about NHibernate assume a certain level of familarity with the library and what it can do. For someone who doesn&#x27;t know NHibernate, I believe that it so much nonesense...    Anyway, this post is intended to give some information about kick-starting your NHibernate development.    The classic articles about NHibernate, at least for me, are the Server Side .Net ones, here&#xA0;and here, by Justin Gehtland.    There is, of course, the online manual, but that is for reference, not to get how to use it. The Officual Quick Start Guide&#xA0;will take you from &quot;NHibernate, huh?&quot; to wielding the NHibernate magic in a short time, but will skip the background. A great resource is this page, which aggregate a lot of this stuff.     There are two example applications for NHibreante: This&#xA0;one by Scott Bellware&#xA0;and this by Paul Wilson. While Cuyahoga is using NHibernate (and my site run on Cuyahoga), I wouldn&#x27;t recommend it to a beginner, it is definately a very advance application.    Ben Scheirman has a good series of posts about this, actually is it not so much about NHibernate per se, but how to structure your project to make it easier to work with (in general, and with NHibernate):                 A Journey with NHibernate - Part 1                        A Journey With NHibernate - Part 2                        A Journey With NHibernate (and DDD) - Part 3                 &#xA0;Journey with Domain Driven Design (and NHibernate) - Part 4                 A Journey with Domain Driven Design (and NHibernate) - Part 5                 A Journey with Domain Driven Design (and NHibernate) - Part 6                Benjamin has a lot to say about NHibernate. And Nikola has a very nice introductory post ot it here.     The Hibernate In Action book is wonderful, but many are holding back because they don&#x27;t want to read a &quot;java&quot; book. I know of at least one (good) NHibernate books that is going to be coming out soon, but until it does, Hibernate In Action remains the best resource to learning about NHibernate.</p>
        </article>
        <article id="article-8608">
            <a href="https://ayende.com/blog/1816/refactor-my-presentations-from-internal-to-public" target="_blank">
                <h2 class="title mb-6" id="article-8608">Refactor: My.Presentations From Internal To Public</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 27, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">It seems to me that I started to accomolate quite a few presentations, and in the spirit of not keeping stuff internal if I can make it public, I decided to publish them.    Here you can find all the public ones.     They are of varying quality, and are mostly used by me to keep me on track and not digress to interesting (but irrelevant) topics in mid talk.    Not suprisingly, most of them are about OR/M, specifically, Active Record and NHibernate. All the ones that start with &quot;NHibernate &quot; are from a course I gave on NHibernate nearly six months ago. The one about Active Record is from an internal presentation that I gave at work (not the one that I am going to give on Monday). There is also an Inversion of Control presentation that I never really had a chance to give for some reason, which I am particulary proud of.    Have fun, and if you intend to use this, I would like to get a link to any recording / video made.</p>
        </article>
        <article id="article-8609">
            <a href="https://ayende.com/blog/1815/my-jobs-site" target="_blank">
                <h2 class="title mb-6" id="article-8609">My Jobs Site</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 27, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Well, not exactly, but if you go to http://jobs.ayende.com&#xA0;you will find a customized version of Hidden Networks jobs, just for me.    Thanks for Alex for doing all the hard work...</p>
        </article>
        <article id="article-8610">
            <a href="https://ayende.com/blog/1814/messed-up-site" target="_blank">
                <h2 class="title mb-6" id="article-8610">Messed up site...</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: October 27, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">[Via Eber Irigoyen] [Via Javi Moya&#x27;s blog]    1. Highlight the text below    2. Ctrl&#x2B;C    3. Alt&#x2B;D (Ctrl&#x2B;L in opera) (or just go to the address bar)    4. Ctrl&#x2B;V    5. [Enter]    &#xA0;            javascript:scroll(0,0); R=0; x1=.1; y1=.05; x2=.25; y2=.24; x3=1.6; y3=.24; x4=300; y4=200; x5=300; y5=200; DI=document.getElementsByTagName(&quot;img&quot;); DIL=DI.length; function A(){for(i=0; i-DIL; i&#x2B;&#x2B;){DIS=DI[ i ].style; DIS.position=&#x27;absolute&#x27;; DIS.left=(Math.sin(R*x1&#x2B;i*x2&#x2B;x3)*x4&#x2B;x5)&#x2B;&quot;px&quot; DIS.top=(Math.cos(R*y1&#x2B;i*y2&#x2B;y3)*y4&#x2B;y5)&#x2B;&quot;px&quot;}R&#x2B;&#x2B;}setInterval(&#x27;A()&#x27;,5); void(0);         Here is how my site looks like after doing this.</p>
        </article>
        <div class="button flex justify-between">
            <a href="860.html"><span class="back arrow"></span></a>

            <a href="862.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>