
<!DOCTYPE html>
<html class="scroll-smooth" lang="en-US" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title>Page 921 â€¢ Relatively General .NET</title>
    <link href="favicon.ico" rel="icon" sizes="any">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <meta content="hsl()" name="theme-color">
    <meta content="website" property="og:type">
    <meta content="Home" property="og:title">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="pagefind/pagefind-ui.css">
    <!-- Google Analytics -->
    <script>
        // Only load GA if consent is given
        function loadGA() {
            const script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-MDFXJY3FCY';
            script.async = true;
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());
            gtag('config', 'G-MDFXJY3FCY');
        }

        // Check if consent was previously given
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGA();
        }
    </script>
    <!-- End Google Analytics -->
</head>
<body class="mx-auto flex min-h-screen max-w-3xl flex-col bg-bgColor px-4 pt-16 font-mono text-sm font-normal text-textColor antialiased sm:px-8">

<a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">
    skip to content
</a>
<header class="group relative mb-28 flex items-center sm:ps-[4.5rem]" id="main-header">
    <div class="flex sm:flex-col">
        <a aria-current="page" class="inline-flex items-center hover:filter-none sm:relative sm:inline-block"
           href="index.html">
            <img class="me-3 sm:absolute sm:start-[-4.5rem] sm:me-0 sm:h-16 sm:w-16 w-16" src="images/giphy.gif"
                 alt=""/>
            <span class="text-xl font-bold sm:text-2xl">Relatively General .NET</span>
        </a>
        <nav aria-label="Main menu"
             class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
             id="navigation-menu">
            <a aria-current="page" class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline"
               href="index.html"> Home </a><a
                class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" href="/about/">
                About </a>
        </nav>
    </div>
    <site-search class="ms-auto" id="search">
        <button id="open-search"
                class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2"
                data-open-modal="">
            <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" stroke="none"></path>
                <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path>
            </svg>
        </button>
        <dialog aria-label="search"
                class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md">
            <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6">
                <button id="close-search"
                        class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700"
                        data-close-modal="">Close
                </button>
                <div class="search-container">
                    <div id="cactus__search"/>
                </div>
            </div>
        </dialog>
    </site-search>
    <theme-toggle class="ms-2 sm:ms-4">
        <button id="theme-toggle" class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2"
                type="button">
            <span class="sr-only">Dark Theme</span>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0"
                 fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100"
                 fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
                <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
                <path d="M19 11h2m-1 -1v2"></path>
            </svg>
        </button>
    </theme-toggle>
    <mobile-button>
        <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu"
                class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button">
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
                 fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <svg aria-hidden="true"
                 class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
                 fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </button>
    </mobile-button>
</header>
<main id="main" data-pagefind-body>
    <section aria-label="Blog post list">
        <article id="article-9201">
            <a href="https://ayende.com/blog/1214/saving-graphs-as-code-dom-part-2" target="_blank">
                <h2 class="title mb-6" id="article-9201">Saving graphs as Code Dom, part 2</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 29, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I posted a few days ago about Saving object graphs to file: CodeGen and Executable GraphsI just wrote the final test that made it all happen! I got objects that knows how to persist their state to code, and then load themselves right back from this code.This is the first time I worked in Code Dom, and it was very easy to get it to work very quickly.This is a huge security hole, of course, but I&#x27;ll probably just play with the AppDomain permissions so the only thing it will be able to do is to give me the complete object graph. I got to say, there is quite a bit of satisfaction in saving files in this format. Very readable.</p>
        </article>
        <article id="article-9202">
            <a href="https://ayende.com/blog/1213/you-know-youve-been-doing-too-much-codedom-when" target="_blank">
                <h2 class="title mb-6" id="article-9202">You know you&#x27;ve been doing too much CodeDom when...</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 29, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">You start throwing InvalidOperationExpression all over the place :-)</p>
        </article>
        <article id="article-9203">
            <a href="https://ayende.com/blog/1212/after-talking-about-the-entityset-so-long" target="_blank">
                <h2 class="title mb-6" id="article-9203">After talking about the EntitySet so long...</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 29, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I just run into a bug that happened because I used EntitySets.I was relying that the order I&#x27;ll get the items from the set will be identical to the order I inserted them.It even pass a couple of tests when I wrote this, but it started to break today until I figured out what was wrong. A quick change to EntityList (which does have this guarantee) solved the problem.</p>
        </article>
        <article id="article-9204">
            <a href="https://ayende.com/blog/1211/more-funny-code" target="_blank">
                <h2 class="title mb-6" id="article-9204">More Funny Code</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 29, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">How fast can you understand what is going on in here?&#xA;public&#xA0;int&#xA0;Calc(){&#xA0; int&#xA0;@return&#xA0;=&#xA0;0;&#xA0;&#xA0;return&#xA0;@return;}&#xA;I&#x27;m consderring moving to this as a way to name my return variables.</p>
        </article>
        <article id="article-9205">
            <a href="https://ayende.com/blog/1210/dotnetrocks-169-second-take-o-rm" target="_blank">
                <h2 class="title mb-6" id="article-9205">DotNetRocks #169, Second Take: O/RM</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 29, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I listened to the rest of the&#xA0;DotNetRocks &#xA;episode 169 with Rocky Lhotka. This time, I wanted to comment about the part &#xA;where Rocky talks about ORM. Before everything else, I would like to comment on &#xA;something he said about Microsoft and O/RM.&#xA;He said that most O/RM are using Reflection, and that only Microsoft can &#xA;solve this issue, because the can modify the CLR to allow direct access to &#xA;private fields.&#xA;I wanted to note that there is already such a thing in .Net 2.0, and it is &#xA;called LCG (Lightwieght Code Generation), and it basically means that you can &#xA;inject a method into a class, which will have full access to all the class&#x27; &#xA;members, regardless of visibility (just as any class on the object does). There &#xA;is a patch for NHibernate that allows it to use this functionality in .Net 2.0, &#xA;so you don&#x27;t need to me Microsoft to use this.&#xA;I would also like to comment that NHibernte is already avoiding Reflection &#xA;whenever possible, relying on runtime code generation to read and write to &#xA;public properties / fields.&#xA0;&#xA;I want to address another part of what he said, where he said that O/RM &#xA;assumes that objects are structure the same way as the database is. Only the &#xA;simplest O/RM assumes this. One of the important charactaristics of objects is &#xA;not the data they contain, but what type of object you have, and what relations &#xA;it has to other objects. A good O/RM will know to map the schema of a database &#xA;to your object structure without impacting the design of the object.&#xA;In fact, I would go as far as to say that this is the criteria of good &#xA;O/RM.</p>
        </article>
        <article id="article-9206">
            <a href="https://ayende.com/blog/1209/dotnetrocks-169-and-tdd" target="_blank">
                <h2 class="title mb-6" id="article-9206">DotNetRocks #169 and TDD</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 29, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I was listening yesterday to DotNetRocks episode 169 with Rocky Lhotka, and I was muttering &quot;WTF??!!&quot; throughout the first part of the show.    The issue that I had was Rocky talking about TDD and saying stuff that simply didn&#x27;t match the reality, not by a long shot. Jeffery Palermo&#xA0;post about it as well, by the way.    Rocky&#x27;s main objections seem to be:When you are working Test First, you don&#x27;t get intelli sense for classes and methods that don&#x27;t exists, and that seem to hurt his development style.     First, what is the problem. You just created a class, why do you need intelli sense for something that you&#x27;ll write in a few minutes? Yes, it is convient, but the rate of creating new methods / classes in my code is not high enough that I will forget that I created that class 3 minutes ago and need to think about the interfce I want to give it.    Second, good enough tools like the wonderful ReSharper or VS.Net 2005 (far less powerful) will gladly create classes and method for you on the fly when you refer to something that do not exist. This is not an issue.Test First require that you will first write the test, and then write the code. Doesn&#x27;t mesh well with programming by the wizards.     Considerring that most of the wizards have to do with UI in the first place, and considerring the big problems in testing UI, I would say that this is a non issue. If I think that I need something that doesn&#x27;t work directly in the UI, I can&#x27;t see how the wizards and the tools will help me any. I am aware that other people feels just the opposite.    That said, do you really think that you can trust the code that the wizard generates? Or are you going to run it through it paces a few times, just to make sure it works? If you intend to check it yourself, you need a test for this (or several). You will change this part of the code, and you need it covered. I would also argue that you get far better design and working experiance when working in TDD fashion that you do with all the wizards.You write a bunch of tests, and then you&#x27;ve to write the code to make them work, which is hard.    You know what, he is right on this one, which is why you never write a bunch of tests and then try to implement them. You write one test, then you make it work, then you write another test, etc.On a large system, it is hard to test one method at a time.    This is possible, and it indicate a design problem in the code, fix it. Check out &quot;Working Effectively With Legacy Code&quot; for the details. I can&#x27;t imagine trying to change something in a large system without tests. How do I know that I didn&#x27;t break anything?    If he is talking that it is hard to TDD a feature with small increments, than he is right, it takes some work. The end result is worth it since you got a decoupled design you know is working.Ater writing a test, developers fear to refactor the system, since it will break the test.    I was literally ranting at this point, and this one is really over the top. If I have ever heard a falser statement... TDD is made up of three things: &quot;Red, Green, Refactor&quot;. If you don&#x27;t do all three, you are not doing TDD. What he calls refactoring is not that, it&#x27;s random code movement through the code, with the prevent wishes of the developer that he isn&#x27;t breaking anything. Thanks, but &quot;Code and Pray&quot; are not for me.It&#x27;s easy to write your own test harness in&#xA0;a couple of lines.    Yes, it is easy, but you are only running one test that you keep changing, you are not check other parts of the code, can&#x27;t add it to the build process, etc. In essense, this &quot;test harness&quot; is merely a way to execute the code as it would be on the production system, so you could debug the problems. I would rather not debug at all, and get a nice warm blanket of tests telling me where I am doing wrong.</p>
        </article>
        <article id="article-9207">
            <a href="https://ayende.com/blog/1208/appropriate-comments" target="_blank">
                <h2 class="title mb-6" id="article-9207">Appropriate Comments</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Both Analtoly and Oren Ellenbogen&#xA0;&#xA0;had commented on my commenting post (pun intended). The example we are using right now is this piece of code:            outputs&#xA0;=&#xA0;new&#xA0;EntitySet&lt;IConnection&gt;(        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;delegate(IConnection&#xA0;connection)&#xA0;{&#xA0;Raise(OutputAdded,&#xA0;connection);&#xA0;},        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;delegate(IConnection&#xA0;connection)&#xA0;{&#xA0;Raise(OutputRemoved,&#xA0;connection);&#xA0;}        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;);         I argue that this piece of code should stand on its own, without any comments to explain what is going here. I think at least part of the issue here is that I am focusing entirely on the comments on the code and not XML Comments. Here is the code for the EntitySet, the class start with a big XML comment that start with general explanation on the class and then goes on to some detail with regard to some detailed implementation that has to do with NHibernate.    To quote the first part of the comments:///&#xA0;This&#xA0;class&#xA0;handle&#xA0;strong&#xA0;typing&#xA0;collections&#xA0;that&#xA0;you&#xA0;get&#xA0;from        ///&#xA0;NHibernate.        ///&#xA0;It&#xA0;also&#xA0;handles&#xA0;adding/removing&#xA0;items&#xA0;to&#xA0;the&#xA0;other&#xA0;end&#xA0;(by&#xA0;allowing        ///&#xA0;you&#xA0;to&#xA0;specify&#xA0;delegates&#xA0;to&#xA0;do&#xA0;it).    And the constructor that I&#x27;m calling about is defined as:public&#xA0;EntitySet(Action&lt;T&gt;&#xA0;add,&#xA0;Action&lt;T&gt;&#xA0;remove)    Putting this two together, I&#x27;m comportable with not commenting what is going on in the output declaration. It should be obvious by reading the xml comment on EntitySet&lt;T&gt; and seeing the constructor overload I&#x27;m using.    With regard to commenting on a library code, Anatoly said:When you call the library function, the comment what the function does should be in the header of the function. When you change implementation you change the comment. When you call the library function (even in several places) need to say what the line of code does (calling x expecting y) here it may be very light.&#xA0;But still need to comment.     If I need to comment on the callsite for a method, that is a sign for bad design on my code. The possible exceptions is I&#x27;m doing something non standard there (like expecting spesific result because the conditions are just right) and if I&#x27;m doing it more than once, I need to refactor to remove the comments.    The case above is a classic one, I think. If you don&#x27;t understand what is going on there, you really don&#x27;t understand what is going here. It&#x27;s not a question of not understanding some side affects. In this case it&#x27;s whatever you know what the library does or not. Ayende:&#xA0;You seem to say that the code should be optimized for someone completely ignorant about the project, just seating down and understanding what is going on.             Anayoly: Something like this. My point is that clear and self-descriptive code is a must but it does not mean that you don&#x27;t need comments.         This is the part I disagree with most strongly, I think. Clear code doesn&#x27;t need call site comments. They are a chore to write when you write the code, they are noise when you read the code. On heavily commented code, my eyes gets into &#x27;ads-skipping&#x27; mode, and I literally don&#x27;t see them more than green blurs on the screen.    I tend to think that a big enough project require some rumping up time before you understand what is going on. Anatoly says that it is possible to have a new guy on a project and starting to contribute useful features in a very short times (minutes to hours).I&#x27;ve seen accessible projects. You feel the difference right away.     Could you explain what made it accessible? Was it that you were familiar with the technology and the development methods that were used? Was it good documentation? How much time did you spend reading the comments in the code in order to learn what is going on there. I said in the comment that I believe that it is possible only on &quot;common ground&quot; projects, where the architecture is mostly the same.     Moving to Oren&#x27;s comment about this now. The first suggestion that you had (refactor creating the outputs into a method that would have a comment there) is something that I would generally prefer to do if the code needed explaining. In this case, do you think that the comments on the class and the naming of the parameters are enough?It seems to me (I&#x27;m guilty at this as well) that you fall in love with complex code but you forgot that someone else would have to maintain your code somewhere in the future.     Yes, and no. I sometimes does complex code for the fun of it, but I don&#x27;t intend to take this code to production. There is some elegance for complex code that works. But if I look at it afterward and need&#xA0;more than a&#xA0;minute to understand what i did there, it&#x27;s useless, in my eyes. This is part of the reason I like peer programming. You can&#x27;t do stuff too complicated without sounding it out first, and then the other guy will likely offer a better / simpler way to do this.    I just had a case where i wrote a method that passed a test, but when I went back to the method and looked at it, I had no idea what was going there. I ended up breaking the method to several smaller methods, so I got something like:            AssertNoCycles();        List&lt;Node&gt;&#xA0;visited&#xA0;=&#xA0;new&#xA0;List&lt;Node&gt;();        foreach(Node&#xA0;node&#xA0;in&#xA0;graph.Nodes)        {        &#xA0;&#xA0;&#xA0;&#xA0;DoWork(node,&#xA0;visited);        }        AssertAllNodeWereVisited(visited)        Imagine that each of those methods in inlined, and you&#x27;ll start to see the problem, I guess. My first instinct is to break the code to manageble pieces rather than explain what I did there.    I liked Oren&#x27;s second suggestion, which is to have a certral repository of &quot;Required Reading&quot; before you can work on the project. I&#x27;m not talking about 1,600 design guides. I&#x27;m talking about much simpler stuff like: This project uses the following libraries, and here are the documentation. You probably need to check the following three links to get up to speed with what they do, and we are using them to do this and that (links to everything).     This allows you to assume a common base for the people that would work on the project.</p>
        </article>
        <article id="article-9208">
            <a href="https://ayende.com/blog/1207/election-day" target="_blank">
                <h2 class="title mb-6" id="article-9208">Election Day</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">I&#xA;thought that I would do the world a service and inform them who I&#x27;m going to be&#xA;voting for:&#xA;&#xA;&#xA0;&#xA;&#xA;&#xA;&#xA;&#xA0;&#xA;&#xA;Overall,&#xA;I find that they gave this company has the highest standards and the most&#xA;consistent plans for the future. I also liked the fact that they bribed me to&#xA;vote for them and that their campaign remained aloof from childish attacks on&#xA;the competitors.</p>
        </article>
        <article id="article-9209">
            <a href="https://ayende.com/blog/1206/more-on-comments-and-code" target="_blank">
                <h2 class="title mb-6" id="article-9209">More on comments and code</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 28, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Anatoly Lubarsky&#xA0;has commented&#xA0;on my previous post about commenting:Sorry for this but you are totally wrong.         I don&#x27;t want to search or read documentation or debug to understand your code.         It is totally useless work until you write for yourself only.             I also don&#x27;t like this code and don&#x27;t think it is descriptive.    I started to reply, but it turned to be pretty long and pretty important, so I&#x27;m posting it here.    Codebases do not exist in isolation. Explaining what is happening in the code because it&#x27;s not doing the common thing get repetitive and annoying very quickly. To take few examples:    EntitySet&lt;T&gt; and its associated actions are not simple to grasp, but the moment you grasp them, there isn&#x27;t any point to comments, it is just as useless as the &quot;disable the button&quot; one. Take a look at the code here. This is not commented, and is not likely to be. The moment you understand that EntitySet will call the delegate methods on add and removal, it should be clear what is going here. In this case, the collection will raise events in the parent class with very little coding on our part. Could this use a comment for somebody other than me?     Well, this did deserve its own post when I did it, so I guess that this means that I admit that it is not something trivial (not that I don&#x27;t post about trivialities), but the other approach means that the code will look like:            //&#xA0;This&#xA0;will&#xA0;raise&#xA0;the&#xA0;OutputAdded&#xA0;event&#xA0;when&#xA0;a&#xA0;connection&#xA0;is&#xA0;added&#xA0;to&#xA0;the&#xA0;outputs                //&#xA0;and&#xA0;OutputRemoved&#xA0;event&#xA0;when&#xA0;a&#xA0;connection&#xA0;is&#xA0;removed&#xA0;from&#xA0;the&#xA0;outputs.                outputs&#xA0;=&#xA0;new&#xA0;EntitySet&lt;IConnection&gt;(        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;delegate(IConnection&#xA0;connection)&#xA0;{&#xA0;Raise(OutputAdded,&#xA0;connection);&#xA0;},        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;delegate(IConnection&#xA0;connection)&#xA0;{&#xA0;Raise(OutputRemoved,&#xA0;connection);&#xA0;}        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;);                                //&#xA0;This&#xA0;will&#xA0;raise&#xA0;the&#xA0;InputAdded&#xA0;event&#xA0;when&#xA0;a&#xA0;connection&#xA0;is&#xA0;added&#xA0;to&#xA0;the&#xA0;outputs                //&#xA0;and&#xA0;InputRemoved&#xA0;event&#xA0;when&#xA0;a&#xA0;connection&#xA0;is&#xA0;removed&#xA0;from&#xA0;the&#xA0;inputs.                inputs&#xA0;=&#xA0;new&#xA0;EntitySet&lt;IConnection&gt;(        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;delegate(IConnection&#xA0;connection)&#xA0;{&#xA0;Raise(InputAdded,&#xA0;connection);&#xA0;},        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;delegate(IConnection&#xA0;connection)&#xA0;{&#xA0;Raise(InputRemoved,&#xA0;connection);&#xA0;}        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;);                Take a look at this code, it explains what is going on here, but is it useful&#xA0;to you? The first time, maybe. But the second time? And the third? And the 100th? This code has a comment bug in it, by the way. Can you find it?     Here is another example, this time it is from NHibernate Query Analyzer and it has to do with executing a database query in a background thread. This is complex stuff, I am sure that you would agree:ICommand&#xA0;execQuery&#xA0;=&#xA0;new&#xA0;ExecuteQueryCommand(view,&#xA0;mainPresenter.CurrentProject,&#xA0;view.HqlQueryText,&#xA0;typedParameters);    mainPresenter.EnqueueCommand(execQuery);    Here is the commented version of this code:            //&#xA0;This&#xA0;command&#xA0;will&#xA0;be&#xA0;executed&#xA0;in&#xA0;a&#xA0;background&#xA0;thread.&#xA0;ExecuteQuery&#xA0;will&#xA0;take&#xA0;care&#xA0;of&#xA0;syncronizing&#xA0;the&#xA0;updates&#xA0;to&#xA0;UI&#xA0;and&#xA0;notifing&#xA0;it&#xA0;                //&#xA0;it&#xA0;when&#xA0;it&#xA0;was&#xA0;done&#xA0;or&#xA0;it&#xA0;failed.                ICommand&#xA0;execQuery&#xA0;=&#xA0;new&#xA0;ExecuteQueryCommand(view,&#xA0; mainPresenter.CurrentProject, view.HqlQueryText, typedParameters)                                //&#xA0;Enqueues&#xA0;the&#xA0;command&#xA0;on&#xA0;the&#xA0;main&#xA0;presenter&#xA0;work&#xA0;items&#xA0;queue,&#xA0;which&#xA0;will&#xA0;be&#xA0;picked&#xA0;by&#xA0;the&#xA0;background&#xA0;thread&#xA0;                //&#xA0;as&#xA0;soon&#xA0;as&#xA0;it&#xA0;is&#xA0;done&#xA0;with&#xA0;other&#xA0;stuff. This allows to keep a responsive UI in the face of long-running queries.                mainPresenter.EnqueueCommand(execQuery);&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;        Now it also explain what is happening, and you know that the ExecuteQuery class will take care of handling returning the query to the UI. But I&#x27;m using code similar to this one for all my multi-threaded communication, do I really need to give basicaly the same comment over and over again? Do I need to do it just once? What if the other guy that is maintaning the code is looking at another location where I did this, but not where I left the comment?    Here is another example. Here Blog is an Active Record class with a lazy loading for Posts:            Blog&#xA0;blog;        using(new&#xA0;SessionScope())        {        &#xA0;&#xA0;&#xA0;blog&#xA0;=&#xA0;Blog.Find(id);        }        foreach(Post&#xA0;p&#xA0;in&#xA0;blog.Posts)        {        &#xA0;&#xA0;&#xA0;//&#xA0;do&#xA0;something                }        This is wrong. It will throw an exception when you try to access the Posts collection, but unless you are familiar with the way Active Record works (or you already go this exception), it will make not sense. Do I need to put the foreach inside the using and explain why? What about all the dozens of other places where I access lazy loaded collections (something that is certainly not obvious)?    Like I said, I don&#x27;t believe that comments should be used to communicate the common stuff (even if it is not obvious). If you try to work with any code base of meaningful size, you either has to avoid doing anything of any complexity (which mean a lot of repetitiveness) or you are going to develop common idions (for this spesific codebase) for dealing with it. Not reading the documentation {best scenario}&#xA0;(or talking to other team members, or reading the tests and sweaping the code) when you are new to a project makes absolutely no sense unless you are confident that you can manage as you go along.    A project has common idioms for dealing with problems. In the context of the project, explaining what they do amounts to commenting &quot;adding 1 to x&quot; when you use: x&#x2B;&#x2B;. When I work, I assume that the other people working on the project are familiar with the same idioms. Yes, it make it harder to understand the code in the start, but show me one significant project when someone can just come in, have a few minutes to look at the code and can start real work on it.</p>
        </article>
        <article id="article-9210">
            <a href="https://ayende.com/blog/1205/ideal-xp-environment" target="_blank">
                <h2 class="title mb-6" id="article-9210">Ideal XP environment</h2>
            </a>
            <p class="mb-2">by Oren Eini</p>
            <p class="mb-6 flex gap-1.5">
                    <span>
                        <svg width="1.25rem" fill="currentColor" viewBox="0 0 24 24"
                             xmlns="http://www.w3.org/2000/svg"><path
                                xmlns="http://www.w3.org/2000/svg"
                                d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V11.5858L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L11.2929 12.7071C11.1054 12.5196 11 12.2652 11 12V7C11 6.44772 11.4477 6 12 6Z"></path></svg>
                    </span>
                posted on: March 27, 2006
            </p>
            <p class="max-w-full w-full line-clamp-5 text-justify mb-20">Continuing on the TDD list, this message&#xA0;from Robert Hanson has the best description of the goals of XP that I&#x27;ve ever read.             In an excellent programming environment there is no fear.                            The customer has told us exactly what he values most. I have no fear that I might be working on something he does not want.                             The code I&#x27;m working on is test driven. I have no fear (or at least, very little fear) that the code might do something I don&#x27;t want it to do.                             All other code has unit tests; and I have continuous integration in place. I have no fear that my code will break something without me knowing it; and I have every confidence that if it does break, I can quickly find the problem and fix it, and verify that the fix works and does not break anything else.                             I have source code control in place; if a change is really catastrophic, I just go back to yesterday&#x27;s version and start over.                             I have short iterations, so that I have no fear that if priorities or business needs change, I can adapt to the new requirements without fear.                             I have a pair, which I change every few hours or at the start of each day. I don&#x27;t worry that some key piece of knowledge is known by just one person.                         And boy, do I wish I actually worked at a place like this.         I wish I worked there too. Check out the replies, they contain some great discussion.</p>
        </article>
        <div class="button flex justify-between">
            <a href="920.html"><span class="back arrow"></span></a>

            <a href="922.html"><span class="next arrow"></span></a>
        </div>
    </section>
</main>
<footer
    class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs">
    <div class="me-0 sm:me-4">
        <div class="flex flex-wrap items-end gap-x-2">
            <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
                <li class="flex">
                    <p class="flex items-end gap-2 justify-center flex-wrap	">Â© Relatively General
                        .NET 2025<span
                            class="inline-block">&nbsp;ðŸš€&nbsp;Theme: Astro Cactus</span>

                        <a class="inline-block sm:hover:text-link" href="https://github.com/chrismwilliams/astro-cactus"
                           rel="noopener noreferrer " target="_blank">
                            <svg width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6"
                                 focusable="false" data-icon="mdi:github">
                                <symbol id="ai:mdi:github">
                                    <path fill="currentColor"
                                          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path>
                                </symbol>
                                <use xlink:href="#ai:mdi:github"></use>
                            </svg>
                            <span class="sr-only">Github</span>
                        </a>
                    </p>
                </li>
            </ul>
        </div>
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500">
        <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="index.html"> Home </a><a
            class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/about/"> About </a>
    </nav>
</footer>
<script src="js/script.js?id=af8f4559935e7bf5bf6015373793411d"></script>
<script src="pagefind/pagefind-ui.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-consent" id="cookieConsent">
    <div>
        <p class="text-sm">We use cookies to analyze our website traffic and provide a better browsing experience. By
            continuing to use our site, you agree to our use of cookies.</p>
    </div>
    <div class="cookie-consent-buttons">
        <button class="cookie-consent-decline" onclick="declineCookies()">Decline</button>
        <button class="cookie-consent-accept" onclick="acceptCookies()">Accept</button>
    </div>
</div>

<script>
    // Cookie consent management
    function showCookieConsent() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            document.getElementById('cookieConsent').classList.add('show');
        }
    }

    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieConsent').classList.remove('show');
        loadGA(); // Load Google Analytics after consent
    }

    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieConsent').classList.remove('show');
    }

    // Show the consent banner only for EU visitors (you can add more country codes as needed)
    fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const euCountries = ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE'];
                if (euCountries.includes(data.country_code)) {
                    showCookieConsent();
                } else {
                    // For non-EU visitors, automatically load GA
                    if (!localStorage.getItem('cookieConsent')) {
                        localStorage.setItem('cookieConsent', 'accepted');
                        loadGA();
                    }
                }
            })
            .catch(() => {
                // If we can't determine location, show the consent banner to be safe
                showCookieConsent();
            });
</script>
</body>
</html>